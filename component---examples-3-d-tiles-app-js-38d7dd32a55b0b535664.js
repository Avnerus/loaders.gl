(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{192:function(e,r,n){"use strict";n.r(r);n(269),n(7),n(242);var t=n(16),i=n.n(t),a=n(2),o=n.n(a),s=n(0),u=n.n(s),c=n(44),f=n(385),l=n(257),p=n(387),d=n(354),h=n(355),y=n(356),b=n.n(y),g=n(357),v=n(358);"TextEncoder"in d.a||!h.b||(d.a.TextEncoder=h.b),"TextDecoder"in d.a||!h.a||(d.a.TextDecoder=h.a),d.b||"fetch"in d.a||!b.a||(d.a.fetch=b.a),d.b||"_encodeImageNode"in d.a||!g.encodeImageNode||(d.a._encodeImageNode=g.encodeImageNode),d.b||"_parseImageNode"in d.a||!v.parseImageNode||(d.a._parseImageNode=v.parseImageNode);var _=n(220),m=n(223),w={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GEOMETRY:"geom",VECTOR:"vect"},T=(n(202),n(216)),O=n(230);function I(e,r,n){Object(T.a)(e instanceof ArrayBuffer);var t=new O.a("utf8"),i=new Uint8Array(e,r,n);return t.decode(i)}n(254);var A,E=n(364),x=n(360),N={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},S=(n(31),n(303),n(255),n(256),n(241),n(243),n(231),n(304),(A={})[N.DOUBLE]=Float64Array,A[N.FLOAT]=Float32Array,A[N.UNSIGNED_SHORT]=Uint16Array,A[N.UNSIGNED_INT]=Uint32Array,A[N.UNSIGNED_BYTE]=Uint8Array,A[N.BYTE]=Int8Array,A[N.SHORT]=Int16Array,A[N.INT]=Int32Array,A),B={DOUBLE:N.DOUBLE,FLOAT:N.FLOAT,UNSIGNED_SHORT:N.UNSIGNED_SHORT,UNSIGNED_INT:N.UNSIGNED_INT,UNSIGNED_BYTE:N.UNSIGNED_BYTE,BYTE:N.BYTE,SHORT:N.SHORT,INT:N.INT},C=function(){function e(){}return e.fromTypedArray=function(e){for(var r in e=ArrayBuffer.isView(e)?e.constructor:e,S){if(S[r]===e)return r}throw new Error("Failed to convert GL type")},e.fromName=function(e){var r=B[e];if(!r)throw new Error("Failed to convert GL type");return r},e.getArrayType=function(e,r){switch(void 0===r&&(r=!1),e){case N.UNSIGNED_SHORT_5_6_5:case N.UNSIGNED_SHORT_4_4_4_4:case N.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:var n=S[e];if(!n)throw new Error("Failed to convert GL type");return n}},e.getByteSize=function(r){return e.getArrayType(r).BYTES_PER_ELEMENT},e.validate=function(r){return Boolean(e.getArrayType(r))},e.createTypedArray=function(r,n,t,i){return void 0===t&&(t=0),void 0===i&&(i=(n.byteLength-t)/e.getByteSize(r)),new(e.getArrayType(r))(n,t,i)},e}(),k=function(){function e(e,r){this.json=e,this.buffer=r,this.featuresLength=0,this._cachedTypedArrays={}}var r=e.prototype;return r.getExtension=function(e){return this.json.extensions&&this.json.extensions[e]},r.hasProperty=function(e){return Boolean(this.json[e])},r.getGlobalProperty=function(e,r,n){void 0===r&&(r=N.UNSIGNED_INT),void 0===n&&(n=1);var t=this.json[e];return t&&Number.isFinite(t.byteOffset)?this._getTypedArrayFromBinary(e,r,n,1,t.byteOffset):t},r.getPropertyArray=function(e,r,n){var t=this.json[e];return t&&Number.isFinite(t.byteOffset)?("componentType"in t&&(r=C.fromName(t.componentType)),this._getTypedArrayFromBinary(e,r,n,this.featuresLength,t.byteOffset)):this._getTypedArrayFromArray(e,r,t)},r.getProperty=function(e,r,n,t,i){var a=this.json[e];if(!a)return a;var o=this.getPropertyArray(e,r,n);if(1===n)return o[t];for(var s=0;s<n;++s)i[s]=o[n*t+s];return i},r._getTypedArrayFromBinary=function(e,r,n,t,i){var a=this._cachedTypedArrays,o=a[e];return o||(o=C.createTypedArray(r,this.buffer.buffer,this.buffer.byteOffset+i,t*n),a[e]=o),o},r._getTypedArrayFromArray=function(e,r,n){var t=this._cachedTypedArrays,i=t[e];return i||(i=C.createTypedArray(r,n),t[e]=i),i},e}();n(19),n(14),n(11),n(233);function P(e,r){if(!e)throw new Error(r||"3d-tile loader: assertion failed.")}var L={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},j={SCALAR:function(e,r){return e[r]},VEC2:function(e,r){return[e[2*r+0],e[2*r+1]]},VEC3:function(e,r){return[e[3*r+0],e[3*r+1],e[3*r+2]]},VEC4:function(e,r){return[e[4*r+0],e[4*r+1],e[4*r+2],e[4*r+3]]},MAT2:function(e,r){return[e[4*r+0],e[4*r+1],e[4*r+2],e[4*r+3]]},MAT3:function(e,r){return[e[9*r+0],e[9*r+1],e[9*r+2],e[9*r+3],e[9*r+4],e[9*r+5],e[9*r+6],e[9*r+7],e[9*r+8]]},MAT4:function(e,r){return[e[16*r+0],e[16*r+1],e[16*r+2],e[16*r+3],e[16*r+4],e[16*r+5],e[16*r+6],e[16*r+7],e[16*r+8],e[16*r+9],e[16*r+10],e[16*r+11],e[16*r+12],e[16*r+13],e[16*r+14],e[16*r+15]]}},D={SCALAR:function(e,r,n){r[n]=e},VEC2:function(e,r,n){r[2*n+0]=e[0],r[2*n+1]=e[1]},VEC3:function(e,r,n){r[3*n+0]=e[0],r[3*n+1]=e[1],r[3*n+2]=e[2]},VEC4:function(e,r,n){r[4*n+0]=e[0],r[4*n+1]=e[1],r[4*n+2]=e[2],r[4*n+3]=e[3]},MAT2:function(e,r,n){r[4*n+0]=e[0],r[4*n+1]=e[1],r[4*n+2]=e[2],r[4*n+3]=e[3]},MAT3:function(e,r,n){r[9*n+0]=e[0],r[9*n+1]=e[1],r[9*n+2]=e[2],r[9*n+3]=e[3],r[9*n+4]=e[4],r[9*n+5]=e[5],r[9*n+6]=e[6],r[9*n+7]=e[7],r[9*n+8]=e[8],r[9*n+9]=e[9]},MAT4:function(e,r,n){r[16*n+0]=e[0],r[16*n+1]=e[1],r[16*n+2]=e[2],r[16*n+3]=e[3],r[16*n+4]=e[4],r[16*n+5]=e[5],r[16*n+6]=e[6],r[16*n+7]=e[7],r[16*n+8]=e[8],r[16*n+9]=e[9],r[16*n+10]=e[10],r[16*n+11]=e[11],r[16*n+12]=e[12],r[16*n+13]=e[13],r[16*n+14]=e[14],r[16*n+15]=e[15]}};n(305);var U=n(359),R=n.n(U),G=function(e){return void 0!==e};function F(e,r,n){if(!r)return null;var t=e.getExtension("3DTILES_batch_table_hierarchy"),i=r.HIERARCHY;return i&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),r.extensions=r.extensions||{},r.extensions["3DTILES_batch_table_hierarchy"]=i,t=i),t?function(e,r){var n,t,i,a,o=e.instancesLength,s=e.classes,u=e.classIds,c=e.parentCounts,f=e.parentIds,l=o;G(u.byteOffset)&&(u.componentType=defaultValue(u.componentType,GL.UNSIGNED_SHORT),u.type=AttributeType.SCALAR,i=getBinaryAccessor(u),R()("classIds"),u=i.createArrayBufferView(r.buffer,r.byteOffset+u.byteOffset,o));if(G(c))for(G(c.byteOffset)&&(c.componentType=defaultValue(c.componentType,GL.UNSIGNED_SHORT),c.type=AttributeType.SCALAR,i=getBinaryAccessor(c),R()("parentCounts"),c=i.createArrayBufferView(r.buffer,r.byteOffset+c.byteOffset,o)),a=new Uint16Array(o),R()("parentIdsLength"),l=0,n=0;n<o;++n)a[n]=l,l+=(R()("parentIdsLength"),c[n]);G(f)&&G(f.byteOffset)&&(f.componentType=defaultValue(f.componentType,GL.UNSIGNED_SHORT),f.type=AttributeType.SCALAR,i=getBinaryAccessor(f),R()("parentIds"),f=i.createArrayBufferView(r.buffer,r.byteOffset+f.byteOffset,l));var p=s.length;for(n=0;n<p;++n){var d=s[n].length,h=s[n].instances,y=getBinaryProperties(d,h,r);s[n].instances=combine(y,h)}var b=new Array(p).fill(0),g=new Uint16Array(o);for(n=0;n<o;++n)t=u[n],g[n]=b[t],++b[t];var v={classes:s,classIds:u,classIndexes:g,parentCounts:c,parentIndexes:a,parentIds:f};return function(e){for(var r=e.classIds.length,n=0;n<r;++n)V(e,n,stack)}(v),v}(t,n):null}function M(e,r,n){if(e){var t=e.parentCounts;return e.parentIds?n(e,r):t>0?function(e,r,n){var t=e.classIds,i=e.parentCounts,a=e.parentIds,o=e.parentIndexes,s=t.length,u=scratchVisited;u.length=Math.max(u.length,s);var c=++marker,f=scratchStack;f.length=0,f.push(r);for(;f.length>0;)if(r=f.pop(),u[r]!==c){u[r]=c;var l=n(e,r);if(G(l))return l;for(var p=i[r],d=o[r],h=0;h<p;++h){var y=a[d+h];y!==r&&f.push(y)}}return null}(e,r,n):function(e,r,n){var t=!0;for(;t;){var i=n(e,r);if(G(i))return i;var a=e.parentIds[r];t=a!==r,r=a}throw new Error("traverseHierarchySingleParent")}(e,r,n)}}function V(e,r,n){var t=e.parentCounts,i=e.parentIds,a=e.parentIndexes,o=e.classIds.length;if(G(i)){assert(r<o,"Parent index "+r+" exceeds the total number of instances: "+o),assert(-1===n.indexOf(r),"Circular dependency detected in the batch table hierarchy."),n.push(r);for(var s=G(t)?t[r]:1,u=G(t)?a[r]:r,c=0;c<s;++c){var f=i[u+c];f!==r&&V(e,f,n)}n.pop(r)}}var H=function(e){return void 0!==e},z=function(e){return e},J={HIERARCHY:!0,extensions:!0,extras:!0},Y=function(){function e(e,r,n,t){for(var i in void 0===t&&(t={}),P(n>=0),this.json=e||{},this.binary=r,this.featureCount=n,this._extensions=this.json&&this.json.extensions||{},this._properties={},this.json)J[i]||(this._properties[i]=this.json[i]);this._binaryProperties=this._initializeBinaryProperties(),t["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=F(this,this.json,this.binary))}var r=e.prototype;return r.getExtension=function(e){return this.json&&this.json.extensions&&this.json.extensions[e]},r.memorySizeInBytes=function(){return 0},r.isClass=function(e,r){if(this._checkBatchId(e),P("string"==typeof r,r),this._hierarchy){var n=M(this._hierarchy,e,function(e,n){var t=e.classIds[n];return e.classes[t].name===r});return H(n)}return!1},r.isExactClass=function(e,r){return P("string"==typeof r,r),this.getExactClassName(e)===r},r.getExactClassName=function(e){if(this._checkBatchId(e),this._hierarchy){var r=this._hierarchy.classIds[e];return this._hierarchy.classes[r].name}},r.hasProperty=function(e,r){return this._checkBatchId(e),P("string"==typeof r,r),H(this._properties[r])||this._hasPropertyInHierarchy(e,r)},r.getPropertyNames=function(e,r){var n;this._checkBatchId(e),(r=H(r)?r:[]).length=0;var t=Object.keys(this._properties);return(n=r).push.apply(n,t),this._hierarchy&&this._getPropertyNamesInHierarchy(e,r),r},r.getProperty=function(e,r){if(this._checkBatchId(e),P("string"==typeof r,r),this._binaryProperties){var n=this._binaryProperties[r];if(H(n))return this._getBinaryProperty(n,e)}var t=this._properties[r];if(H(t))return z(t[e]);if(this._hierarchy){var i=this._getHierarchyProperty(e,r);if(H(i))return i}},r.setProperty=function(e,r,n){var t=this.featureCount;if(this._checkBatchId(e,t),P("string"==typeof r,r),this._binaryProperties){var i=this._binaryProperties[r];if(i)return void this._setBinaryProperty(i,e,n)}if(!this._hierarchy||!this._setHierarchyProperty(this,e,r,n)){var a=this._properties[r];H(a)||(this._properties[r]=new Array(t),a=this._properties[r]),a[e]=z(n)}},r._checkBatchId=function(e){if(!(e>=0&&e<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")},r._getBinaryProperty=function(e,r){return e.unpack(e.typedArray,r)},r._setBinaryProperty=function(e,r,n){e.pack(n,e.typedArray,r)},r._initializeBinaryProperties=function(){var e=null;for(var r in this._properties){var n=this._properties[r],t=this._initializeBinaryProperty(r,n);t&&((e=e||{})[r]=t)}return e},r._initializeBinaryProperty=function(e,r){if("byteOffset"in r){var n=r;P(this.binary,"Property "+e+" requires a batch table binary."),P(n.type,"Property "+e+" requires a type.");var t=function(e,r,n,t){var i=e.componentType;P(e.componentType);var a="string"==typeof i?C.fromName(i):i,o=L[e.type],s=j[e.type],u=D[e.type];return n+=e.byteOffset,{values:C.createTypedArray(a,r,n,o*t),type:a,size:o,unpacker:s,packer:u}}(n,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:t.values,componentCount:t.size,unpack:t.unpacker,pack:t.packer}}return null},r._hasPropertyInHierarchy=function(e,r){if(!this._hierarchy)return!1;var n=M(this._hierarchy,e,function(e,n){var t=e.classIds[n],i=e.classes[t].instances;return H(i[r])});return H(n)},r._getPropertyNamesInHierarchy=function(e,r){M(this._hierarchy,e,function(e,n){var t=e.classIds[n],i=e.classes[t].instances;for(var a in i)i.hasOwnProperty(a)&&-1===r.indexOf(a)&&r.push(a)})},r._getHierarchyProperty=function(e,r){var n=this;return M(this._hierarchy,e,function(e,t){var i=e.classIds[t],a=e.classes[i],o=e.classIndexes[t],s=a.instances[r];return H(s)?H(s.typedArray)?n._getBinaryProperty(s,o):z(s[o]):null})},r._setHierarchyProperty=function(e,r,n,t){var i=this,a=M(this._hierarchy,r,function(e,a){var o=e.classIds[a],s=e.classes[o],u=e.classIndexes[a],c=s.instances[n];return!!H(c)&&(P(a===r,'Inherited property "'+n+'" is read-only.'),H(c.typedArray)?i._setBinaryProperty(c,u,t):c[u]=z(t),!0)});return H(a)},e}(),q=4;function Q(e,r,n){void 0===n&&(n=0);var t=new DataView(r);if(e.magic=t.getUint32(n,!0),n+=q,e.version=t.getUint32(n,!0),n+=q,e.byteLength=t.getUint32(n,!0),n+=q,1!==e.version)throw new Error("3D Tile Version "+e.version+" not supported");return n}var K=4;function Z(e,r,n){var t=new DataView(r);return e.featureTableJsonByteLength=t.getUint32(n,!0),n+=K,e.featureTableBinaryByteLength=t.getUint32(n,!0),n+=K,e.batchTableJsonByteLength=t.getUint32(n,!0),n+=K,e.batchTableBinaryByteLength=t.getUint32(n,!0),n+=K}function W(e,r,n,t){return n=function(e,r,n,t){var i=e.featureTableJsonByteLength,a=e.featureTableBinaryByteLength;if(e.featureTableJson={BATCH_LENGTH:0},i>0){var o=I(r,n,i);e.featureTableJson=JSON.parse(o)}return n+=i,e.featureTableBinary=new Uint8Array(r,n,a),n+=a}(e,r,n),n=function(e,r,n,t){var i=e.batchTableJsonByteLength,a=e.batchTableBinaryByteLength;if(i>0){var o=I(r,n,i);e.batchTableJson=JSON.parse(o),n+=i,a>0&&(e.batchTableBinary=new Uint8Array(r,n,a),e.batchTableBinary=new Uint8Array(e.batchTableBinary),n+=a)}return n}(e,r,n)}function X(e,r,n,t){return n=W(e,r,n=Z(e,r,n=Q(e,r,n))),function(e){var r=new k(e.featureTableJson,e.featureTableBinary),n=r.getGlobalProperty("POINTS_LENGTH");if(e.featuresLength=n,r.featuresLength=n,!Number.isFinite(n))throw new Error("POINTS_LENGTH must be defined");e.rtcCenter=r.getGlobalProperty("RTC_CENTER",N.FLOAT,3),e.positions=null,e.colors=null,e.normals=null,e.batchIds=null,e.isQuantized=!1,e.isTranslucent=!1,e.isRGB565=!1,e.isOctEncoded16P=!1;var t=function(e,r){var n=null;if(!e.batchIds&&r.hasProperty("BATCH_ID")&&(e.batchIds=r.getPropertyArray("BATCH_ID",N.UNSIGNED_SHORT,1),e.batchIds)){var t=r.getGlobalProperty("BATCH_LENGTH");if(!t)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");var i=e.batchTableJson,a=e.batchTableBinary;n=new Y(i,a,t)}return n}(e,r);(function(e,r,n){var t,i,a,o=n&&n.getExtension("3DTILES_draco_point_compression");o&&(a=o.properties);var s=r.getExtension("3DTILES_draco_point_compression");if(s){i=s.properties;var u=s.byteOffset,c=s.byteLength;if(!i||!Number.isFinite(u)||!c)throw new Error("Draco properties, byteOffset, and byteLength must be defined");t=e.featureTableBinary.slice(u,u+c),e.hasPositions=Number.isFinite(i.POSITION),e.hasColors=Number.isFinite(i.RGB)||Number.isFinite(i.RGBA),e.hasNormals=Number.isFinite(i.NORMAL),e.hasBatchIds=Number.isFinite(i.BATCH_ID),e.isTranslucent=Number.isFinite(i.RGBA)}t&&(e.draco={buffer:t,properties:Object.assign({},i,a),featureTableProperties:i,batchTableProperties:a,dequantizeInShader:!1},function(e){var r=e.draco;if(r&&r.buffer){var n=(new x.a).decode(r.buffer),t=n.attributes.POSITION&&n.attributes.POSITION.value,i=n.attributes.COLOR_0&&n.attributes.COLOR_0.value,a=n.attributes.NORMAL&&n.attributes.NORMAL.value,o=n.attributes.BATCH_ID&&n.attributes.BATCH_ID.value,s=t&&n.attributes.POSITION.value.quantization,u=a&&n.attributes.NORMAL.value.quantization;if(s){var c=n.POSITION.data.quantization,f=c.range;e.quantizedVolumeScale=new E.a(f,f,f),e.quantizedVolumeOffset=new E.a(c.minValues),e.quantizedRange=(1<<c.quantizationBits)-1,e.isQuantizedDraco=!0}u&&(e.octEncodedRange=(1<<n.NORMAL.data.quantization.quantizationBits)-1,e.isOctEncodedDraco=!0),e.positions=t,e.colors=i,e.normals=a,e.batchIds=o,delete e.draco}}(e))})(e,r,t),function(e,r){if(!e.positions)if(r.hasProperty("POSITION"))e.positions=r.getPropertyArray("POSITION",N.FLOAT,3);else if(r.hasProperty("POSITION_QUANTIZED")){if(e.positions=r.getPropertyArray("POSITION_QUANTIZED",N.UNSIGNED_SHORT,3),e.isQuantized=!0,e.quantizedRange=65535,e.quantizedVolumeScale=r.getGlobalProperty("QUANTIZED_VOLUME_SCALE",N.FLOAT,3),!e.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(e.quantizedVolumeOffset=r.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",N.FLOAT,3),!e.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.")}if(!e.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}(e,r),function(e,r){e.colors||(r.hasProperty("RGBA")?(e.colors=r.getPropertyArray("RGBA",N.UNSIGNED_BYTE,4),e.isTranslucent=!0):r.hasProperty("RGB")?e.colors=r.getPropertyArray("RGB",N.UNSIGNED_BYTE,3):r.hasProperty("RGB565")&&(e.colors=r.getPropertyArray("RGB565",N.UNSIGNED_SHORT,1),e.isRGB565=!0));r.hasProperty("CONSTANT_RGBA")&&(e.constantRGBA=r.getGlobalProperty("CONSTANT_RGBA",N.UNSIGNED_BYTE,4))}(e,r),function(e,r){e.normals||(r.hasProperty("NORMAL")?e.normals=r.getPropertyArray("NORMAL",N.FLOAT,3):r.hasProperty("NORMAL_OCT16P")&&(e.normals=r.getPropertyArray("NORMAL_OCT16P",N.UNSIGNED_BYTE,2),e.isOctEncoded16P=!0))}(e,r)}(e),n}function $(e,r,n){var t=e.byteOffset+e.byteLength-n;if(0===t)throw new Error("glTF byte length must be greater than 0.");if(n%4==0)e.gltfView=new Uint8Array(r,n,t);else{console.warn(e.type+": embedded glb is not aligned to a 4-byte boundary.");var i=new Uint8Array(r);e.gltfView=new Uint8Array(i.subarray(n,n+t))}return e.byteOffset+e.byteLength}function ee(e,r,n,t){switch(void 0===r&&(r=0),void 0===n&&(n={}),void 0===t&&(t={}),t.byteOffset=r,t.type=function(e,r){void 0===r&&(r=0);var n=new DataView(e);return""+String.fromCharCode(n.getUint8(r+0))+String.fromCharCode(n.getUint8(r+1))+String.fromCharCode(n.getUint8(r+2))+String.fromCharCode(n.getUint8(r+3))}(e,r),t.type){case w.COMPOSITE:!function(e,r,n,t,i){n=Q(e,r,n);var a=new DataView(r);for(e.tilesLength=a.getUint32(n,!0),n+=4,e.tiles=[];e.tiles.length<e.tilesLength&&e.byteLength-n>12;){var o={};e.tiles.push(o),n=i(r,n,t,o)}}(t,e,r,n,ee);break;case w.BATCHED_3D_MODEL:!function(e,r,n,t){n=$(e,r,n=W(e,r,n=Z(e,r,n=Q(e,r,n))));var i=new k(e.featureTableJson,e.featureTableBinary);e.rtcCenter=i.getGlobalProperty("RTC_CENTER",N.FLOAT,3)}(t,e,r);break;case w.INSTANCED_3D_MODEL:!function(e,r,n,t){if(n=Q(e,r,n),1!==e.version)throw new Error("Instanced 3D Model version "+e.version+" is not supported");n=Z(e,r,n);var i=new DataView(r);if(e.gltfFormat=i.getUint32(n,!0),n=$(e,n=W(e,r,n+=4)),0===e.featureTableJsonByteLength)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");var a=new k(e.featureTableJson,e.featureTableBinary),o=a.getGlobalProperty("INSTANCES_LENGTH");if(a.featuresLength=o,!Number.isFinite(o))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");e.eastNorthUp=a.getGlobalProperty("EAST_NORTH_UP"),e.rtcCenter=a.getGlobalProperty("RTC_CENTER",N.FLOAT,3)}(t,e,r);break;case w.POINT_CLOUD:X(t,e,r);break;default:throw new Error("3DTileLoader: unknown type "+t.type)}return t}var re={name:"3D Tiles",extensions:["cmpt","pnts","b3dm","i3dm"],parseSync:function(e,r,n,t){return ee(e,0,r)},binary:!0};n(80);var ne=n(9),te=ne.a.div.withConfig({displayName:"control-panel__Container",componentId:"t27rqk-0"})(["display:flex;flex-direction:column;position:absolute;top:0;right:0;max-width:320px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,0.3);padding:12px 24px;margin:20px;font-size:13px;line-height:2;outline:none;z-index:100;"]),ie=ne.a.select.withConfig({displayName:"control-panel__DropDown",componentId:"t27rqk-1"})(["margin-bottom:6px;"]),ae=function(e){function r(){return e.apply(this,arguments)||this}o()(r,e);var n=r.prototype;return n._renderByCategories=function(){var e=this.props,r=e.category,n=e.example,t=e.onChange,i=e.data,a=void 0===i?{}:i,o=Object.keys(a),s=r+"."+n;return u.a.createElement(ie,{value:s,onChange:function(e){var r=e.target.value.split(".");t({category:r[0],example:r[1]})}},o.map(function(e,r){var n=a[e].examples;return u.a.createElement("optgroup",{key:r,label:e},Object.keys(n).map(function(r,n){var t=e+"."+r;return u.a.createElement("option",{key:n,value:t},r)}))}))},n._renderDropped=function(){var e=this.props.droppedFile;return e?u.a.createElement("div",null,"Dropped file: ",JSON.stringify(e.name)):null},n.render=function(){return u.a.createElement(te,null,this._renderByCategories(),this._renderDropped())},r}(s.PureComponent);n(30);n.d(r,"MeshTile3DLoader",function(){return oe}),n.d(r,"default",function(){return fe}),n.d(r,"renderToDOM",function(){return le});var oe={name:"3D Tile Pointloud",extensions:["pnts"],parseSync:function(e,r,n,t){return re.parseSync(e,r,n,t)},binary:!0};Object(_.b)(oe);var se="https://raw.githubusercontent.com/uber-web/loaders.gl/master",ue={target:[0,0,0],rotationX:0,rotationOrbit:0,orbitAxis:"Y",fov:50,minZoom:-10,maxZoom:10,zoom:1},ce=new l.d(["rotationOrbit"]);var fe=function(e){function r(r){var n;return(n=e.call(this,r)||this).state={viewState:ue,featureTable:null,batchTable:null,tile:null,droppedFile:null,example:"PointCloudNormals",category:"PointCloud"},n._deckRef=null,n._onLoad=n._onLoad.bind(i()(n)),n._onViewStateChange=n._onViewStateChange.bind(i()(n)),n._rotateCamera=n._rotateCamera.bind(i()(n)),n._getColor=n._getColor.bind(i()(n)),n._loadExample=n._loadExample.bind(i()(n)),n._onSelectExample=n._onSelectExample.bind(i()(n)),n}o()(r,e);var n=r.prototype;return n.componentDidMount=function(){var e,r,n=this;e=this._deckRef.deckCanvas,r=function(e,r){n.setState({droppedFile:r,tile:null}),Object(m.a)(e,oe).then(n._onLoad)},e.ondragover=function(e){e.dataTransfer.dropEffect="link",e.preventDefault()},e.ondrop=function(e){if(e.preventDefault(),e.dataTransfer.files&&1===e.dataTransfer.files.length){var n=e.dataTransfer.files[0],t=new Promise(function(e){var r=new window.FileReader;r.onload=function(r){return e(r.target.result)},r.readAsArrayBuffer(n)});r(t,n)}},fetch("https://raw.githubusercontent.com/uber-web/loaders.gl/master/modules/3d-tiles/test/data/index.json").then(function(e){return e.json()}).then(function(e){n.setState({data:e});var r=n.state,t=r.category,i=r.example;n._loadExample(t,i)})},n._onViewStateChange=function(e){var r=e.viewState;this.setState({viewState:r})},n._rotateCamera=function(){var e=this.state.viewState;this.setState({viewState:Object.assign({},e,{rotationOrbit:e.rotationOrbit+30,transitionDuration:600,transitionInterpolator:ce,onTransitionEnd:this._rotateCamera})})},n._loadExample=function(e,r){var n=this.state.data;if(this.setState({tile:null}),n&&e&&r){var t=n[e].examples[r],i=se+"/"+t.path+"/"+t.files[0];Object(m.a)(i).then(this._onLoad)}},n._onLoad=function(e){var r=new k(e.featureTableJson,e.featureTableBinary),n=null;if(e.batchIds){var t=e.batchTableJson,i=e.batchTableBinary;n=new Y(t,i,r.getGlobalProperty("BATCH_LENGTH"))}var a=function(e,r){void 0===r&&(r=3);for(var n=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],t=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],i=e.length/r,a=0;a<i;a++)n[0]=Math.min(n[0],e[a*r]),n[1]=Math.min(n[1],e[a*r+1]),n[2]=Math.min(n[2],e[a*r+2]),t[0]=Math.max(t[0],e[a*r]),t[1]=Math.max(t[1],e[a*r+1]),t[2]=Math.max(t[2],e[a*r+2]);return{mins:n,maxs:t}}(e.positions),o=a.mins,s=a.maxs,u=this.state.viewState;o&&s&&(u=Object.assign({},u,{target:[(o[0]+s[0])/2,(o[1]+s[1])/2,(o[2]+s[2])/2],zoom:Math.log2(window.innerWidth/(s[0]-o[0]))-1.5})),e.pointsCount=e.featureTableJson.POINTS_LENGTH,this.setState({tile:e,featureTable:r,batchTable:n,viewState:u},this._rotateCamera)},n._getColor=function(e,r){var n=r.index,t=r.data,i=r.target;if(!this.state.tile)return null;var a,o,s,u,c=this.state,f=c.tile,l=f.colors,p=f.isRGB565,d=f.constantRGBA,h=f.batchIds,y=c.batchTable;if(l){if(p){var b=(a=t.colors.value[n],o=31&a,s=a>>5&63,u=a>>11&31,[o=Math.round(255*o/32),s=Math.round(255*s/64),u=Math.round(255*u/32)]);i[0]=b[0],i[1]=b[1],i[2]=b[2],i[3]=255}else i[0]=t.colors.value[3*n],i[1]=t.colors.value[3*n+1],i[2]=t.colors.value[3*n+2],i[3]=4===t.colors.size?t.colors[3*n+4]:255;return i}if(d)return d;if(h&&y){var g=h[n],v=y.getProperty(g,"dimensions").map(function(e){return 255*e});return[].concat(v,[255])}return[255,255,255]},n._renderLayers=function(){if(!this.state.tile)return null;var e=this.state.tile,r=e.pointsCount,n=e.positions,t=e.colors,i=e.normals;return n&&new p.a({data:{colors:{value:t,size:4},normals:{value:n,size:3},length:n.length/3},id:"3d-point-cloud-layer",coordinateSystem:l.a.IDENTITY,numInstances:r,instancePositions:n,getColor:this._getColor,getNormal:i?function(e,r){var n=r.index,t=r.data,i=r.target;return i[0]=t.normals[3*n],i[1]=t.normals[3*n+1],i[2]=t.normals[3*n+2],i}:[0,1,0],opacity:.5,pointSize:1.5})},n._onSelectExample=function(e){var r=this,n=e.category,t=e.example;this.setState({category:n,example:t},function(){r.state.data&&n&&t&&r._loadExample(n,t)})},n._renderControlPanel=function(){var e=this.state,r=e.data,n=e.example,t=e.category;return u.a.createElement(ae,{data:r,category:t,example:n,onChange:this._onSelectExample})},n.render=function(){var e=this,r=this.state.viewState;return u.a.createElement(f.a,{ref:function(r){return e._deckRef=r},width:"100%",height:"100%",views:new l.e,viewState:r,controller:!0,onViewStateChange:this._onViewStateChange,layers:this._renderLayers(),parameters:{clearColor:[.07,.14,.19,1]}})},r}(s.PureComponent);function le(e){Object(c.render)(u.a.createElement(fe,null),e)}},203:function(e,r,n){"use strict";n.d(r,"c",function(){return o}),n.d(r,"a",function(){return s}),n.d(r,"d",function(){return u}),n.d(r,"b",function(){return c}),n.d(r,"e",function(){return f});n(75),n(76);var t=function(e){return"boolean"==typeof e},i=function(e){return"function"==typeof e},a=function(e){return null!==e&&"object"==typeof e},o=function(e){return e&&"function"==typeof e[Symbol.iterator]},s=function(e){return e&&"function"==typeof e[Symbol.asyncIterator]},u=function(e){return a(e)&&"done"in e&&"value"in e},c=function(e){return"undefined"!=typeof window&&e instanceof window.Response||e.arrayBuffer&&e.json&&e.body},f=function(e){return function(e){return a(e)&&i(e.tee)&&i(e.cancel)&&i(e.pipeTo)&&i(e.getReader)}(e)||function(e){return a(e)&&i(e.read)&&i(e.pipe)&&t(e.readable)}(e)}},206:function(e,r,n){"use strict";(function(e,t){n.d(r,"b",function(){return i}),n.d(r,"a",function(){return o});var i="object"!=typeof e||"[object process]"!==String(e)||e.browser,a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t,document:"undefined"!=typeof document&&document},o=a.global||a.self||a.window}).call(this,n(117),n(77))},209:function(e,r,n){"use strict";(function(e){n.d(r,"a",function(){return o});n(30),n(11),n(202);var t=n(216),i=function(e){return e&&e instanceof ArrayBuffer},a=function(r){return r&&r instanceof e};function o(e){if(i(e))return e;if(a(e))return new Uint8Array(e).buffer;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){var r=e;return(new TextEncoder).encode(r).buffer}return Object(t.a)(!1)}}).call(this,n(245).Buffer)},210:function(e,r,n){"use strict";n(7);var t=n(205),i=n.n(t),a=(n(207),n(208)),o=n.n(a),s=n(238),u=n(221),c=function(){function e(){}var r=e.prototype;return r.log=function(){},r.info=function(){},r.warn=function(){},r.error=function(){},e}(),f=n(220),l=n(216),p=(n(30),n(19),n(14),n(11),n(78),n(239),n(209)),d=new Map;function h(e,r,n){var t=function(e){var r=d.get(e);if(!r){var n=new Blob([e],{type:"application/javascript"});r=URL.createObjectURL(n),d.set(e,r)}return new Worker(r)}(e);n=function(e){null!==(e=Object.assign({},e)).log&&delete e.log;return e}(n);var i=function(e,r){return new Promise(function(n,i){t.onmessage=function(e){switch(e.data.type){case"done":n(e.data.result),t.terminate();break;case"error":i(new Error(e.data.message))}};var a=Object(p.a)(e);t.postMessage({arraybuffer:a,opts:r},[a])})};return r?i(r,n):i}n(75),n(76);var y=n(203),b=n(227),g="Cannot convert supplied data type";function v(e){return Object(y.b)(e)?e.url:null}function _(e,r){if(r.text&&"string"==typeof e)return e;if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){var n=e.buffer||e;return r.text&&!r.binary?new TextDecoder("utf8").decode(n):n}throw new Error(g)}function m(e,r){return w.apply(this,arguments)}function w(){return(w=o()(i.a.mark(function e(r,n){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:if(r=e.sent,t=r instanceof ArrayBuffer||ArrayBuffer.isView(r),"string"!=typeof r&&!t){e.next=6;break}return e.abrupt("return",_(r,n));case 6:if(!Object(y.b)(r)){e.next=15;break}if(!n.binary){e.next=13;break}return e.next=10,r.arrayBuffer();case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=r.text();case 14:return e.abrupt("return",e.t0);case 15:throw new Error(g);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e,r){return O.apply(this,arguments)}function O(){return(O=o()(i.a.mark(function e(r,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(y.d)(r)){e.next=2;break}return e.abrupt("return",r);case 2:if(!Object(y.b)(r)){e.next=4;break}return e.abrupt("return",Object(b.a)(r.body));case 4:if(!Object(y.e)(r)){e.next=6;break}return e.abrupt("return",Object(b.a)(r));case 6:if(!Object(y.a)(r)){e.next=8;break}return e.abrupt("return",r[Symbol.asyncIterator]());case 8:return e.abrupt("return",I(r,n));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e,r){return A.apply(this,arguments)}function A(){return(A=o()(i.a.mark(function e(r,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r instanceof ArrayBuffer||ArrayBuffer.isView(r))){e.next=2;break}return e.abrupt("return",i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.buffer||r;case 2:case"end":return e.stop()}},e)})());case 2:if(!Object(y.d)(r)){e.next=4;break}return e.abrupt("return",r);case 4:if(!Object(y.c)(r)){e.next=6;break}return e.abrupt("return",r[Symbol.iterator]());case 6:throw new Error(g);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e,r,n,t){return x.apply(this,arguments)}function x(){return(x=o()(i.a.mark(function e(r,n,t,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),a=a||v(r),e.next=4,m(r,n);case 4:if(r=e.sent,!n.parseTextSync||"string"!=typeof r){e.next=8;break}return t.dataType="text",e.abrupt("return",n.parseTextSync(r,t,a,n));case 8:if(!n.parseSync){e.next=10;break}return e.abrupt("return",n.parseSync(r,t,a,n));case 10:if(!n.parse){e.next=14;break}return e.next=13,n.parse(r,t,a,n);case 13:return e.abrupt("return",e.sent);case 14:if(!n.worker){e.next=18;break}return e.next=17,h(n.worker,r,t);case 17:return e.abrupt("return",e.sent);case 18:return e.abrupt("return",Object(l.a)(!1));case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e,r,n,t){return S.apply(this,arguments)}function S(){return(S=o()(i.a.mark(function e(r,n,t,a){var o,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),!n.parseInBatches){e.next=7;break}return e.next=4,T(r);case 4:return o=e.sent,s=n.parseInBatches(o,t,a,n),e.abrupt("return",s);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(e,r,n,t){return C.apply(this,arguments)}function C(){return(C=o()(i.a.mark(function e(r,n,t,a){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(n)||Object(u.a)(n)||(a=t,t=n,n=null),n=n||Object(f.a)(),o=Array.isArray(n)?Object(s.a)(a,r,n):n){e.next=5;break}return e.abrupt("return",null);case 5:return Object(u.b)(o),t=j(t,o),e.next=9,E(r,o,t,a);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e,r,n,t){Array.isArray(r)||Object(u.a)(r)||(t=n,n=r,r=null),r=r||Object(f.a)();var i=Array.isArray(r)?Object(s.a)(t,e,r):r;return Object(u.b)(i),function(e,r,n,t){return void 0===n&&(n={}),e=_(e,r),r.parseTextSync&&"string"==typeof e?r.parseTextSync(e,n,t,r):r.parseSync?r.parseSync(e,n,t,r):Object(l.a)(!1)}(e,i,n=j(n,i),t)}function P(e,r,n,t){return L.apply(this,arguments)}function L(){return(L=o()(i.a.mark(function e(r,n,t,a){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(n)||Object(u.a)(n)||(a=t,t=n,n=null),n=n||Object(f.a)(),o=Array.isArray(n)?Object(s.a)(a,null,n):n,Object(u.b)(o),t=j(t,o),e.abrupt("return",N(r,o,t,a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(e,r){return null===(e=Object.assign({},r.DEFAULT_OPTIONS,r.options,e,{dataType:"arraybuffer"})).log&&(e.log=new c),"log"in e||(e.log=console),e}n.d(r,"a",function(){return B}),n.d(r,"c",function(){return k}),n.d(r,"b",function(){return P})},212:function(e,r,n){"use strict";n.d(r,"a",function(){return a});n(33),n(226),n(7);var t="",i={};function a(e){for(var r in i)if(e.startsWith(r)){var n=i[r];return e.replace(r,n)}return e+=t}},216:function(e,r,n){"use strict";function t(e,r){if(!e)throw new Error(r||"loader assertion failed.")}n.d(r,"a",function(){return t})},220:function(e,r,n){"use strict";n.d(r,"b",function(){return a}),n.d(r,"a",function(){return o});n(14),n(11),n(253),n(75),n(76),n(19);var t=n(221),i={};function a(e){var r=e=Array.isArray(e)?e:[e],n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var s=o;Object(t.b)(s);var u=s.extensions,c=Array.isArray(u),f=0;for(u=c?u:u[Symbol.iterator]();;){var l;if(c){if(f>=u.length)break;l=u[f++]}else{if((f=u.next()).done)break;l=f.value}i[l]=s}}}function o(){return Object.values(i)}},221:function(e,r,n){"use strict";n.d(r,"a",function(){return i}),n.d(r,"b",function(){return a});n(7);var t=n(216);function i(e){return!!e&&(Array.isArray(e)&&(e=e[0]),e.parseTextSync||e.parseSync||e.parse||e.loadAndParse||e.parseStream||e.parseInBatches||e.worker)}function a(e){var r;return Object(t.a)(i(e)),Array.isArray(e)&&(r=(e=e[0])[1],e=Object.assign({},e,{options:Object.assign({},e.options,{options:r})})),e.extension&&(e.extensions=e.extensions||[e.extension],delete e.extension),Array.isArray(e.extensions)||(e.extensions=[e.extensions]),Object(t.a)(e.extensions&&e.extensions.length>0&&e.extensions[0]),e.parseTextSync&&(e.text=!0),e.text||(e.binary=!0),e}},222:function(e,r,n){"use strict";n.d(r,"a",function(){return u});var t=n(205),i=n.n(t),a=(n(207),n(208)),o=n.n(a),s=n(212);function u(e,r){return c.apply(this,arguments)}function c(){return(c=o()(i.a.mark(function e(r,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(s.a)(r),e.abrupt("return",fetch(r,n));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}},223:function(e,r,n){"use strict";n.d(r,"a",function(){return p});var t=n(205),i=n.n(t),a=(n(207),n(208)),o=n.n(a),s=n(222),u=n(221),c=n(238),f=n(210),l=n(220);function p(e,r,n){return d.apply(this,arguments)}function d(){return(d=o()(i.a.mark(function e(r,n,t){var a,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(n)||Object(u.a)(n)||(t=n,n=null),n=n||Object(l.a)(),!(a=Array.isArray(n)?Object(c.a)(r,null,n):n)||!a.loadAndParse){e.next=7;break}return e.next=6,a.loadAndParse(r,t);case 6:return e.abrupt("return",e.sent);case 7:if("string"!=typeof(o=r)){e.next=12;break}return e.next=11,Object(s.a)(r,t);case 11:o=e.sent;case 12:return e.abrupt("return",Object(f.a)(o,n,t,r));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}},227:function(e,r,n){"use strict";n.d(r,"a",function(){return p});n(30),n(11),n(75),n(76);var t=n(208),i=n.n(t),a=n(205),o=n.n(a),s=(n(207),n(286)),u=n.n(s),c=n(287),f=n.n(c),l=n(206);function p(e){return"function"==typeof e[Symbol.asyncIterator]?e:"function"==typeof e.getIterator?e.getIterator():l.b?function(e){return d.apply(this,arguments)}(e):function(e){return h.apply(this,arguments)}(e)}function d(){return(d=f()(o.a.mark(function e(r){var n,t,i,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=r.getReader(),e.prev=1;case 2:return e.next=5,u()(n.read());case 5:if(t=e.sent,i=t.done,a=t.value,!i){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,a;case 12:e.next=2;break;case 14:return e.prev=14,n.releaseLock(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,,14,17]])}))).apply(this,arguments)}function h(){return(h=f()(o.a.mark(function e(r){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()(r);case 2:r=e.sent;case 3:if(null===(n=r.read())){e.next=9;break}return e.next=8,n;case 8:return e.abrupt("continue",3);case 9:if(!r._readableState.ended){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,u()(y(r));case 13:e.next=3;break;case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return(b=i()(o.a.mark(function e(r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){r.once("readable",e)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}},230:function(e,r,n){"use strict";n.d(r,"a",function(){return i});n(205),n(207),n(208),n(210),n(222),n(223),n(212);var t=n(206),i=(t.a.TextEncoder,t.a.TextDecoder)},238:function(e,r,n){"use strict";n.d(r,"a",function(){return a});n(75),n(76),n(19),n(79);var t=n(221),i=/[^.]+$/;function a(e,r,n){void 0===e&&(e="");var a=e.match(i);if(a&&a[0]){var o=function(e,r){r=r.toLowerCase();for(var n=e,i=Array.isArray(n),a=0,n=i?n:n[Symbol.iterator]();;){var o;if(i){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var s=o;Object(t.b)(s);for(var u=s.extensions,c=Array.isArray(u),f=0,u=c?u:u[Symbol.iterator]();;){var l;if(c){if(f>=u.length)break;l=u[f++]}else{if((f=u.next()).done)break;l=f.value}var p=l;if(p.toLowerCase()===r)return s}}return null}(n,a[0]);if(o)return o}var s=function(e,r){for(var n=e,t=Array.isArray(n),i=0,n=t?n:n[Symbol.iterator]();;){var a;if(t){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;if(o.testText&&o.testText(r))return o}return null}(n,r);return s||null}},242:function(e,r,n){"use strict";var t=n(8),i=n(28),a=n(35),o=n(298),s=n(58),u=n(26),c=n(84).f,f=n(122).f,l=n(21).f,p=n(352).trim,d=t.Number,h=d,y=d.prototype,b="Number"==a(n(83)(y)),g="trim"in String.prototype,v=function(e){var r=s(e,!1);if("string"==typeof r&&r.length>2){var n,t,i,a=(r=g?r.trim():p(r,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=r.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(r.charCodeAt(1)){case 66:case 98:t=2,i=49;break;case 79:case 111:t=8,i=55;break;default:return+r}for(var o,u=r.slice(2),c=0,f=u.length;c<f;c++)if((o=u.charCodeAt(c))<48||o>i)return NaN;return parseInt(u,t)}}return+r};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var r=arguments.length<1?0:e,n=this;return n instanceof d&&(b?u(function(){y.valueOf.call(n)}):"Number"!=a(n))?o(new h(v(r)),n,d):v(r)};for(var _,m=n(22)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;m.length>w;w++)i(h,_=m[w])&&!i(d,_)&&l(d,_,f(h,_));d.prototype=y,y.constructor=d,n(27)(t,"Number",d)}},254:function(e,r,n){var t=n(20),i=n(8).isFinite;t(t.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},267:function(e,r){},303:function(e,r,n){n(240)("Int32",4,function(e){return function(r,n,t){return e(this,r,n,t)}})},304:function(e,r,n){n(240)("Float64",8,function(e){return function(r,n,t){return e(this,r,n,t)}})},305:function(e,r,n){var t=n(20);t(t.P,"Array",{fill:n(288)}),n(59)("fill")},352:function(e,r,n){var t=n(20),i=n(42),a=n(26),o=n(353),s="["+o+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),f=function(e,r,n){var i={},s=a(function(){return!!o[e]()||"​"!="​"[e]()}),u=i[e]=s?r(l):o[e];n&&(i[n]=u),t(t.P+t.F*s,"String",i)},l=f.trim=function(e,r){return e=String(i(e)),1&r&&(e=e.replace(u,"")),2&r&&(e=e.replace(c,"")),e};e.exports=f},353:function(e,r){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},354:function(e,r,n){"use strict";(function(e,t){n.d(r,"b",function(){return i}),n.d(r,"a",function(){return o});var i="object"!=typeof e||"[object process]"!==String(e)||e.browser,a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t},o=a.global||a.self||a.window}).call(this,n(117),n(77))},355:function(e,r,n){"use strict";(function(e){n.d(r,"b",function(){return A}),n.d(r,"a",function(){return I});n(202),n(31);function t(e,r,n){return r<=e&&e<=n}e["encoding-indexes"]={};var i=Math.floor;function a(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function o(e){return 0<=e&&e<=127}var s=o,u=-1;function c(e){this.tokens=[].slice.call(e),this.tokens.reverse()}c.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():u},prepend:function(e){if(Array.isArray(e))for(var r=e;r.length;)this.tokens.push(r.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var r=e;r.length;)this.tokens.unshift(r.shift());else this.tokens.unshift(e)}};var f=-1;function l(e,r){if(e)throw TypeError("Decoder error");return r||65533}function p(e){throw TypeError("The code point "+e+" could not be encoded.")}function d(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(y,e)?y[e]:null}var h=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],y={};h.forEach(function(e){e.encodings.forEach(function(e){e.labels.forEach(function(r){y[r]=e})})});var b,g,v={},_={};function m(e,r){return r&&r[e]||null}function w(e,r){var n=r.indexOf(e);return-1===n?null:n}function T(r){if(!("encoding-indexes"in e))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return e["encoding-indexes"][r]}var O="utf-8";function I(e,r){if(!(this instanceof I))throw TypeError("Called as a function. Did you forget 'new'?");e=void 0!==e?String(e):O,r=a(r),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var n=d(e);if(null===n||"replacement"===n.name)throw RangeError("Unknown encoding: "+e);if(!_[n.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");return this._encoding=n,Boolean(r.fatal)&&(this._error_mode="fatal"),Boolean(r.ignoreBOM)&&(this._ignoreBOM=!0),Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase(),this.fatal="fatal"===this._error_mode,this.ignoreBOM=this._ignoreBOM),this}function A(r,n){if(!(this instanceof A))throw TypeError("Called as a function. Did you forget 'new'?");n=a(n),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(n.fatal)?"fatal":"replacement";if(Boolean(n.NONSTANDARD_allowLegacyEncoding)){var t=d(r=void 0!==r?String(r):O);if(null===t||"replacement"===t.name)throw RangeError("Unknown encoding: "+r);if(!v[t.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=t}else this._encoding=d("utf-8"),void 0!==r&&"console"in e&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase()),this}function E(e){var r=e.fatal,n=0,i=0,a=0,o=128,s=191;this.handler=function(e,c){if(c===u&&0!==a)return a=0,l(r);if(c===u)return f;if(0===a){if(t(c,0,127))return c;if(t(c,194,223))a=1,n=31&c;else if(t(c,224,239))224===c&&(o=160),237===c&&(s=159),a=2,n=15&c;else{if(!t(c,240,244))return l(r);240===c&&(o=144),244===c&&(s=143),a=3,n=7&c}return null}if(!t(c,o,s))return n=a=i=0,o=128,s=191,e.prepend(c),l(r);if(o=128,s=191,n=n<<6|63&c,(i+=1)!==a)return null;var p=n;return n=a=i=0,p}}function x(e){e.fatal;this.handler=function(e,r){if(r===u)return f;if(s(r))return r;var n,i;t(r,128,2047)?(n=1,i=192):t(r,2048,65535)?(n=2,i=224):t(r,65536,1114111)&&(n=3,i=240);for(var a=[(r>>6*n)+i];n>0;){var o=r>>6*(n-1);a.push(128|63&o),n-=1}return a}}function N(e,r){var n=r.fatal;this.handler=function(r,t){if(t===u)return f;if(o(t))return t;var i=e[t-128];return null===i?l(n):i}}function S(e,r){r.fatal;this.handler=function(r,n){if(n===u)return f;if(s(n))return n;var t=w(n,e);return null===t&&p(n),t+128}}function B(e){var r=e.fatal,n=0,i=0,a=0;this.handler=function(e,s){if(s===u&&0===n&&0===i&&0===a)return f;var c;if(s!==u||0===n&&0===i&&0===a||(n=0,i=0,a=0,l(r)),0!==a){c=null,t(s,48,57)&&(c=function(e){if(e>39419&&e<189e3||e>1237575)return null;if(7457===e)return 59335;var r,n=0,t=0,i=T("gb18030-ranges");for(r=0;r<i.length;++r){var a=i[r];if(!(a[0]<=e))break;n=a[0],t=a[1]}return t+e-n}(10*(126*(10*(n-129)+i-48)+a-129)+s-48));var p=[i,a,s];return n=0,i=0,a=0,null===c?(e.prepend(p),l(r)):c}if(0!==i)return t(s,129,254)?(a=s,null):(e.prepend([i,s]),n=0,i=0,l(r));if(0!==n){if(t(s,48,57))return i=s,null;var d=n,h=null;n=0;var y=s<127?64:65;return(t(s,64,126)||t(s,128,254))&&(h=190*(d-129)+(s-y)),null===(c=null===h?null:m(h,T("gb18030")))&&o(s)&&e.prepend(s),null===c?l(r):c}return o(s)?s:128===s?8364:t(s,129,254)?(n=s,null):l(r)}}function C(e,r){e.fatal;this.handler=function(e,n){if(n===u)return f;if(s(n))return n;if(58853===n)return p(n);if(r&&8364===n)return 128;var t=w(n,T("gb18030"));if(null!==t){var a=t%190;return[i(t/190)+129,a+(a<63?64:65)]}if(r)return p(n);t=function(e){if(59335===e)return 7457;var r,n=0,t=0,i=T("gb18030-ranges");for(r=0;r<i.length;++r){var a=i[r];if(!(a[1]<=e))break;n=a[1],t=a[0]}return t+e-n}(n);var o=i(t/10/126/10),c=i((t-=10*o*126*10)/10/126),l=i((t-=10*c*126)/10);return[o+129,c+48,l+129,t-10*l+48]}}function k(e){var r=e.fatal,n=0;this.handler=function(e,i){if(i===u&&0!==n)return n=0,l(r);if(i===u&&0===n)return f;if(0!==n){var a=n,s=null;n=0;var c=i<127?64:98;switch((t(i,64,126)||t(i,161,254))&&(s=157*(a-129)+(i-c)),s){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var p=null===s?null:m(s,T("big5"));return null===p&&o(i)&&e.prepend(i),null===p?l(r):p}return o(i)?i:t(i,129,254)?(n=i,null):l(r)}}function P(e){e.fatal;this.handler=function(e,r){if(r===u)return f;if(s(r))return r;var n=function(e){var r=g=g||T("big5").map(function(e,r){return r<5024?null:e});return 9552===e||9566===e||9569===e||9578===e||21313===e||21317===e?r.lastIndexOf(e):w(e,r)}(r);if(null===n)return p(r);var t=i(n/157)+129;if(t<161)return p(r);var a=n%157;return[t,a+(a<63?64:98)]}}function L(e){var r=e.fatal,n=!1,i=0;this.handler=function(e,a){if(a===u&&0!==i)return i=0,l(r);if(a===u&&0===i)return f;if(142===i&&t(a,161,223))return i=0,65216+a;if(143===i&&t(a,161,254))return n=!0,i=a,null;if(0!==i){var s=i;i=0;var c=null;return t(s,161,254)&&t(a,161,254)&&(c=m(94*(s-161)+(a-161),T(n?"jis0212":"jis0208"))),n=!1,t(a,161,254)||e.prepend(a),null===c?l(r):c}return o(a)?a:142===a||143===a||t(a,161,254)?(i=a,null):l(r)}}function j(e){e.fatal;this.handler=function(e,r){if(r===u)return f;if(s(r))return r;if(165===r)return 92;if(8254===r)return 126;if(t(r,65377,65439))return[142,r-65377+161];8722===r&&(r=65293);var n=w(r,T("jis0208"));return null===n?p(r):[i(n/94)+161,n%94+161]}}function D(e){var r=e.fatal,n=0,i=1,a=2,o=3,s=4,c=5,p=6,d=n,h=n,y=0,b=!1;this.handler=function(e,g){switch(d){default:case n:return 27===g?(d=c,null):t(g,0,127)&&14!==g&&15!==g&&27!==g?(b=!1,g):g===u?f:(b=!1,l(r));case i:return 27===g?(d=c,null):92===g?(b=!1,165):126===g?(b=!1,8254):t(g,0,127)&&14!==g&&15!==g&&27!==g&&92!==g&&126!==g?(b=!1,g):g===u?f:(b=!1,l(r));case a:return 27===g?(d=c,null):t(g,33,95)?(b=!1,65344+g):g===u?f:(b=!1,l(r));case o:return 27===g?(d=c,null):t(g,33,126)?(b=!1,y=g,d=s,null):g===u?f:(b=!1,l(r));case s:if(27===g)return d=c,l(r);if(t(g,33,126)){d=o;var v=m(94*(y-33)+g-33,T("jis0208"));return null===v?l(r):v}return g===u?(d=o,e.prepend(g),l(r)):(d=o,l(r));case c:return 36===g||40===g?(y=g,d=p,null):(e.prepend(g),b=!1,d=h,l(r));case p:var _=y;y=0;var w=null;if(40===_&&66===g&&(w=n),40===_&&74===g&&(w=i),40===_&&73===g&&(w=a),36!==_||64!==g&&66!==g||(w=o),null!==w){d=d=w;var O=b;return b=!0,O?l(r):null}return e.prepend([_,g]),b=!1,d=h,l(r)}}}function U(e){e.fatal;var r=0,n=1,t=2,a=r;this.handler=function(e,o){if(o===u&&a!==r)return e.prepend(o),a=r,[27,40,66];if(o===u&&a===r)return f;if(!(a!==r&&a!==n||14!==o&&15!==o&&27!==o))return p(65533);if(a===r&&s(o))return o;if(a===n&&(s(o)&&92!==o&&126!==o||165==o||8254==o)){if(s(o))return o;if(165===o)return 92;if(8254===o)return 126}if(s(o)&&a!==r)return e.prepend(o),a=r,[27,40,66];if((165===o||8254===o)&&a!==n)return e.prepend(o),a=n,[27,40,74];8722===o&&(o=65293);var c=w(o,T("jis0208"));return null===c?p(o):a!==t?(e.prepend(o),a=t,[27,36,66]):[i(c/94)+33,c%94+33]}}function R(e){var r=e.fatal,n=0;this.handler=function(e,i){if(i===u&&0!==n)return n=0,l(r);if(i===u&&0===n)return f;if(0!==n){var a=n,s=null;n=0;var c=i<127?64:65,p=a<160?129:193;if((t(i,64,126)||t(i,128,252))&&(s=188*(a-p)+i-c),t(s,8836,10715))return 48508+s;var d=null===s?null:m(s,T("jis0208"));return null===d&&o(i)&&e.prepend(i),null===d?l(r):d}return o(i)||128===i?i:t(i,161,223)?65216+i:t(i,129,159)||t(i,224,252)?(n=i,null):l(r)}}function G(e){e.fatal;this.handler=function(e,r){if(r===u)return f;if(s(r)||128===r)return r;if(165===r)return 92;if(8254===r)return 126;if(t(r,65377,65439))return r-65377+161;8722===r&&(r=65293);var n=function(e){return(b=b||T("jis0208").map(function(e,r){return t(r,8272,8835)?null:e})).indexOf(e)}(r);if(null===n)return p(r);var a=i(n/188),o=n%188;return[a+(a<31?129:193),o+(o<63?64:65)]}}function F(e){var r=e.fatal,n=0;this.handler=function(e,i){if(i===u&&0!==n)return n=0,l(r);if(i===u&&0===n)return f;if(0!==n){var a=n,s=null;n=0,t(i,65,254)&&(s=190*(a-129)+(i-65));var c=null===s?null:m(s,T("euc-kr"));return null===s&&o(i)&&e.prepend(i),null===c?l(r):c}return o(i)?i:t(i,129,254)?(n=i,null):l(r)}}function M(e){e.fatal;this.handler=function(e,r){if(r===u)return f;if(s(r))return r;var n=w(r,T("euc-kr"));return null===n?p(r):[i(n/190)+129,n%190+65]}}function V(e,r){var n=e>>8,t=255&e;return r?[n,t]:[t,n]}function H(e,r){var n=r.fatal,i=null,a=null;this.handler=function(r,o){if(o===u&&(null!==i||null!==a))return l(n);if(o===u&&null===i&&null===a)return f;if(null===i)return i=o,null;var s;if(s=e?(i<<8)+o:(o<<8)+i,i=null,null!==a){var c=a;return a=null,t(s,56320,57343)?65536+1024*(c-55296)+(s-56320):(r.prepend(V(s,e)),l(n))}return t(s,55296,56319)?(a=s,null):t(s,56320,57343)?l(n):s}}function z(e,r){r.fatal;this.handler=function(r,n){if(n===u)return f;if(t(n,0,65535))return V(n,e);var i=V(55296+(n-65536>>10),e),a=V(56320+(n-65536&1023),e);return i.concat(a)}}function J(e){e.fatal;this.handler=function(e,r){return r===u?f:o(r)?r:63360+r-128}}function Y(e){e.fatal;this.handler=function(e,r){return r===u?f:s(r)?r:t(r,63360,63487)?r-63360+128:p(r)}}Object.defineProperty&&(Object.defineProperty(I.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(I.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(I.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),I.prototype.decode=function(e,r){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),r=a(r),this._do_not_flush||(this._decoder=_[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(r.stream);for(var t,i=new c(n),o=[];;){var s=i.read();if(s===u)break;if((t=this._decoder.handler(i,s))===f)break;null!==t&&(Array.isArray(t)?o.push.apply(o,t):o.push(t))}if(!this._do_not_flush){do{if((t=this._decoder.handler(i,i.read()))===f)break;null!==t&&(Array.isArray(t)?o.push.apply(o,t):o.push(t))}while(!i.endOfStream());this._decoder=null}return function(e){var r,n;return r=["UTF-8","UTF-16LE","UTF-16BE"],n=this._encoding.name,-1===r.indexOf(n)||this._ignoreBOM||this._BOMseen||(e.length>0&&65279===e[0]?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),function(e){for(var r="",n=0;n<e.length;++n){var t=e[n];t<=65535?r+=String.fromCharCode(t):(t-=65536,r+=String.fromCharCode(55296+(t>>10),56320+(1023&t)))}return r}(e)}.call(this,o)},Object.defineProperty&&Object.defineProperty(A.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),A.prototype.encode=function(e,r){e=void 0===e?"":String(e),r=a(r),this._do_not_flush||(this._encoder=v[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(r.stream);for(var n,t=new c(function(e){for(var r=String(e),n=r.length,t=0,i=[];t<n;){var a=r.charCodeAt(t);if(a<55296||a>57343)i.push(a);else if(56320<=a&&a<=57343)i.push(65533);else if(55296<=a&&a<=56319)if(t===n-1)i.push(65533);else{var o=r.charCodeAt(t+1);if(56320<=o&&o<=57343){var s=1023&a,u=1023&o;i.push(65536+(s<<10)+u),t+=1}else i.push(65533)}t+=1}return i}(e)),i=[];;){var o=t.read();if(o===u)break;if((n=this._encoder.handler(t,o))===f)break;Array.isArray(n)?i.push.apply(i,n):i.push(n)}if(!this._do_not_flush){for(;(n=this._encoder.handler(t,t.read()))!==f;)Array.isArray(n)?i.push.apply(i,n):i.push(n);this._encoder=null}return new Uint8Array(i)},v["UTF-8"]=function(e){return new x(e)},_["UTF-8"]=function(e){return new E(e)},"encoding-indexes"in e&&h.forEach(function(e){"Legacy single-byte encodings"===e.heading&&e.encodings.forEach(function(e){var r=e.name,n=T(r.toLowerCase());_[r]=function(e){return new N(n,e)},v[r]=function(e){return new S(n,e)}})}),_.GBK=function(e){return new B(e)},v.GBK=function(e){return new C(e,!0)},v.gb18030=function(e){return new C(e)},_.gb18030=function(e){return new B(e)},v.Big5=function(e){return new P(e)},_.Big5=function(e){return new k(e)},v["EUC-JP"]=function(e){return new j(e)},_["EUC-JP"]=function(e){return new L(e)},v["ISO-2022-JP"]=function(e){return new U(e)},_["ISO-2022-JP"]=function(e){return new D(e)},v.Shift_JIS=function(e){return new G(e)},_.Shift_JIS=function(e){return new R(e)},v["EUC-KR"]=function(e){return new M(e)},_["EUC-KR"]=function(e){return new F(e)},v["UTF-16BE"]=function(e){return new z(!0,e)},_["UTF-16BE"]=function(e){return new H(!0,e)},v["UTF-16LE"]=function(e){return new z(!1,e)},_["UTF-16LE"]=function(e){return new H(!1,e)},v["x-user-defined"]=function(e){return new Y(e)},_["x-user-defined"]=function(e){return new J(e)}}).call(this,n(77))},356:function(e,r){},357:function(e,r){},358:function(e,r){},359:function(e,r){e.exports=function(e){throw new Error('"'+e+'" is read-only')}}}]);