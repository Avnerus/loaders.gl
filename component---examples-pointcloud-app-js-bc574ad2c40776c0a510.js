(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{201:function(e,t,r){"use strict";r.r(t);r(345),r(7);var n=r(18),a=r.n(n),i=r(2),s=r.n(i),o=r(0),l=r.n(o),u=r(59),c=r(440),h=r(248),p=r(445),d=r(313),m=r(444),v=(r(31),r(81),r(229));r(208),r(218),r(244);function f(e){var t={};return t.POSITION={value:new Float32Array(e.vertices),size:3},e.normals.length>0&&(t.NORMAL={value:new Float32Array(e.normals),size:3}),e.uvs.length>0&&(t.TEXCOORD_0={value:new Float32Array(e.uvs),size:2}),e.colors.length>0&&(t.COLOR_0={value:new Uint8Array(e.colors),size:3}),t}function g(e,t){var r,n;if(void 0===t&&(t={}),e instanceof ArrayBuffer){var a=(new v.a).decode(e);n="ascii"===(r=b(a,t)).format?C(a,r):function(e,t){for(var r,n={indices:[],vertices:[],normals:[],uvs:[],colors:[]},a="binary_little_endian"===t.format,i=new DataView(e,t.headerLength),s=0,o=0;o<t.elements.length;o++)for(var l=t.elements[o].count,u=0;u<l;u++){r=S(i,s,t.elements[o].properties,a),s+=r[1];var c=r[0];_(n,t.elements[o].name,c)}return n}(e,r)}else n=C(e,r=b(e,t));return function(e,t,r){var n={loaderData:{header:e},header:{vertexCount:t.indices.length||t.vertices.length/3},mode:t.indices&&t.indices.length>0?4:0,attributes:f(t)};return t.indices&&t.indices.length>0&&(n.indices={value:new Uint32Array(t.indices),size:1}),n}(r,n)}function b(e,t){var r="",n=0,a=/ply([\s\S]*)end_header\s/.exec(e);null!==a&&(r=a[1],n=a[0].length);for(var i,s,o,l={comments:[],elements:[],headerLength:n},u=r.split("\n"),c=0;c<u.length;c++){var h=u[c];if(""!==(h=h.trim()))switch(s=(o=h.split(/\s+/)).shift(),h=o.join(" "),s){case"format":l.format=o[0],l.version=o[1];break;case"comment":l.comments.push(h);break;case"element":void 0!==i&&l.elements.push(i),(i={}).name=o[0],i.count=parseInt(o[1],10),i.properties=[];break;case"property":i.properties.push(y(o,t.propertyNameMapping));break;default:console.log("unhandled",s,o)}}return void 0!==i&&l.elements.push(i),l}function y(e,t){var r={type:e[0]};return"list"===r.type?(r.name=e[3],r.countType=e[1],r.itemType=e[2]):r.name=e[1],t&&r.name in t&&(r.name=t[r.name]),r}function x(e,t){switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(e,10);case"float":case"double":case"float32":case"float64":return parseFloat(e);default:throw new Error(t)}}function w(e,t){for(var r=t.split(/\s+/),n={},a=0;a<e.length;a++)if("list"===e[a].type){for(var i=[],s=x(r.shift(),e[a].countType),o=0;o<s;o++)i.push(x(r.shift(),e[a].itemType));n[e[a].name]=i}else n[e[a].name]=x(r.shift(),e[a].type);return n}function C(e,t){var r,n={indices:[],vertices:[],normals:[],uvs:[],colors:[]},a="";null!==(r=/end_header\s([\s\S]*)$/.exec(e))&&(a=r[1]);for(var i=a.split("\n"),s=0,o=0,l=0;l<i.length;l++){var u=i[l];if(""!==(u=u.trim())){o>=t.elements[s].count&&(s++,o=0);var c=w(t.elements[s].properties,u);_(n,t.elements[s].name,c),o++}}return n}function _(e,t,r){if("vertex"===t)e.vertices.push(r.x,r.y,r.z),"nx"in r&&"ny"in r&&"nz"in r&&e.normals.push(r.nx,r.ny,r.nz),"s"in r&&"t"in r&&e.uvs.push(r.s,r.t),"red"in r&&"green"in r&&"blue"in r&&e.colors.push(r.red/255,r.green/255,r.blue/255);else if("face"===t){var n=r.vertex_indices||r.vertex_index;3===n.length?e.indices.push(n[0],n[1],n[2]):4===n.length&&(e.indices.push(n[0],n[1],n[3]),e.indices.push(n[1],n[2],n[3]))}}function O(e,t,r,n){switch(r){case"int8":case"char":return[e.getInt8(t),1];case"uint8":case"uchar":return[e.getUint8(t),1];case"int16":case"short":return[e.getInt16(t,n),2];case"uint16":case"ushort":return[e.getUint16(t,n),2];case"int32":case"int":return[e.getInt32(t,n),4];case"uint32":case"uint":return[e.getUint32(t,n),4];case"float32":case"float":return[e.getFloat32(t,n),4];case"float64":case"double":return[e.getFloat64(t,n),8];default:throw new Error(r)}}function S(e,t,r,n){for(var a,i={},s=0,o=0;o<r.length;o++)if("list"===r[o].type){var l=[],u=(a=O(e,t+s,r[o].countType,n))[0];s+=a[1];for(var c=0;c<u;c++)a=O(e,t+s,r[o].itemType,n),l.push(a[0]),s+=a[1];i[r[o].name]=l}else a=O(e,t+s,r[o].type,n),i[r[o].name]=a[0],s+=a[1];return[i,s]}var j={name:"PLY",extensions:["ply"],parseTextSync:g,parseSync:g,text:!0,binary:!0,DEFAULT_OPTIONS:{}},I=(r(33),r(87),!0);function F(e){return{POSITION:{value:new Float32Array(e.position),size:3},NORMAL:{value:new Float32Array(e.normal),size:3},COLOR_0:{value:new Uint8Array(e.color),size:3}}}var E={name:"PCD",extensions:["pcd"],parseSync:function(e,t,r){var n,a,i,s=(new v.a).decode(e),o=function(e){var t={},r=e.search(/[\r\n]DATA\s(\S*)\s/i),n=/[\r\n]DATA\s(\S*)\s/i.exec(e.substr(r-1));if(t.data=n[1],t.headerLen=n[0].length+r,t.str=e.substr(0,t.headerLen),t.str=t.str.replace(/\#.*/gi,""),t.version=/VERSION (.*)/i.exec(t.str),t.fields=/FIELDS (.*)/i.exec(t.str),t.size=/SIZE (.*)/i.exec(t.str),t.type=/TYPE (.*)/i.exec(t.str),t.count=/COUNT (.*)/i.exec(t.str),t.width=/WIDTH (.*)/i.exec(t.str),t.height=/HEIGHT (.*)/i.exec(t.str),t.viewpoint=/VIEWPOINT (.*)/i.exec(t.str),t.points=/POINTS (.*)/i.exec(t.str),null!==t.version&&(t.version=parseFloat(t.version[1])),null!==t.fields&&(t.fields=t.fields[1].split(" ")),null!==t.type&&(t.type=t.type[1].split(" ")),null!==t.width&&(t.width=parseInt(t.width[1],10)),null!==t.height&&(t.height=parseInt(t.height[1],10)),null!==t.viewpoint&&(t.viewpoint=t.viewpoint[1]),null!==t.points&&(t.points=parseInt(t.points[1],10)),null===t.points&&(t.points=t.width*t.height),null!==t.size&&(t.size=t.size[1].split(" ").map(function(e){return parseInt(e,10)})),null!==t.count)t.count=t.count[1].split(" ").map(function(e){return parseInt(e,10)});else{t.count=[];for(var a=0;a<t.fields.length;a++)t.count.push(1)}t.offset={};for(var i=0,s=0;s<t.fields.length;s++)"ascii"===t.data?t.offset[t.fields[s]]=s:(t.offset[t.fields[s]]=i,i+=t.size[s]);return t.rowSize=i,t}(s);switch(o.data){case"ascii":n=function(e,t){for(var r=[],n=[],a=[],i=e.offset,s=t.substr(e.headerLen).split("\n"),o=0;o<s.length;o++)if(""!==s[o]){var l=s[o].split(" ");if(void 0!==i.x&&(r.push(parseFloat(l[i.x])),r.push(parseFloat(l[i.y])),r.push(parseFloat(l[i.z]))),void 0!==i.rgb){var u=new Float32Array([parseFloat(l[i.rgb])]),c=new DataView(u.buffer,0);a.push(c.getUint8(0)/255),a.push(c.getUint8(1)/255),a.push(c.getUint8(2)/255)}void 0!==i.normal_x&&(n.push(parseFloat(l[i.normal_x])),n.push(parseFloat(l[i.normal_y])),n.push(parseFloat(l[i.normal_z])))}return{position:r,normal:n,color:a}}(o,s);break;case"binary":n=function(e,t){for(var r=[],n=[],a=[],i=new DataView(t,e.headerLen),s=e.offset,o=0,l=0;o<e.points;o++,l+=e.rowSize)void 0!==s.x&&(r.push(i.getFloat32(l+s.x,I)),r.push(i.getFloat32(l+s.y,I)),r.push(i.getFloat32(l+s.z,I))),void 0!==s.rgb&&(a.push(i.getUint8(l+s.rgb+0)/255),a.push(i.getUint8(l+s.rgb+1)/255),a.push(i.getUint8(l+s.rgb+2)/255)),void 0!==s.normal_x&&(n.push(i.getFloat32(l+s.normal_x,I)),n.push(i.getFloat32(l+s.normal_y,I)),n.push(i.getFloat32(l+s.normal_z,I)));return{position:r,normal:n,color:a}}(o,e);break;case"binary_compressed":default:throw new Error("PCD: "+o.data+" files are not supported")}return{loaderData:{header:o},header:(a=o,i=a.width*a.height,{vertexCount:i}),mode:0,indices:null,attributes:F(n)}}},z=(r(76),r(77),r(21),r(350),/^[og]\s*(.+)?/),A=/^mtllib /,L=/^usemtl /,T=function(){function e(e){var t=e.index,r=e.name,n=void 0===r?"":r,a=e.mtllib,i=e.smooth,s=e.groupStart;this.index=t,this.name=n,this.mtllib=a,this.smooth=i,this.groupStart=s,this.groupEnd=-1,this.groupCount=-1,this.inherited=!1}return e.prototype.clone=function(t){return void 0===t&&(t=this.index),new e({index:t,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0})},e}(),D=function(){function e(e){void 0===e&&(e=""),this.name=e,this.geometry={vertices:[],normals:[],colors:[],uvs:[]},this.materials=[],this.smooth=!0}var t=e.prototype;return t.startMaterial=function(e,t){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var n=new T({index:this.materials.length,name:e,mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0});return this.materials.push(n),n},t.currentMaterial=function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},t._finalize=function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t},e}(),k=function(){function e(){this.objects=[],this.object=null,this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.materialLibraries=[],this.startObject("",!1)}var t=e.prototype;return t.startObject=function(e,t){if(void 0===t&&(t=!0),this.object&&!this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=t);var r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object=new D(e),this.object.fromDeclaration=t,r&&r.name&&"function"==typeof r.clone){var n=r.clone(0);n.inherited=!0,this.object.materials.push(n)}this.objects.push(this.object)},t.finalize=function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},t.parseVertexIndex=function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},t.parseNormalIndex=function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},t.parseUVIndex=function(e,t){var r=parseInt(e,10);return 2*(r>=0?r-1:r+t/2)},t.addVertex=function(e,t,r){var n=this.vertices,a=this.object.geometry.vertices;a.push(n[e+0],n[e+1],n[e+2]),a.push(n[t+0],n[t+1],n[t+2]),a.push(n[r+0],n[r+1],n[r+2])},t.addVertexPoint=function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},t.addVertexLine=function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},t.addNormal=function(e,t,r){var n=this.normals,a=this.object.geometry.normals;a.push(n[e+0],n[e+1],n[e+2]),a.push(n[t+0],n[t+1],n[t+2]),a.push(n[r+0],n[r+1],n[r+2])},t.addColor=function(e,t,r){var n=this.colors,a=this.object.geometry.colors;a.push(n[e+0],n[e+1],n[e+2]),a.push(n[t+0],n[t+1],n[t+2]),a.push(n[r+0],n[r+1],n[r+2])},t.addUV=function(e,t,r){var n=this.uvs,a=this.object.geometry.uvs;a.push(n[e+0],n[e+1]),a.push(n[t+0],n[t+1]),a.push(n[r+0],n[r+1])},t.addUVLine=function(e){var t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},t.addFace=function(e,t,r,n,a,i,s,o,l){var u=this.vertices.length,c=this.parseVertexIndex(e,u),h=this.parseVertexIndex(t,u),p=this.parseVertexIndex(r,u);if(this.addVertex(c,h,p),void 0!==n&&""!==n){var d=this.uvs.length;c=this.parseUVIndex(n,d),h=this.parseUVIndex(a,d),p=this.parseUVIndex(i,d),this.addUV(c,h,p)}if(void 0!==s&&""!==s){var m=this.normals.length;c=this.parseNormalIndex(s,m),h=s===o?c:this.parseNormalIndex(o,m),p=s===l?c:this.parseNormalIndex(l,m),this.addNormal(c,h,p)}this.colors.length>0&&this.addColor(c,h,p)},t.addPointGeometry=function(e){this.object.geometry.type="Points";var t=this.vertices.length,r=e,n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var i;if(n){if(a>=r.length)break;i=r[a++]}else{if((a=r.next()).done)break;i=a.value}var s=i;this.addVertexPoint(this.parseVertexIndex(s,t))}},t.addLineGeometry=function(e,t){this.object.geometry.type="Line";var r=this.vertices.length,n=this.uvs.length,a=e,i=Array.isArray(a),s=0;for(a=i?a:a[Symbol.iterator]();;){var o;if(i){if(s>=a.length)break;o=a[s++]}else{if((s=a.next()).done)break;o=s.value}var l=o;this.addVertexLine(this.parseVertexIndex(l,r))}var u=t,c=Array.isArray(u),h=0;for(u=c?u:u[Symbol.iterator]();;){var p;if(c){if(h>=u.length)break;p=u[h++]}else{if((h=u.next()).done)break;p=h.value}var d=p;this.addUVLine(this.parseUVIndex(d,n))}},e}(),V=function(e){var t=new k;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));for(var r=e.split("\n"),n="",a="",i=[],s="function"==typeof"".trimLeft,o=0,l=r.length;o<l;o++)if(n=r[o],0!==(n=s?n.trimLeft():n.trim()).length&&"#"!==(a=n.charAt(0)))if("v"===a){var u=n.split(/\s+/);switch(u[0]){case"v":t.vertices.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])),8===u.length&&t.colors.push(parseFloat(u[4]),parseFloat(u[5]),parseFloat(u[6]));break;case"vn":t.normals.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3]));break;case"vt":t.uvs.push(parseFloat(u[1]),parseFloat(u[2]))}}else if("f"===a){for(var c=n.substr(1).trim().split(/\s+/),h=[],p=0,d=c.length;p<d;p++){var m=c[p];if(m.length>0){var v=m.split("/");h.push(v)}}for(var f=h[0],g=1,b=h.length-1;g<b;g++){var y=h[g],x=h[g+1];t.addFace(f[0],y[0],x[0],f[1],y[1],x[1],f[2],y[2],x[2])}}else if("l"===a){var w=n.substring(1).trim().split(" "),C=void 0,_=[];if(-1===n.indexOf("/"))C=w;else{C=[];for(var O=0,S=w.length;O<S;O++){var j=w[O].split("/");""!==j[0]&&C.push(j[0]),""!==j[1]&&_.push(j[1])}}t.addLineGeometry(C,_)}else if("p"===a){var I=n.substr(1).trim().split(" ");t.addPointGeometry(I)}else if(null!==(i=z.exec(n))){var F=(" "+i[0].substr(1).trim()).substr(1);t.startObject(F)}else if(L.test(n))t.object.startMaterial(n.substring(7).trim(),t.materialLibraries);else if(A.test(n))t.materialLibraries.push(n.substring(7).trim());else{if("s"!==a){if("\0"===n)continue;throw new Error('Unexpected line: "'+n+'"')}if((i=n.split(" ")).length>1){var E=i[1].trim().toLowerCase();t.object.smooth="0"!==E&&"off"!==E}else t.object.smooth=!0;var T=t.object.currentMaterial();T&&(T.smooth=t.object.smooth)}t.finalize();var D=[],V=[],N=t.objects,M=Array.isArray(N),P=0;for(N=M?N:N[Symbol.iterator]();;){var U;if(M){if(P>=N.length)break;U=N[P++]}else{if((P=N.next()).done)break;U=P.value}var R=U,B=R.geometry;if(0!==B.vertices.length){var Z={header:{vertexCount:B.vertices.length/3},attributes:{}};switch(B.type){case"Points":Z.mode=0;break;case"Line":Z.mode=1;break;default:Z.mode=4}Z.attributes.POSITION={value:new Float32Array(B.vertices),size:3},B.normals.length>0&&(Z.attributes.NORMAL={value:new Float32Array(B.normals),size:3}),B.colors.length>0&&(Z.attributes.COLOR_0={value:new Float32Array(B.colors),size:3}),B.uvs.length>0&&(Z.attributes.TEXCOORD_0={value:new Float32Array(B.uvs),size:2}),Z.materials=[];var G=R.materials,H=Array.isArray(G),J=0;for(G=H?G:G[Symbol.iterator]();;){var K;if(H){if(J>=G.length)break;K=G[J++]}else{if((J=G.next()).done)break;K=J.value}var X=K,Y={name:X.name,flatShading:!X.smooth};Z.materials.push(Y),V.push(Y)}Z.name=R.name,D.push(Z)}}return{meshes:D,materials:V}};function N(e,t){var r,n,a,i=new Float32Array(3*t),s=0,o=e,l=Array.isArray(o),u=0;for(o=l?o:o[Symbol.iterator]();;){var c;if(l){if(u>=o.length)break;c=o[u++]}else{if((u=o.next()).done)break;c=u.value}var h=c.attributes,p=h.POSITION,d=h.NORMAL,m=h.COLOR_0,v=h.TEXCOORD_0;i.set(p.value,3*s),d&&(r=r||new Float32Array(3*t)).set(d.value,3*s),m&&(n=n||new Float32Array(3*t)).set(m.value,3*s),v&&(a=a||new Float32Array(2*t)).set(v.value,2*s),s+=p.value.length/3}var f={};return f.POSITION={value:i,size:3},r&&(f.NORMAL={value:r,size:3}),n&&(f.COLOR_0={value:n,size:3}),a&&(f.TEXCOORD_0={value:a,size:2}),f}var M={name:"OBJ",extensions:["obj"],testText:function(e){return"v"===e[0]},parseTextSync:function(e){var t=V(e).meshes,r=t.reduce(function(e,t){return e+t.header.vertexCount},0);return{loaderData:{header:{}},header:{vertexCount:r},mode:4,attributes:N(t,r)}}},P=r(236),U=r(243),R=(r(230),r(247),r(14),r(11),r(223),r(9)),B=R.a.div.withConfig({displayName:"control-panel__Container",componentId:"sc-14q5t5u-0"})(["display:flex;flex-direction:column;position:absolute;top:0;right:0;max-width:320px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,0.3);padding:12px 24px;margin:20px;font-size:13px;line-height:2;outline:none;z-index:100;"]),Z=R.a.select.withConfig({displayName:"control-panel__DropDown",componentId:"sc-14q5t5u-1"})(["margin-bottom:6px;"]),G=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.props,t=e.examples,r=void 0===t?{}:t,n=e.selectedCategory,a=e.selectedExample,i=e.onExampleChange;if(!(n&&a||this._autoSelected)){var s=Object.keys(r)[0],o=Object.keys(r[s])[0],l=r[s][o];this._autoSelected=!0,i({selectedCategory:s,selectedExample:o,example:l})}},r._renderDropDown=function(){var e=this.props,t=e.examples,r=void 0===t?{}:t,n=e.selectedCategory,a=e.selectedExample,i=e.onExampleChange;if(!n||!a)return!1;var s=n+"."+a;return l.a.createElement(Z,{value:s,onChange:function(e){var t=e.target.value.split("."),s=t[0],o=t[1],l=r[n][a];i({selectedCategory:s,selectedExample:o,example:l})}},Object.keys(r).map(function(e,t){var n=r[e];return l.a.createElement("optgroup",{key:t,label:e},Object.keys(n).map(function(t,r){var n=e+"."+t;return l.a.createElement("option",{key:r,value:n},t+" ("+e+")")}))}))},r._renderHeader=function(){var e=this.props,t=e.selectedCategory,r=e.selectedExample;return t&&r?l.a.createElement("div",null,l.a.createElement("h3",null,r," ",l.a.createElement("b",null,t)," ")):null},r._renderDropped=function(){var e=this.props.droppedFile;return e?l.a.createElement("div",null,"Dropped file: ",JSON.stringify(e.name)):null},r._renderStats=function(){var e,t=this.props,r=t.vertexCount,n=t.loadTimeMs;return e=r>=1e7?(r/1e6).toFixed(0)+"M":r>=1e6?(r/1e6).toFixed(1)+"M":r>=1e4?(r/1e3).toFixed(0)+"K":r>=1e3?(r/1e3).toFixed(1)+"K":""+r,l.a.createElement("div",null,l.a.createElement("div",null,Number.isFinite(r)?"Points: "+e:null),l.a.createElement("div",null,Number.isFinite(n)?"Load time: "+(n/1e3).toFixed(1)+"s":null))},r.render=function(){return l.a.createElement(B,null,this._renderHeader(),this._renderDropDown(),this._renderDropped(),this._renderStats())},t}(o.PureComponent);var H="https://raw.githubusercontent.com/uber-common/deck.gl-data/master",J="https://raw.githubusercontent.com/uber-web/loaders.gl/master",K={PLY:{"Lucy 800K":{uri:H+"/examples/point-cloud-ply/lucy800k.ply"},"Lucy 100K":{uri:H+"/examples/point-cloud-ply/lucy100k.ply"},Bunny:{uri:J+"/modules/obj/bunny.ply"},"Bun Zipper (Text)":{uri:J+"/modules/ply/bun_zipper.ply"}},LAZ:{"Indoor Scan 800K":{uri:H+"/examples/point-cloud-laz/indoor.0.1.laz"},"Indoor Scan 8M":{uri:H+"/examples/point-cloud-laz/indoor.laz"}},Draco:{Bunny:{uri:J+"/modules/draco/bunny.drc"}},PCD:{Zaghetto:{uri:J+"/modules/pcd/Zaghetto.pcd"},"Simple (Text)":{uri:J+"/modules/obj/simple-ascii.pcd"}},OBJ:{Magnolia:{uri:J+"/modules/obj/magnolia.obj"},Bunny:{uri:J+"/modules/obj/bunny.obj"},Cube:{uri:J+"/modules/obj/cube.obj"}}};r.d(t,"default",function(){return W}),r.d(t,"renderToDOM",function(){return q}),Object(P.b)([d.a,m.a,j,E,M]);var X={target:[0,0,0],rotationX:0,rotationOrbit:0,orbitAxis:"Y",fov:50,minZoom:0,maxZoom:10,zoom:1},Y=new h.e(["rotationOrbit"]),W=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={viewState:X,pointsCount:0,points:null,droppedFile:null},r._onLoad=r._onLoad.bind(a()(r)),r._rotateCamera=r._rotateCamera.bind(a()(r)),r._onViewStateChange=r._onViewStateChange.bind(a()(r)),r._onExampleChange=r._onExampleChange.bind(a()(r)),r}s()(t,e);var r=t.prototype;return r._onViewStateChange=function(e){var t=e.viewState;this.setState({viewState:t})},r._rotateCamera=function(){var e=this.state.viewState;this.setState({viewState:Object.assign({},e,{rotationOrbit:e.rotationOrbit+30,transitionDuration:600,transitionInterpolator:Y,onTransitionEnd:this._rotateCamera})})},r._onExampleChange=function(e){var t=e.selectedCategory,r=e.selectedExample,n=e.example.uri;Object(U.a)(n).then(this._onLoad.bind(this)),this._loadStartMs=Date.now(),this.setState({selectedCategory:t,selectedExample:r,loadTimeMs:void 0})},r._onLoad=function(e){var t=e.header,r=e.loaderData,n=e.attributes,a=(e.progress,r.header),i=a.mins,s=a.maxs,o=this.state.viewState;i&&s&&(o=Object.assign({},X,{target:[(i[0]+s[0])/2,(i[1]+s[1])/2,(i[2]+s[2])/2],zoom:Math.log2(window.innerWidth/(s[0]-i[0]))-1})),this.setState({loadTimeMs:Date.now()-this._loadStartMs,pointsCount:t.vertexCount,points:n.POSITION.value,viewState:o},this._rotateCamera)},r._renderLayers=function(){var e=this.state,t=e.pointsCount,r=e.points,n=e.selectedExample;return[r&&new p.a({id:"point-cloud-layer-"+n,coordinateSystem:h.a.IDENTITY,numInstances:t,instancePositions:r,getNormal:[0,1,0],getColor:[255,255,255],opacity:.5,pointSize:.5})]},r._renderControlPanel=function(){var e=this.state,t=e.selectedExample,r=e.selectedCategory,n=e.pointsCount,a=e.loadTimeMs;return l.a.createElement(G,{examples:K,selectedCategory:r,selectedExample:t,onExampleChange:this._onExampleChange,vertexCount:n,loadTimeMs:a})},r.render=function(){var e=this.state.viewState;return l.a.createElement("div",null,this._renderControlPanel(),l.a.createElement(c.a,{views:new h.f,viewState:e,controller:!0,onViewStateChange:this._onViewStateChange,layers:this._renderLayers(),parameters:{clearColor:[.07,.14,.19,1]}}))},t}(o.PureComponent);function q(e){Object(u.render)(l.a.createElement(W,null),e)}},348:function(e,t){},349:function(e,t){},405:function(e,t){},406:function(e,t){}}]);