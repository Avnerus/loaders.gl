(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{200:function(e,t,r){"use strict";r.r(t);r(31),r(7);var n=r(210),i=r.n(n),a=(r(211),r(212)),s=r.n(a),o=r(2),u=r.n(o),c=r(0),f=r.n(c),l=r(59),h=r(440),d=r(424),p=r(409),y=r(410),b=r(411),g=r(412),m=r.n(g),v=r(413),_=r.n(v),w=r(414),T=r(415);"TextEncoder"in p.a||!y.b||(p.a.TextEncoder=y.b),"TextDecoder"in p.a||!y.a||(p.a.TextDecoder=y.a),p.b||"atob"in p.a||!b.atob||(p.a.atob=b.atob),p.b||"btoa"in p.a||!b.btoa||(p.a.btoa=b.btoa),p.b||"Headers"in p.a||!m.a||(p.a.Headers=m.a),p.b||"fetch"in p.a||!_.a||(p.a.fetch=_.a),p.b||"_encodeImageNode"in p.a||!w.encodeImageNode||(p.a._encodeImageNode=w.encodeImageNode),p.b||"_parseImageNode"in p.a||!T.parseImageNode||(p.a._parseImageNode=T.parseImageNode);r(208),r(21),r(14),r(11),r(255),r(230),r(291);var x=r(248),O=r(441),S=r(445),E=r(442),A=r(425),k=r(236),j=r(243),I=(r(32),r(219)),L={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},C={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},B={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243};var N=function(){function e(){}var t=e.prototype;return t.postProcess=function(e,t){return void 0===t&&(t={}),this.gltf=e,this.json=e.json,this.buffers=e.buffers,this._resolveTree(e.json,t)},t._resolveTree=function(e,t){var r=this;return void 0===t&&(t={}),e.bufferViews&&(e.bufferViews=e.bufferViews.map(function(e,t){return r._resolveBufferView(e,t)})),e.images&&(e.images=e.images.map(function(e,n){return r._resolveImage(e,n,t)})),e.samplers&&(e.samplers=e.samplers.map(function(e,t){return r._resolveSampler(e,t)})),e.textures&&(e.textures=e.textures.map(function(e,t){return r._resolveTexture(e,t)})),e.accessors&&(e.accessors=e.accessors.map(function(e,t){return r._resolveAccessor(e,t)})),e.materials&&(e.materials=e.materials.map(function(e,t){return r._resolveMaterial(e,t)})),e.meshes&&(e.meshes=e.meshes.map(function(e,t){return r._resolveMesh(e,t)})),e.nodes&&(e.nodes=e.nodes.map(function(e,t){return r._resolveNode(e,t)})),e.skins&&(e.skins=e.skins.map(function(e,t){return r._resolveSkin(e,t)})),e.scenes&&(e.scenes=e.scenes.map(function(e,t){return r._resolveScene(e,t)})),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene]),e},t.getScene=function(e){return this._get("scenes",e)},t.getNode=function(e){return this._get("nodes",e)},t.getSkin=function(e){return this._get("skins",e)},t.getMesh=function(e){return this._get("meshes",e)},t.getMaterial=function(e){return this._get("materials",e)},t.getAccessor=function(e){return this._get("accessors",e)},t.getCamera=function(e){return null},t.getTexture=function(e){return this._get("textures",e)},t.getSampler=function(e){return this._get("samplers",e)},t.getImage=function(e){return this._get("images",e)},t.getBufferView=function(e){return this._get("bufferViews",e)},t.getBuffer=function(e){return this._get("buffers",e)},t._get=function(e,t){if("object"==typeof t)return t;var r=this.json[e]&&this.json[e][t];return r||console.warn("glTF file error: Could not find "+e+"["+t+"]"),r},t._resolveScene=function(e,t){var r=this;return(e=Object.assign({},e)).id=e.id||"scene-"+t,e.nodes=(e.nodes||[]).map(function(e){return r.getNode(e)}),e},t._resolveNode=function(e,t){var r=this;return(e=Object.assign({},e)).id=e.id||"node-"+t,e.children&&(e.children=e.children.map(function(e){return r.getNode(e)})),void 0!==e.mesh&&(e.mesh=this.getMesh(e.mesh)),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e},t._resolveSkin=function(e,t){return(e=Object.assign({},e)).id=e.id||"skin-"+t,e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e},t._resolveMesh=function(e,t){var r=this;return(e=Object.assign({},e)).id=e.id||"mesh-"+t,e.primitives&&(e.primitives=e.primitives.map(function(e){var t=(e=Object.assign({},e)).attributes;for(var n in e.attributes={},t)e.attributes[n]=r.getAccessor(t[n]);return void 0!==e.indices&&(e.indices=r.getAccessor(e.indices)),void 0!==e.material&&(e.material=r.getMaterial(e.material)),e})),e},t._resolveMaterial=function(e,t){if((e=Object.assign({},e)).id=e.id||"material-"+t,e.normalTexture&&(e.normalTexture=Object.assign({},e.normalTexture),e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture=Object.assign({},e.occlustionTexture),e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture=Object.assign({},e.emmisiveTexture),e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.pbrMetallicRoughness){e.pbrMetallicRoughness=Object.assign({},e.pbrMetallicRoughness);var r=e.pbrMetallicRoughness;r.baseColorTexture&&(r.baseColorTexture=Object.assign({},r.baseColorTexture),r.baseColorTexture.texture=this.getTexture(r.baseColorTexture.index)),r.metallicRoughnessTexture&&(r.metallicRoughnessTexture=Object.assign({},r.metallicRoughnessTexture),r.metallicRoughnessTexture.texture=this.getTexture(r.metallicRoughnessTexture.index))}return e},t._resolveAccessor=function(e,t){var r,n;return(e=Object.assign({},e)).id=e.id||"accessor-"+t,void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=(r=e.componentType,C[r]),e.components=(n=e.type,L[n]),e.bytesPerElement=e.bytesPerComponent*e.components,e},t._resolveTexture=function(e,t){return(e=Object.assign({},e)).id=e.id||"texture-"+t,e.sampler=this.getSampler(e.sampler),e.source=this.getImage(e.source),e},t._resolveSampler=function(e,t){for(var r in(e=Object.assign({},e)).id=e.id||"sampler-"+t,e.parameters={},e){var n=this._enumSamplerParameter(r);void 0!==n&&(e.parameters[n]=e[r])}return e},t._enumSamplerParameter=function(e){return B[e]},t._resolveImage=function(e,t,r){if((e=Object.assign({},e)).id=e.id||"image-"+t,void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),"uri"in e){var n=r.uri||this.gltf.baseUri;n&&(e.baseUri=n,e.fullUri=Object(I.g)(e.uri,n))}return e.getImageAsync=function(){return e.uri?new Promise(function(t){var r=new Image;r.crossOrigin="anonymous",r.onload=function(){return t(r)},r.src=e.fullUri||e.uri}):null},e},t._resolveBufferView=function(e,t){(e=Object.assign({},e)).id=e.id||"bufferView-"+t;var r=e.buffer;e.buffer=this.getBuffer(r);var n=this.buffers[r].arrayBuffer,i=this.buffers[r].byteOffset||0;return"byteOffset"in e&&(i+=e.byteOffset),e.data=new Uint8Array(n,i,e.byteLength),e},t._resolveCamera=function(e,t){return e.id=e.id||"camera-"+t,e.perspective,e.orthographic,e},e}();var D=r(285),U=(r(358),r(292),r(293),r(231)),P=r.n(U),R=r(344),M=r(277),V=r(284);function F(e,t){if(!e)throw new Error(t||"3d-tile loader: assertion failed.")}r(247);var q={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17};var G=new R.a,z=new R.a;var H=new R.a,J=new R.a,W=new R.a,Y=new R.a,Z=new R.a,K=function(){function e(e,t,r){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,this.initialize(this,e,t,r)}P()(e,null,[{key:"WGS84",get:function(){return Object.freeze(new e(6378137,6378137,6356752.314245179))}},{key:"UNIT_SPHERE",get:function(){return Object.freeze(new e(6378137,6378137,6356752.314245179))}},{key:"MOON",get:function(){return Object.freeze(new e(1737400,1737400,1737400))}}]);var t=e.prototype;return t.initialize=function(e,t,r,n){void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),F(t>=0),F(r>=0),F(n>=0),e._radii=new R.a(t,r,n),e._radiiSquared=new R.a(t*t,r*r,n*n),e._radiiToTheFourth=new R.a(t*t*t*t,r*r*r*r,n*n*n*n),e._oneOverRadii=new R.a(0===t?0:1/t,0===r?0:1/r,0===n?0:1/n),e._oneOverRadiiSquared=new R.a(0===t?0:1/(t*t),0===r?0:1/(r*r),0===n?0:1/(n*n)),e._minimumRadius=Math.min(t,r,n),e._maximumRadius=Math.max(t,r,n),e._centerToleranceSquared=q.EPSILON1,0!==e._radiiSquared.z&&(e._squaredXOverSquaredZ=e._radiiSquared.x/e._radiiSquared.z)},e.fromVector3=function(t){return new e(t[0],t[1],t[2])},t.clone=function(t){var r=t._radii;return new e(r.x,r.y,r.z)},t.equals=function(e){return this===e||defined(e)&&R.a.equals(this._radii,e._radii)},t.toString=function(){return this._radii.toString()},t.geodeticSurfaceNormalCartographic=function(e,t){void 0===t&&(t=new R.a);var r=Object(M.f)(e[0]),n=Object(M.f)(e[1]),i=Math.cos(n),a=i*Math.cos(r),s=i*Math.sin(r),o=Math.sin(n);return t.x=a,t.y=s,t.z=o,t.normalize()},t.geodeticSurfaceNormal=function(e,t){return void 0===t&&(t=new R.a),V.f(t,e,this._oneOverRadiiSquared),V.g(t,t)},t.cartographicToCartesian=function(e,t){void 0===t&&(t=new R.a);var r=e[2],n=H,i=J;this.geodeticSurfaceNormalCartographic(e,n),i.copy(this._radiiSquared).scale(n);var a=Math.sqrt(V.d(n,i));return i.scale(1/a),n.scale(r),i.add(n),V.b(t,i),t},t.cartesianToCartographic=function(e,t){void 0===t&&(t=new R.a);var r=this.scaleToGeodeticSurface(e,Y);if(r){var n=this.geodeticSurfaceNormal(r,W),i=Z;i.copy(e).subtract(r);var a=Math.atan2(n.y,n.x),s=Math.asin(n.z),o=Math.sign(V.d(i,e))*V.e(i);return t[0]=Object(M.c)(a),t[1]=Object(M.c)(s),t[2]=o,t}},t.scaleToGeodeticSurface=function(e,t){return function(e,t,r){void 0===r&&(r=new R.a);var n=t.oneOverRadii,i=t.oneOverRadiiSquared,a=t.centerToleranceSquared;F(Number.isFinite(e.x)),F(Number.isFinite(e.y)),F(Number.isFinite(e.z)),F(Number.isFinite(n.x)),F(Number.isFinite(n.y)),F(Number.isFinite(n.z)),F(Number.isFinite(i.x)),F(Number.isFinite(i.y)),F(Number.isFinite(i.z));var s=e.x,o=e.y,u=e.z,c=n.x,f=n.y,l=n.z,h=s*s*c*c,d=o*o*f*f,p=u*u*l*l,y=h+d+p,b=Math.sqrt(1/y);if(Number.isFinite(b)){var g=G;if(g.copy(e).scale(b),y<a)return V.b(r,g);var m=i.x,v=i.y,_=i.z,w=z;w.x=g.x*m*2,w.y=g.y*v*2,w.z=g.z*_*2;var T,x,O,S,E,A,k,j=(1-b)*V.e(e)/(.5*V.e(w)),I=0;do{I=(T=h*(E=(x=1/(1+(j-=I)*m))*x)+d*(A=(O=1/(1+j*v))*O)+p*(k=(S=1/(1+j*_))*S)-1)/(-2*(h*(E*x)*m+d*(A*O)*v+p*(k*S)*_))}while(Math.abs(T)>q.EPSILON12);return r.x=s*x,r.y=o*O,r.z=u*S,r}}(e,this,t)},t.scaleToGeocentricSurface=function(e,t){Check.typeOf.object("cartesian",e),defined(t)||(t=new R.a);var r=e.x,n=e.y,i=e.z,a=this._oneOverRadiiSquared,s=1/Math.sqrt(r*r*a.x+n*n*a.y+i*i*a.z);return R.a.multiplyByScalar(e,s,t)},t.transformPositionToScaledSpace=function(e,t){return void 0===t&&(t=new R.a),R.a.multiplyComponents(e,this._oneOverRadii,t)},t.transformPositionFromScaledSpace=function(e,t){return void 0===t&&(t=new R.a),R.a.multiplyComponents(e,this._radii,t)},t.getSurfaceNormalIntersectionWithZAxis=function(e,t,r){if(Check.typeOf.object("position",e),!CesiumMath.equalsEpsilon(this._radii.x,this._radii.y,q.EPSILON15))throw new DeveloperError("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");Check.typeOf.number.greaterThan("Ellipsoid.radii.z",this._radii.z,0),t=defaultValue(t,0);var n=this._squaredXOverSquaredZ;if(defined(r)||(r=new R.a),r.x=0,r.y=0,r.z=e.z*(1-n),!(Math.abs(r.z)>=this._radii.z-t))return r},P()(e,[{key:"radii",get:function(){return this._radii}},{key:"radiiSquared",get:function(){return this._radiiSquared}},{key:"radiiToTheFourth",get:function(){return this._radiiToTheFourth}},{key:"oneOverRadii",get:function(){return this._oneOverRadii}},{key:"oneOverRadiiSquared",get:function(){return this._oneOverRadiiSquared}},{key:"centerToleranceSquared",get:function(){return this._centerToleranceSquared}},{key:"minimumRadius",get:function(){return this._minimumRadius}},{key:"maximumRadius",get:function(){return this._maximumRadius}}]),e}(),Q={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GEOMETRY:"geom",VECTOR:"vect"},X={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,EXPIRED:4,FAILED:5},$={NOT_COMPUTED:-1,USE_OPTIMIZATION:1,SKIP_OPTIMIZATION:0},ee=0,te=1,re=r(221);function ne(e,t,r){Object(re.a)(e instanceof ArrayBuffer);var n=new TextDecoder("utf8"),i=new Uint8Array(e,t,r);return n.decode(i)}function ie(e,t){void 0===t&&(t=0);var r=new DataView(e);return""+String.fromCharCode(r.getUint8(t+0))+String.fromCharCode(r.getUint8(t+1))+String.fromCharCode(r.getUint8(t+2))+String.fromCharCode(r.getUint8(t+3))}var ae,se={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},oe=Object.assign({},{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},se),ue=r(282),ce=r(228),fe=(r(352),r(258),r(259),r(244),r(245),r(218),r(353),(ae={})[se.DOUBLE]=Float64Array,ae[se.FLOAT]=Float32Array,ae[se.UNSIGNED_SHORT]=Uint16Array,ae[se.UNSIGNED_INT]=Uint32Array,ae[se.UNSIGNED_BYTE]=Uint8Array,ae[se.BYTE]=Int8Array,ae[se.SHORT]=Int16Array,ae[se.INT]=Int32Array,ae),le={DOUBLE:se.DOUBLE,FLOAT:se.FLOAT,UNSIGNED_SHORT:se.UNSIGNED_SHORT,UNSIGNED_INT:se.UNSIGNED_INT,UNSIGNED_BYTE:se.UNSIGNED_BYTE,BYTE:se.BYTE,SHORT:se.SHORT,INT:se.INT},he=function(){function e(){}return e.fromTypedArray=function(e){for(var t in e=ArrayBuffer.isView(e)?e.constructor:e,fe){if(fe[t]===e)return t}throw new Error("Failed to convert GL type")},e.fromName=function(e){var t=le[e];if(!t)throw new Error("Failed to convert GL type");return t},e.getArrayType=function(e,t){switch(void 0===t&&(t=!1),e){case se.UNSIGNED_SHORT_5_6_5:case se.UNSIGNED_SHORT_4_4_4_4:case se.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:var r=fe[e];if(!r)throw new Error("Failed to convert GL type");return r}},e.getByteSize=function(t){return e.getArrayType(t).BYTES_PER_ELEMENT},e.validate=function(t){return Boolean(e.getArrayType(t))},e.createTypedArray=function(t,r,n,i){return void 0===n&&(n=0),void 0===i&&(i=(r.byteLength-n)/e.getByteSize(t)),new(e.getArrayType(t))(r,n,i)},e}(),de=function(){function e(e,t){this.json=e,this.buffer=t,this.featuresLength=0,this._cachedTypedArrays={}}var t=e.prototype;return t.getExtension=function(e){return this.json.extensions&&this.json.extensions[e]},t.hasProperty=function(e){return Boolean(this.json[e])},t.getGlobalProperty=function(e,t,r){void 0===t&&(t=oe.UNSIGNED_INT),void 0===r&&(r=1);var n=this.json[e];return n&&Number.isFinite(n.byteOffset)?this._getTypedArrayFromBinary(e,t,r,1,n.byteOffset):n},t.getPropertyArray=function(e,t,r){var n=this.json[e];return n&&Number.isFinite(n.byteOffset)?("componentType"in n&&(t=he.fromName(n.componentType)),this._getTypedArrayFromBinary(e,t,r,this.featuresLength,n.byteOffset)):this._getTypedArrayFromArray(e,t,n)},t.getProperty=function(e,t,r,n,i){var a=this.json[e];if(!a)return a;var s=this.getPropertyArray(e,t,r);if(1===r)return s[n];for(var o=0;o<r;++o)i[o]=s[r*n+o];return i},t._getTypedArrayFromBinary=function(e,t,r,n,i){var a=this._cachedTypedArrays,s=a[e];return s||(s=he.createTypedArray(t,this.buffer.buffer,this.buffer.byteOffset+i,n*r),a[e]=s),s},t._getTypedArrayFromArray=function(e,t,r){var n=this._cachedTypedArrays,i=n[e];return i||(i=he.createTypedArray(t,r),n[e]=i),i},e}();r(223);function pe(e,t){if(!e)throw new Error(t||"3d-tile loader: assertion failed.")}var ye={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},be={SCALAR:function(e,t){return e[t]},VEC2:function(e,t){return[e[2*t+0],e[2*t+1]]},VEC3:function(e,t){return[e[3*t+0],e[3*t+1],e[3*t+2]]},VEC4:function(e,t){return[e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]]},MAT2:function(e,t){return[e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]]},MAT3:function(e,t){return[e[9*t+0],e[9*t+1],e[9*t+2],e[9*t+3],e[9*t+4],e[9*t+5],e[9*t+6],e[9*t+7],e[9*t+8]]},MAT4:function(e,t){return[e[16*t+0],e[16*t+1],e[16*t+2],e[16*t+3],e[16*t+4],e[16*t+5],e[16*t+6],e[16*t+7],e[16*t+8],e[16*t+9],e[16*t+10],e[16*t+11],e[16*t+12],e[16*t+13],e[16*t+14],e[16*t+15]]}},ge={SCALAR:function(e,t,r){t[r]=e},VEC2:function(e,t,r){t[2*r+0]=e[0],t[2*r+1]=e[1]},VEC3:function(e,t,r){t[3*r+0]=e[0],t[3*r+1]=e[1],t[3*r+2]=e[2]},VEC4:function(e,t,r){t[4*r+0]=e[0],t[4*r+1]=e[1],t[4*r+2]=e[2],t[4*r+3]=e[3]},MAT2:function(e,t,r){t[4*r+0]=e[0],t[4*r+1]=e[1],t[4*r+2]=e[2],t[4*r+3]=e[3]},MAT3:function(e,t,r){t[9*r+0]=e[0],t[9*r+1]=e[1],t[9*r+2]=e[2],t[9*r+3]=e[3],t[9*r+4]=e[4],t[9*r+5]=e[5],t[9*r+6]=e[6],t[9*r+7]=e[7],t[9*r+8]=e[8],t[9*r+9]=e[9]},MAT4:function(e,t,r){t[16*r+0]=e[0],t[16*r+1]=e[1],t[16*r+2]=e[2],t[16*r+3]=e[3],t[16*r+4]=e[4],t[16*r+5]=e[5],t[16*r+6]=e[6],t[16*r+7]=e[7],t[16*r+8]=e[8],t[16*r+9]=e[9],t[16*r+10]=e[10],t[16*r+11]=e[11],t[16*r+12]=e[12],t[16*r+13]=e[13],t[16*r+14]=e[14],t[16*r+15]=e[15]}};r(354);var me=r(355),ve=r.n(me),_e=function(e){return void 0!==e};function we(e,t,r){if(!t)return null;var n=e.getExtension("3DTILES_batch_table_hierarchy"),i=t.HIERARCHY;return i&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),t.extensions=t.extensions||{},t.extensions["3DTILES_batch_table_hierarchy"]=i,n=i),n?function(e,t){var r,n,i,a,s=e.instancesLength,o=e.classes,u=e.classIds,c=e.parentCounts,f=e.parentIds,l=s;_e(u.byteOffset)&&(u.componentType=defaultValue(u.componentType,GL.UNSIGNED_SHORT),u.type=AttributeType.SCALAR,i=getBinaryAccessor(u),ve()("classIds"),u=i.createArrayBufferView(t.buffer,t.byteOffset+u.byteOffset,s));if(_e(c))for(_e(c.byteOffset)&&(c.componentType=defaultValue(c.componentType,GL.UNSIGNED_SHORT),c.type=AttributeType.SCALAR,i=getBinaryAccessor(c),ve()("parentCounts"),c=i.createArrayBufferView(t.buffer,t.byteOffset+c.byteOffset,s)),a=new Uint16Array(s),ve()("parentIdsLength"),l=0,r=0;r<s;++r)a[r]=l,l+=(ve()("parentIdsLength"),c[r]);_e(f)&&_e(f.byteOffset)&&(f.componentType=defaultValue(f.componentType,GL.UNSIGNED_SHORT),f.type=AttributeType.SCALAR,i=getBinaryAccessor(f),ve()("parentIds"),f=i.createArrayBufferView(t.buffer,t.byteOffset+f.byteOffset,l));var h=o.length;for(r=0;r<h;++r){var d=o[r].length,p=o[r].instances,y=getBinaryProperties(d,p,t);o[r].instances=combine(y,p)}var b=new Array(h).fill(0),g=new Uint16Array(s);for(r=0;r<s;++r)n=u[r],g[r]=b[n],++b[n];var m={classes:o,classIds:u,classIndexes:g,parentCounts:c,parentIndexes:a,parentIds:f};return function(e){for(var t=e.classIds.length,r=0;r<t;++r)xe(e,r,stack)}(m),m}(n,r):null}function Te(e,t,r){if(e){var n=e.parentCounts;return e.parentIds?r(e,t):n>0?function(e,t,r){var n=e.classIds,i=e.parentCounts,a=e.parentIds,s=e.parentIndexes,o=n.length,u=scratchVisited;u.length=Math.max(u.length,o);var c=++marker,f=scratchStack;f.length=0,f.push(t);for(;f.length>0;)if(t=f.pop(),u[t]!==c){u[t]=c;var l=r(e,t);if(_e(l))return l;for(var h=i[t],d=s[t],p=0;p<h;++p){var y=a[d+p];y!==t&&f.push(y)}}return null}(e,t,r):function(e,t,r){var n=!0;for(;n;){var i=r(e,t);if(_e(i))return i;var a=e.parentIds[t];n=a!==t,t=a}throw new Error("traverseHierarchySingleParent")}(e,t,r)}}function xe(e,t,r){var n=e.parentCounts,i=e.parentIds,a=e.parentIndexes,s=e.classIds.length;if(_e(i)){assert(t<s,"Parent index "+t+" exceeds the total number of instances: "+s),assert(-1===r.indexOf(t),"Circular dependency detected in the batch table hierarchy."),r.push(t);for(var o=_e(n)?n[t]:1,u=_e(n)?a[t]:t,c=0;c<o;++c){var f=i[u+c];f!==t&&xe(e,f,r)}r.pop(t)}}var Oe=function(e){return void 0!==e},Se=function(e){return e},Ee={HIERARCHY:!0,extensions:!0,extras:!0},Ae=function(){function e(e,t,r,n){for(var i in void 0===n&&(n={}),pe(r>=0),this.json=e||{},this.binary=t,this.featureCount=r,this._extensions=this.json&&this.json.extensions||{},this._properties={},this.json)Ee[i]||(this._properties[i]=this.json[i]);this._binaryProperties=this._initializeBinaryProperties(),n["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=we(this,this.json,this.binary))}var t=e.prototype;return t.getExtension=function(e){return this.json&&this.json.extensions&&this.json.extensions[e]},t.memorySizeInBytes=function(){return 0},t.isClass=function(e,t){if(this._checkBatchId(e),pe("string"==typeof t,t),this._hierarchy){var r=Te(this._hierarchy,e,function(e,r){var n=e.classIds[r];return e.classes[n].name===t});return Oe(r)}return!1},t.isExactClass=function(e,t){return pe("string"==typeof t,t),this.getExactClassName(e)===t},t.getExactClassName=function(e){if(this._checkBatchId(e),this._hierarchy){var t=this._hierarchy.classIds[e];return this._hierarchy.classes[t].name}},t.hasProperty=function(e,t){return this._checkBatchId(e),pe("string"==typeof t,t),Oe(this._properties[t])||this._hasPropertyInHierarchy(e,t)},t.getPropertyNames=function(e,t){var r;this._checkBatchId(e),(t=Oe(t)?t:[]).length=0;var n=Object.keys(this._properties);return(r=t).push.apply(r,n),this._hierarchy&&this._getPropertyNamesInHierarchy(e,t),t},t.getProperty=function(e,t){if(this._checkBatchId(e),pe("string"==typeof t,t),this._binaryProperties){var r=this._binaryProperties[t];if(Oe(r))return this._getBinaryProperty(r,e)}var n=this._properties[t];if(Oe(n))return Se(n[e]);if(this._hierarchy){var i=this._getHierarchyProperty(e,t);if(Oe(i))return i}},t.setProperty=function(e,t,r){var n=this.featureCount;if(this._checkBatchId(e,n),pe("string"==typeof t,t),this._binaryProperties){var i=this._binaryProperties[t];if(i)return void this._setBinaryProperty(i,e,r)}if(!this._hierarchy||!this._setHierarchyProperty(this,e,t,r)){var a=this._properties[t];Oe(a)||(this._properties[t]=new Array(n),a=this._properties[t]),a[e]=Se(r)}},t._checkBatchId=function(e){if(!(e>=0&&e<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")},t._getBinaryProperty=function(e,t){return e.unpack(e.typedArray,t)},t._setBinaryProperty=function(e,t,r){e.pack(r,e.typedArray,t)},t._initializeBinaryProperties=function(){var e=null;for(var t in this._properties){var r=this._properties[t],n=this._initializeBinaryProperty(t,r);n&&((e=e||{})[t]=n)}return e},t._initializeBinaryProperty=function(e,t){if("byteOffset"in t){var r=t;pe(this.binary,"Property "+e+" requires a batch table binary."),pe(r.type,"Property "+e+" requires a type.");var n=function(e,t,r,n){var i=e.componentType;pe(e.componentType);var a="string"==typeof i?he.fromName(i):i,s=ye[e.type],o=be[e.type],u=ge[e.type];return r+=e.byteOffset,{values:he.createTypedArray(a,t,r,s*n),type:a,size:s,unpacker:o,packer:u}}(r,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:n.values,componentCount:n.size,unpack:n.unpacker,pack:n.packer}}return null},t._hasPropertyInHierarchy=function(e,t){if(!this._hierarchy)return!1;var r=Te(this._hierarchy,e,function(e,r){var n=e.classIds[r],i=e.classes[n].instances;return Oe(i[t])});return Oe(r)},t._getPropertyNamesInHierarchy=function(e,t){Te(this._hierarchy,e,function(e,r){var n=e.classIds[r],i=e.classes[n].instances;for(var a in i)i.hasOwnProperty(a)&&-1===t.indexOf(a)&&t.push(a)})},t._getHierarchyProperty=function(e,t){var r=this;return Te(this._hierarchy,e,function(e,n){var i=e.classIds[n],a=e.classes[i],s=e.classIndexes[n],o=a.instances[t];return Oe(o)?Oe(o.typedArray)?r._getBinaryProperty(o,s):Se(o[s]):null})},t._setHierarchyProperty=function(e,t,r,n){var i=this,a=Te(this._hierarchy,t,function(e,a){var s=e.classIds[a],o=e.classes[s],u=e.classIndexes[a],c=o.instances[r];return!!Oe(c)&&(pe(a===t,'Inherited property "'+r+'" is read-only.'),Oe(c.typedArray)?i._setBinaryProperty(c,u,n):c[u]=Se(n),!0)});return Oe(a)},e}(),ke=4;function je(e,t,r){void 0===r&&(r=0);var n=new DataView(t);if(e.magic=n.getUint32(r,!0),r+=ke,e.version=n.getUint32(r,!0),r+=ke,e.byteLength=n.getUint32(r,!0),r+=ke,1!==e.version)throw new Error("3D Tile Version "+e.version+" not supported");return r}var Ie=4;function Le(e,t,r){var n=new DataView(t);return e.featureTableJsonByteLength=n.getUint32(r,!0),r+=Ie,e.featureTableBinaryByteLength=n.getUint32(r,!0),r+=Ie,e.batchTableJsonByteLength=n.getUint32(r,!0),r+=Ie,e.batchTableBinaryByteLength=n.getUint32(r,!0),r+=Ie}function Ce(e,t,r,n){return r=function(e,t,r,n){var i=e.featureTableJsonByteLength,a=e.featureTableBinaryByteLength;if(e.featureTableJson={BATCH_LENGTH:0},i>0){var s=ne(t,r,i);e.featureTableJson=JSON.parse(s)}return r+=i,e.featureTableBinary=new Uint8Array(t,r,a),r+=a}(e,t,r),r=function(e,t,r,n){var i=e.batchTableJsonByteLength,a=e.batchTableBinaryByteLength;if(i>0){var s=ne(t,r,i);e.batchTableJson=JSON.parse(s),r+=i,a>0&&(e.batchTableBinary=new Uint8Array(t,r,a),e.batchTableBinary=new Uint8Array(e.batchTableBinary),r+=a)}return r}(e,t,r)}function Be(e,t,r,n){return Ne.apply(this,arguments)}function Ne(){return(Ne=s()(i.a.mark(function e(t,r,n,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=je(t,r,n),n=Le(t,r,n),n=Ce(t,r,n),e.next=5,Ue(t,a);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function De(e,t,r,n){return r=Ce(e,t,r=Le(e,t,r=je(e,t,r))),function(e){var t=Re(e).featureTable;Me(e,t),Ve(e,t),Fe(e,t)}(e),r}function Ue(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=s()(i.a.mark(function e(t,r){var n,a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Re(t),a=n.featureTable,s=n.batchTable,e.next=3,qe(t,a,s,r);case 3:Me(t,a),Ve(t,a),Fe(t,a);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Re(e){var t=new de(e.featureTableJson,e.featureTableBinary),r=t.getGlobalProperty("POINTS_LENGTH");if(e.featuresLength=r,t.featuresLength=r,!Number.isFinite(r))throw new Error("POINTS_LENGTH must be defined");e.rtcCenter=t.getGlobalProperty("RTC_CENTER",oe.FLOAT,3),e.positions=null,e.colors=null,e.normals=null,e.batchIds=null,e.isQuantized=!1,e.isTranslucent=!1,e.isRGB565=!1,e.isOctEncoded16P=!1;var n=function(e,t){var r=null;if(!e.batchIds&&t.hasProperty("BATCH_ID")&&(e.batchIds=t.getPropertyArray("BATCH_ID",oe.UNSIGNED_SHORT,1),e.batchIds)){var n=t.getGlobalProperty("BATCH_LENGTH");if(!n)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");var i=e.batchTableJson,a=e.batchTableBinary;r=new Ae(i,a,n)}return r}(e,t);return{featureTable:t,batchTable:n}}function Me(e,t){if(!e.positions)if(t.hasProperty("POSITION"))e.positions=t.getPropertyArray("POSITION",oe.FLOAT,3);else if(t.hasProperty("POSITION_QUANTIZED")){if(e.positions=t.getPropertyArray("POSITION_QUANTIZED",oe.UNSIGNED_SHORT,3),e.isQuantized=!0,e.quantizedRange=65535,e.quantizedVolumeScale=t.getGlobalProperty("QUANTIZED_VOLUME_SCALE",oe.FLOAT,3),!e.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(e.quantizedVolumeOffset=t.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",oe.FLOAT,3),!e.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.")}if(!e.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}function Ve(e,t){e.colors||(t.hasProperty("RGBA")?(e.colors=t.getPropertyArray("RGBA",oe.UNSIGNED_BYTE,4),e.isTranslucent=!0):t.hasProperty("RGB")?e.colors=t.getPropertyArray("RGB",oe.UNSIGNED_BYTE,3):t.hasProperty("RGB565")&&(e.colors=t.getPropertyArray("RGB565",oe.UNSIGNED_SHORT,1),e.isRGB565=!0)),t.hasProperty("CONSTANT_RGBA")&&(e.constantRGBA=t.getGlobalProperty("CONSTANT_RGBA",oe.UNSIGNED_BYTE,4))}function Fe(e,t){e.normals||(t.hasProperty("NORMAL")?e.normals=t.getPropertyArray("NORMAL",oe.FLOAT,3):t.hasProperty("NORMAL_OCT16P")&&(e.normals=t.getPropertyArray("NORMAL_OCT16P",oe.UNSIGNED_BYTE,2),e.isOctEncoded16P=!0))}function qe(e,t,r,n){return Ge.apply(this,arguments)}function Ge(){return(Ge=s()(i.a.mark(function e(t,r,n,a){var s,o,u,c,f,l,h;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((c=n&&n.getExtension("3DTILES_draco_point_compression"))&&(u=c.properties),!(f=r.getExtension("3DTILES_draco_point_compression"))){e.next=15;break}if(o=f.properties,l=f.byteOffset,h=f.byteLength,o&&Number.isFinite(l)&&h){e.next=9;break}throw new Error("Draco properties, byteOffset, and byteLength must be defined");case 9:s=t.featureTableBinary.slice(l,l+h),t.hasPositions=Number.isFinite(o.POSITION),t.hasColors=Number.isFinite(o.RGB)||Number.isFinite(o.RGBA),t.hasNormals=Number.isFinite(o.NORMAL),t.hasBatchIds=Number.isFinite(o.BATCH_ID),t.isTranslucent=Number.isFinite(o.RGBA);case 15:if(!s){e.next=19;break}return t.draco={buffer:s,properties:Object.assign({},o,u),featureTableProperties:o,batchTableProperties:u,dequantizeInShader:!1},e.next=19,ze(t,a);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ze(e,t){return He.apply(this,arguments)}function He(){return(He=s()(i.a.mark(function e(t,r){var n,a,s,o,u,c,f,l,h,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.draco)||!n.buffer){e.next=23;break}if(a=null,!r.DracoLoader){e.next=9;break}return e.next=6,Object(ce.a)(n.buffer,r.DracoLoader);case 6:a=e.sent,e.next=10;break;case 9:a=(new ue.a).parseSync(n.buffer);case 10:s=a.attributes.POSITION&&a.attributes.POSITION.value,o=a.attributes.COLOR_0&&a.attributes.COLOR_0.value,u=a.attributes.NORMAL&&a.attributes.NORMAL.value,c=a.attributes.BATCH_ID&&a.attributes.BATCH_ID.value,f=s&&a.attributes.POSITION.value.quantization,l=u&&a.attributes.NORMAL.value.quantization,f&&(h=a.POSITION.data.quantization,d=h.range,t.quantizedVolumeScale=new R.a(d,d,d),t.quantizedVolumeOffset=new R.a(h.minValues),t.quantizedRange=(1<<h.quantizationBits)-1,t.isQuantizedDraco=!0),l&&(t.octEncodedRange=(1<<a.NORMAL.data.quantization.quantizationBits)-1,t.isOctEncodedDraco=!0),t.positions=s,t.colors=o,t.normals=u,t.batchIds=c,delete t.draco;case 23:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Je=r(294),We={URI:0,EMBEDDED:1};function Ye(e,t,r){var n=e.byteOffset+e.byteLength-r;if(0===n)throw new Error("glTF byte length must be greater than 0.");if(r%4==0)e.gltfArrayBuffer=t,e.gltfByteOffset=r,e.gltfByteLength=n;else{console.warn(e.type+": embedded glb is not aligned to a 4-byte boundary.");var i=new Uint8Array(t).subarray(r,r+n),a=new Uint8Array(i);e.gltfArrayBuffer=a.buffer,e.gltfByteOffset=0,e.gltfByteLength=n}return e.byteOffset+e.byteLength}function Ze(e,t,r){switch(t){case We.URI:throw new Error("i3dm: glTF format 0 (uri) not yet implemented");case We.EMBEDDED:e.gltf={},Object(Je.b)(e.gltf,e.gltfArrayBuffer,e.gltfByteOffset,r);break;default:throw new Error("i3dm: glTF format "+t+": Must be 0 (uri) or 1 (embedded)")}delete e.gltfArrayBuffer,delete e.gltfByteOffset,delete e.gltfByteLength}function Ke(e,t,r,n){return Qe.apply(this,arguments)}function Qe(){return(Qe=s()(i.a.mark(function e(t,r,n,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xe(t,r,n,a));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xe(e,t,r,n){r=Ye(e,t,r=Ce(e,t,r=Le(e,t,r=je(e,t,r))));var i=new de(e.featureTableJson,e.featureTableBinary);return e.rtcCenter=i.getGlobalProperty("RTC_CENTER",oe.FLOAT,3),Ze(e,We.EMBEDDED,n),r}function $e(e,t,r,n){return et.apply(this,arguments)}function et(){return(et=s()(i.a.mark(function e(t,r,n,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt(t,r,n,a));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tt(e,t,r,n){if(r=je(e,t,r),1!==e.version)throw new Error("Instanced 3D Model version "+e.version+" is not supported");r=Le(e,t,r);var i=new DataView(t);if(e.gltfFormat=i.getUint32(r,!0),r=Ye(e,t,r=Ce(e,t,r+=4)),0===e.featureTableJsonByteLength)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");var a=new de(e.featureTableJson,e.featureTableBinary),s=a.getGlobalProperty("INSTANCES_LENGTH");if(a.featuresLength=s,!Number.isFinite(s))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");return e.eastNorthUp=a.getGlobalProperty("EAST_NORTH_UP"),e.rtcCenter=a.getGlobalProperty("RTC_CENTER",oe.FLOAT,3),Ze(e,e.gltfFormat,n),r}function rt(e,t,r,n,i){return nt.apply(this,arguments)}function nt(){return(nt=s()(i.a.mark(function e(t,r,n,a,s){var o,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=je(t,r,n),o=new DataView(r),t.tilesLength=o.getUint32(n,!0),n+=4,t.tiles=[];case 5:if(!(t.tiles.length<t.tilesLength&&t.byteLength-n>12)){e.next=13;break}return u={},t.tiles.push(u),e.next=10,s(r,n,a,u);case 10:n=e.sent,e.next=5;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function it(e,t,r,n){return at.apply(this,arguments)}function at(){return(at=s()(i.a.mark(function e(t,r,n,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:void 0===r&&(r=0),void 0===n&&(n={}),void 0===a&&(a={}),a.byteOffset=r,a.type=ie(t,r),e.t0=a.type,e.next=e.t0===Q.COMPOSITE?8:e.t0===Q.BATCHED_3D_MODEL?9:e.t0===Q.INSTANCED_3D_MODEL?10:e.t0===Q.POINT_CLOUD?11:14;break;case 8:return e.abrupt("return",rt(a,t,r,n,it));case 9:return e.abrupt("return",Ke(a,t,r,n));case 10:return e.abrupt("return",$e(a,t,r,n));case 11:return e.next=13,Be(a,t,r,n);case 13:return e.abrupt("return",e.sent);case 14:throw new Error("3DTileLoader: unknown type "+a.type);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function st(e,t,r,n){switch(void 0===t&&(t=0),void 0===r&&(r={}),void 0===n&&(n={}),n.byteOffset=t,n.type=ie(e,t),n.type){case Q.COMPOSITE:return function(e,t,r,n,i){r=je(e,t,r);var a=new DataView(t);for(e.tilesLength=a.getUint32(r,!0),r+=4,e.tiles=[];e.tiles.length<e.tilesLength&&e.byteLength-r>12;){var s={};e.tiles.push(s),r=i(t,r,n,s)}return r}(n,e,t,r,st);case Q.BATCHED_3D_MODEL:return Xe(n,e,t,r);case Q.INSTANCED_3D_MODEL:return tt(n,e,t,r);case Q.POINT_CLOUD:return De(n,e,t);default:throw new Error("3DTileLoader: unknown type "+n.type)}}var ot={name:"3D Tiles",extensions:["cmpt","pnts","b3dm","i3dm"],mimeType:"application/octet-stream",parse:function(e,t,r,n){return ut.apply(this,arguments)},parseSync:function(e,t,r,n){var i={};return st(e,0,t,i),i},binary:!0};function ut(){return(ut=s()(i.a.mark(function e(t,r,n,a){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={},0,e.next=4,it(t,0,r,s);case 4:return e.abrupt("return",s);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ct={name:"3D Tileset",extensions:["json"],testText:function(e){return e.indexOf(!1)},parseTextSync:JSON.parse},ft=(r(356),r(76),r(77),r(357),r(447));Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1}),new R.a,new R.a,new R.a,new R.a,new R.a,new R.a,new R.a,new ft.a,new R.a,new ft.a,new R.a,new O.a;function lt(e,t,r){if(pe(e,"3D Tile: boundingVolume must be defined"),e.box)return null;if(e.region)return null;if(e.sphere)return null;throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")}var ht=r(239),dt=function(e){return void 0!==e},pt=new Date,yt=new R.a,bt=function(){function e(e,t,r,n){pe("object"==typeof r),this._tileset=e,this._header=r,this._content=null,this._contentState=X.UNLOADED,this.children=[],this.parent=n,this.refine=this._getRefine(r.refine),this.userData=null,"geometricError"in r?this.geometricError=r.geometricError:(this.geometricError=this.parent&&this.parent.geometricError||e._geometricError,console.warn("3D Tile: Required prop geometricError is undefined. Using parent error")),this._initializeTransforms(r),this._initializeBoundingVolumes(r),this._initializeContent(r),this._initializeCache(r),this._optimChildrenWithinParent=$.NOT_COMPUTED,this._initializeRenderingState(),Object.seal(this)}var t=e.prototype;return t.destroy=function(){this._header=null},t.isDestroyed=function(){return null===this._header},t.getScreenSpaceError=function(e,t){var r=e.frustum,n=(e.width,e.height),i=this._tileset,a=this.parent&&this.parent.geometricError||i._geometricError,s=t?a:this.geometricError;if(0===s)return 0;var o=Math.max(this._distanceToCamera,1e-7),u=s*n/(o*r.sseDenominator);return u-=this._getDynamicScreenSpaceError(o)},t._getDynamicScreenSpaceError=function(e){var t=this._tileset;if(t.dynamicScreenSpaceError&&t._dynamicScreenSpaceErrorComputedDensity){var r=t._dynamicScreenSpaceErrorComputedDensity,n=t.dynamicScreenSpaceErrorFactor;return function(e,t){var r=e*t;return 1-Math.exp(-r*r)}(e,r)*n}return 0},t.loadContent=function(){var e=s()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasEmptyContent){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this._content){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,this.requestContent(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.requestContent=function(){var e=s()(i.a.mark(function e(t){var r,n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasEmptyContent){e.next=2;break}return e.abrupt("return",!1);case 2:return this.contentExpired&&(this.expireDate=void 0),e.prev=4,this._contentState=X.LOADING,r=this.uri,e.next=9,Object(ht.a)(r);case 9:return n=e.sent,e.next=12,n.arrayBuffer();case 12:return a=e.sent,e.next=15,ot.parse(a,{DracoLoader:t});case 15:this._content=e.sent,this._contentState=X.READY,this._contentLoaded();case 18:return e.prev=18,this._contentState=X.FAILED,e.finish(18);case 21:case"end":return e.stop()}},e,this,[[4,,18,21]])}));return function(t){return e.apply(this,arguments)}}(),t.unloadContent=function(){this.hasEmptyContent||this.hasTilesetContent||(this._content&&this._content.destroy&&this._content.destroy(),this._content=null,this._contentState=X.UNLOADED)},t.updateVisibility=function(e){var t=this.parent,r=dt(t)?t.computedTransform:this._tileset.modelMatrix;this._updateTransform(r),this._distanceToCamera=this.distanceToTile(e),this._centerZDepth=this.distanceToTileCenter(e),this._screenSpaceError=this.getScreenSpaceError(e,!1),this._visibilityPlaneMask=this.visibility(e,parentVisibilityPlaneMask),this._visible=this._visibilityPlaneMask!==CullingVolume.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(e)},t.updateExpiration=function(){if(dt(this.expireDate)&&this.contentReady&&!this.hasEmptyContent){var e=Date.now(pt);Date.lessThan(this.expireDate,e)&&(this._contentState=X.EXPIRED,this._expiredContent=this._content)}},t.visibility=function(e,t){return!0},t.contentVisibility=function(e){return!0},t.distanceToTile=function(e){var t=e.frameState;return this._boundingVolume.distanceToCamera(t)},t.distanceToTileCenter=function(e){var t=e.camera,r=this._boundingVolume.boundingVolume,n=R.a.subtract(r.center,t.positionWC,yt),i=R.a.magnitude(n);return R.a.divideByScalar(n,i,n),i*R.a.dot(t.directionWC,n)},t.insideViewerRequestVolume=function(e){var t=this._viewerRequestVolume;return!t||0===t.distanceToCamera(e)},t._initializeCache=function(e){this.cacheNode=void 0;var t,r,n=e.expire;dt(n)&&(t=n.duration,dt(n.date)&&(r=Date.fromIso8601(n.date))),this.expireDuration=t,this.expireDate=r},t._initializeTransforms=function(e){this.transform=e.transform?new O.a(e.transform):new O.a;var t=this.parent,r=this._tileset,n=t&&t.computedTransform?t.computedTransform.clone():r.modelMatrix.clone();this.computedTransform=new O.a(n).multiplyRight(this.transform);var i=t&&t._initialTransform?t._initialTransform.clone():new O.a;this._initialTransform=new O.a(i).multiplyRight(this.transform),this.computedTransform=new O.a},t._initializeBoundingVolumes=function(e){this._boundingVolume=lt(e.boundingVolume,this.computedTransform),this._contentBoundingVolume=null,this._viewerRequestVolume=null,e.content&&e.content.boundingVolume&&(this._contentBoundingVolume=lt(e.boundingVolume,this.computedTransform)),e.viewerRequestVolume&&(this._viewerRequestVolume=lt(e.viewerRequestVolume,this.computedTransform))},t._initializeContent=function(e){this._content={_tileset:this._tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=X.UNLOADED,this._expiredContent=void 0,this._serverKey=null,this.hasTilesetContent=!1,e.content&&(this.contentUri=e.content.uri,"url"in e&&(console.warn('Tileset 3D: "content.url" property deprecated. Use "content.uri" instead.'),this.contentUri=e.url),this._content=null,this.hasEmptyContent=!1,this.contentState=X.UNLOADED)},t._initializeRenderingState=function(){this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=0,this._visible=!1,this._inRequestVolume=!1,this._finalResolution=!0,this._depth=0,this._stackLength=0,this._selectionDepth=0,this._updatedVisibilityFrame=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._ancestorWithContent=void 0,this._ancestorWithContentAvailable=void 0,this._refines=!1,this._shouldSelect=!1,this._priority=0},t._getRefine=function(e){switch(e){case"REPLACE":case"replace":return te;case"ADD":case"add":return ee;default:return this.parent?this.parent.refine:te}},t._isTileset=function(e){return"tilesetVersion"in e},t._contentLoaded=function(){switch(this._content.type){case"vctr":case"geom":tileset._disableSkipLevelOfDetail=!0}this._isTileset(this._content)&&(this.hasTilesetContent=!0)},t._updateTransform=function(e){if(void 0===e&&(e=new O.a),!e.clone().multiply(this.transform).equals(this.computedTransform)){var t=this._header,r=this._header.content;this._boundingVolume=lt(t.boundingVolume,this.computedTransform,this._boundingVolume),this._contentBoundingVolume&&(this._contentBoundingVolume=lt(r.boundingVolume,this.computedTransform,this._contentBoundingVolume)),this._viewerRequestVolume&&(this._viewerRequestVolume=lt(t.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume))}},P()(e,[{key:"tileset",get:function(){return this._tileset}},{key:"content",get:function(){return this._content}},{key:"contentReady",get:function(){return this._contentState===X.READY}},{key:"contentAvailable",get:function(){return this.contentReady&&!this.hasEmptyContent&&!this.hasTilesetContent||dt(this._expiredContent)&&!this.contentFailed}},{key:"contentUnloaded",get:function(){return this._contentState===X.UNLOADED}},{key:"contentExpired",get:function(){return this._contentState===X.EXPIRED}},{key:"contentFailed",get:function(){return this._contentState===X.FAILED}},{key:"url",get:function(){return this.tileset.getTileUrl(this.contentUri)}},{key:"uri",get:function(){return this.tileset.getTileUrl(this.contentUri)}},{key:"boundingVolume",get:function(){return this._boundingVolume}},{key:"contentBoundingVolume",get:function(){return this._contentBoundingVolume||this._boundingVolume}},{key:"boundingSphere",get:function(){return this._boundingVolume.boundingSphere}},{key:"extras",get:function(){return this._header.extras}}]),e}();var gt={basePath:"",ellipsoid:"",cullWithChildrenBounds:!0,maximumScreenSpaceError:16,maximumMemoryUsage:512,modelMatrix:new O.a,dynamicScreenSpaceError:!1,dynamicScreenSpaceErrorDensity:.00278,dynamicScreenSpaceErrorFactor:4,dynamicScreenSpaceErrorHeightFalloff:.25,skipLevelOfDetail:!0,baseScreenSpaceError:1024,skipScreenSpaceErrorFactor:16,skipLevels:1,immediatelyLoadDesiredLevelOfDetail:!1,loadSiblings:!1,onLoadProgress:function(){},onAllTilesLoaded:function(){},initialTilesLoaded:function(){},onTileLoad:function(){},onTileUnload:function(){},onTileLoadFailed:function(e){e.tile;var t=e.message,r=e.url;console.error("A 3D tile failed to load: "+r+" "+t)},onTileVisible:function(){}};var mt=function(){function e(e,t,r){void 0===r&&(r={});var n=(r=Object.assign({},gt,r)).cullWithChildrenBounds;pe(e),this._url=t,this._basePath=function(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""}(t),this._root=void 0,this._asset=void 0,this._properties=void 0,this._geometricError=void 0,this._extensionsUsed=void 0,this._gltfUpAxis=void 0,this._processingQueue=[],this._selectedTiles=[],this._emptyTiles=[],this._requestedTiles=[],this._selectedTilesToStyle=[],this._loadTimestamp=void 0,this._timeSinceLoad=0,this._updatedVisibilityFrame=0,this._extras=void 0,this._credits=void 0,this._cullWithChildrenBounds=n,this._allTilesAdditive=!0,this._hasMixedContent=!1,this._maximumScreenSpaceError=r.maximumScreenSpaceError,this._maximumMemoryUsage=r.maximumMemoryUsage,this._modelMatrix=r.modelMatrix,this._tilesLoaded=!1,this._initialTilesLoaded=!1,this._readyPromise=Promise.resolve(),this._classificationType=r.classificationType,this._ellipsoid=r.ellipsoid,this._dynamicScreenSpaceErrorComputedDensity=0,this._skipLevelOfDetail=this.skipLevelOfDetail,this._disableSkipLevelOfDetail=!1,this.onLoadProgress=r.onLoadProgress,this.onAllTilesLoaded=r.onAllTilesLoaded,this.initialTilesLoaded=r.initialTilesLoaded,this.onTileLoad=r.onTileLoad,this.onTileUnload=r.onTileUnload,this.onTileLoadFailed=r.onTileLoadFailed,this.onTileVisible=r.onTileVisible,this._skipLevelOfDetail=this.skipLevelOfDetail,this._disableSkipLevelOfDetail=!1,this.initializeTileSet(e,r),this.props={},Object.assign(this.props,r)}var t=e.prototype;return t.destroy=function(){var e=[];for(this._root&&e.push(this._root);e.length>0;){var t=s.children,r=Array.isArray(t),n=0;for(t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}var a=i;e.push(a)}var s=e.pop();s.destroy()}this._root=null},t.initializeTileSet=function(e,t){this._root=this.installTileset(e,null);var r=e.asset;this._asset=r,this._properties=e.properties,this._geometricError=e.geometricError,this._extensionsUsed=e.extensionsUsed,this._extras=e.extras,this._credits={}},t.getTileUrl=function(e){return this.basePath+"/"+e+this.queryParams},t.hasExtension=function(e){return Boolean(this._extensionsUsed&&this._extensionsUsed.indexOf(e)>-1)},t.installTileset=function(e,t){var r=e.asset;if(!r)throw new Error("Tileset must have an asset property.");if("0.0"!==r.version&&"1.0"!==r.version)throw new Error("The tileset must be 3D Tiles version 0.0 or 1.0.");this._queryParams={},"tilesetVersion"in r&&(this._queryParams.v=r.tilesetVersion);var n=new bt(this,null,e.root,t);t&&(t.children.push(n),n._depth=t._depth+1);var i=[];for(i.push(n);i.length>0;){var a=i.pop(),s=a._header.children||[],o=Array.isArray(s),u=0;for(s=o?s:s[Symbol.iterator]();;){var c;if(o){if(u>=s.length)break;c=s[u++]}else{if((u=s.next()).done)break;c=u.value}var f=new bt(this,null,c,a);a.children.push(f),f._depth=a._depth+1,i.push(f)}}return n},t.trimLoadedTiles=function(){this._cache.trim()},t.traverse=function(e,t,r){if(void 0===t&&(t=Number.MAX_SAFE_INTEGER),void 0===r&&(r=this.root),e(r),r&&r.children&&r._depth<t){var n=r.children,i=Array.isArray(n),a=0;for(n=i?n:n[Symbol.iterator]();;){var s;if(i){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var o=s;this.traverse(e,t,o)}}},t._requestTiles=function(){this._requestedTiles.sort(function(e,t){return e._priority-t._priority});var e=this._requestedTiles,t=Array.isArray(e),r=0;for(e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if((r=e.next()).done)break;n=r.value}var i=n;this._requestContent(this,i)}},t._requestContent=function(){var e=s()(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasEmptyContent){e.next=2;break}return e.abrupt("return");case 2:if(r=t.contentExpired,t.requestContent()){e.next=6;break}return e.abrupt("return");case 6:return r&&t.hasTilesetContent&&this._destroySubtree(t),e.prev=7,e.next=10,t.contentReadyPromise;case 10:t.hasTilesetContent||this._cache.add(t),this.onTileLoad(t),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),this.onTileLoadFailed({tile:t,url:t.url,message:e.t0.message||e.t0.toString()});case 17:case"end":return e.stop()}},e,this,[[7,14]])}));return function(t){return e.apply(this,arguments)}}(),t._destroySubtree=function(e){var t=e,r=[];for(r.push(t);r.length>0;){var n=(e=r.pop()).children,i=Array.isArray(n),a=0;for(n=i?n:n[Symbol.iterator]();;){var s;if(i){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var o=s;r.push(o)}e!==t&&this._destroyTile(e)}t.children=[]},t._destroyTile=function(e){this._cache.unloadTile(this,e),this.onTileUnload(e),e.unloadContent(),e.destroy()},t._unloadTiles=function(){var e=this;this._cache.unloadTiles(this,function(t){e.onTileUnload(t),t.unloadContent()})},P()(e,[{key:"asset",get:function(){return this._asset}},{key:"properties",get:function(){return this._properties}},{key:"ready",get:function(){return Boolean(this._root)}},{key:"readyPromise",get:function(){return this._readyPromise.promise}},{key:"tilesLoaded",get:function(){return this._tilesLoaded}},{key:"url",get:function(){return this._url}},{key:"basePath",get:function(){return this._basePath}},{key:"queryParams",get:function(){for(var e=[],t=0,r=Object.keys(this._queryParams);t<r.length;t++){var n=r[t];e.push(n+"="+this._queryParams[n])}return e.length?"?"+e.join("&"):""}},{key:"maximumScreenSpaceError",get:function(){return this._maximumScreenSpaceError},set:function(e){pe(e>=0),this._maximumScreenSpaceError=e}},{key:"maximumMemoryUsage",get:function(){return this._maximumMemoryUsage},set:function(e){pe(e>0),this._maximumMemoryUsage=e}},{key:"root",get:function(){return this._root}},{key:"boundingSphere",get:function(){return this._checkReady(),this._root.updateTransform(this._modelMatrix),this._root.boundingSphere}},{key:"modelMatrix",get:function(){return this._modelMatrix},set:function(e){this._modelMatrix=new O.a(e)}},{key:"timeSinceLoad",get:function(){return this._timeSinceLoad}},{key:"totalMemoryUsageInBytes",get:function(){return 0}},{key:"ellipsoid",get:function(){return this._ellipsoid}},{key:"extras",get:function(){return this._extras}}]),e}();Object(k.b)([ot,ct]);var vt=[255,0,0,255],_t={tilesetUrl:null,isWGS84:!1,color:vt,depthLimit:Number.MAX_SAFE_INTEGER,coordinateSystem:null,coordinateOrigin:null,onTileLoaded:function(){}},wt=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var r=t.prototype;return r.initializeState=function(){this.state={layerMap:{},layers:[]}},r.updateState=function(e){var t=e.props,r=e.oldProps;e.changeFlags;t.tilesetUrl!==r.tilesetUrl&&(this.setState({layerMap:{},layers:[]}),this._loadTileset(t.tilesetUrl))},r._loadTileset=function(){var e=s()(i.a.mark(function e(t){var r,n,a,s=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props.depthLimit,n=null,!t){e.next=8;break}return e.next=5,Object(j.a)(t);case 5:a=e.sent,(n=new mt(a,t)).traverse(function(e){return s._loadTile3D(e)},r);case 8:this.setState({tileset3d:n});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r._loadTile3D=function(){var e=s()(i.a.mark(function e(t){var r,n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadContent(D.a);case 2:this._unpackTile(t),n=this._render3DTileLayer(t),a=Object.assign({},this.state.layerMap,((r={})[t.contentUri]=n,r)),this.setState({layerMap:a,layers:Object.values(a).filter(Boolean)}),this.props.onTileLoaded(t);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r._unpackTile=function(e){var t=e.content;if(t)switch(t.type){case"pnts":this._unpackPointCloud3DTile(e);break;case"i3dm":case"b3dm":this._unpackInstanced3DTile(e);break;default:return void console.warn("Error unpacking 3D tile",t.type,t)}},r._unpackPointCloud3DTile=function(e){var t=e.content,r=new de(t.featureTableJson,t.featureTableBinary),n=null;if(t.batchIds){var i=t.batchTableJson,a=t.batchTableBinary;n=new Ae(i,a,r.getGlobalProperty("BATCH_LENGTH"))}var s=t.positions;e.userData={pointsCount:t.featureTableJson.POINTS_LENGTH,positions:s,featureTable:r,batchTable:n,transform:e._initialTransform},this._loadColors(e)},r._loadColors=function(e){var t=e.content,r=t.batchIds,n=t.colors,i=t.isRGB565,a=t.constantRGBA;a&&(e.userData.color=a);var s,o,u,c,f=e.userData,l=f.batchTable,h=f.pointsCount,d=n;if(n&&n.length===4*h||(d=new Uint8Array(4*h)),i)for(var p=0;p<h;p++){var y=(s=n[p],o=void 0,u=void 0,c=void 0,o=31&s,u=s>>5&63,c=s>>11&31,[o=Math.round(255*o/32),u=Math.round(255*u/64),c=Math.round(255*c/32)]);d[4*p]=y[0],d[4*p+1]=y[1],d[4*p+2]=y[2],d[4*p+3]=255}if(n&&n.length===3*h)for(var b=0;b<h;b++)d[4*b]=n[3*b],d[4*b+1]=n[3*b+1],d[4*b+2]=n[3*b+2],d[4*b+3]=255;if(r&&l)for(var g=0;g<h;g++){var m=r[g],v=l.getProperty(m,"dimensions").map(function(e){return 255*e});d[4*g]=v[0],d[4*g+1]=v[1],d[4*g+2]=v[2],d[4*g+3]=255}e.userData.colors=d},r._unpackInstanced3DTile=function(e){var t,r,n=this.context.animationProps.gl,i=(t=e.content.gltf,(new N).postProcess(t,r)),a=Object(A.a)(n,i);e.userData={gltfObjects:a}},r._render3DTileLayer=function(e){if(!e.content||!e.userData)return null;switch(e.content.type){case"pnts":return this._renderPointCloud3DTileLayer(e);case"i3dm":case"b3dm":return this._renderInstanced3DTileLayer(e);default:return null}},r._renderInstanced3DTileLayer=function(e){var t=e.userData.gltfObjects;return new E.a({id:"3d-model-tile-layer-"+e.contentUri,data:[{},{}],coordinateSystem:x.a.METERS,pickable:!0,scenegraph:t.scenes[0],sizeScale:2,getPosition:function(e){return[0,0,0]},getOrientation:function(e){return[0,0,0]},getTranslation:[0,0,0],getScale:[1,1,1],getColor:[255,255,255,255],opacity:.8})},r._resolveTransformProps=function(e){if(!e||!e.content)return{};var t,r=this.props,n=r.coordinateSystem,i=r.coordinateOrigin,a=r.isWGS84,s=e.content.rtcCenter,o=e.userData.transform,u={};if(n&&(u.coordinateSystem=n),i&&(u.coordinateOrigin=i),o&&(t=new O.a(o)),s&&(t=t?t.translate(s):(new O.a).translate(s)),t&&(u.modelMatrix=t),a&&(u.coordinateSystem=n||x.a.METER_OFFSETS,u.coordinateOrigin=i,!i)){var c=(new O.a).multiplyRight(u.modelMatrix).transformVector3([0,0,0]);u.coordinateOrigin=K.WGS84.cartesianToCartographic(c,c),delete u.modelMatrix}return s&&(u.coordinateSystem=u.coordinateSystem||x.a.METER_OFFSETS),u},r._getColorProps=function(e){var t=e.userData,r=t.colors,n=t.color;return r?{instanceColors:r}:{getColor:function(){return n||vt}}},r._renderPointCloud3DTileLayer=function(e){var t=e.content,r=t.positions,n=t.normals,i=e.userData.pointsCount,a=this._resolveTransformProps(e),s=this._getColorProps(e);return r&&new S.a(Object.assign({id:"3d-point-cloud-tile-layer-"+e.contentUri,data:{length:r.length/3},numInstances:i,instancePositions:r},s,{instanceNormals:n,opacity:.8,pointSize:1.5},a))},r.renderLayers=function(){return this.state.layers},t}(x.b);wt.layerName="Tileset3DLayer",wt.defaultProps=_t;r(81);var Tt=r(9),xt=r(419),Ot=r.n(xt),St=Tt.a.div.withConfig({displayName:"control-panel__Container",componentId:"sc-14q5t5u-0"})(["display:flex;flex-direction:column;position:absolute;top:0;right:0;max-width:320px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,0.3);padding:12px 24px;margin:20px;font-size:13px;line-height:2;outline:none;z-index:100;"]),Et=Tt.a.select.withConfig({displayName:"control-panel__DropDown",componentId:"sc-14q5t5u-1"})(["margin-bottom:6px;"]),At={category:Ot.a.string.isRequired,name:Ot.a.string.isRequired,data:Ot.a.object.isRequired,droppedFile:Ot.a.string,onChange:Ot.a.func},kt=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var r=t.prototype;return r._renderByCategories=function(){var e=this.props,t=e.category,r=e.name,n=e.onChange,i=e.data,a=Object.keys(i),s=t+"."+r;return f.a.createElement(Et,{value:s,onChange:function(e){var t=e.target.value.split(".");n({category:t[0],name:t[1]})}},a.map(function(e,t){var r=i[e].examples;return f.a.createElement("optgroup",{key:t,label:e},Object.keys(r).map(function(t,r){var n=e+"."+t;return f.a.createElement("option",{key:r,value:n},t)}))}))},r._renderDropped=function(){var e=this.props.droppedFile;return e?f.a.createElement("div",null,"Dropped file: ",JSON.stringify(e.name)):null},r.render=function(){return f.a.createElement(St,null,this._renderByCategories(),this._renderDropped())},t}(c.PureComponent);kt.propTypes=At,kt.defaultProps={droppedFile:null,onChange:function(){}},r.d(t,"INITIAL_VIEW_STATE",function(){return Ct}),r.d(t,"default",function(){return Bt}),r.d(t,"renderToDOM",function(){return Nt});var jt="https://raw.githubusercontent.com/uber-web/loaders.gl/master",It={name:"additional",examples:{royalExhibitionBuilding:{tilesetUrl:"https://raw.githubusercontent.com/uber-common/deck.gl-data/master/3d-tiles/RoyalExhibitionBuilding/tileset.json",coordinateSystem:x.a.METER_OFFSETS,coordinateOrigin:[144.97212,-37.805177],isWGS84:!1,depthLimit:5,color:[115,101,152,200]}}},Lt={latitude:40.04248558075302,longitude:-75.61213987669433},Ct=Object.assign({},Lt,{pitch:60,bearing:0,minZoom:2,maxZoom:30,zoom:17}),Bt=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={viewState:Ct,featureTable:null,batchTable:null,droppedFile:null,examplesByCategory:null,tileset3dLayerProps:{},name:"TilesetPoints",category:"Tilesets"},r._deckRef=null,r}u()(t,e);var r=t.prototype;return r.componentDidMount=function(){this._loadIndexAndDefaultTileset()},r._loadIndexAndDefaultTileset=function(){var e=s()(i.a.mark(function e(){var t,r,n,a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/uber-web/loaders.gl/master/modules/3d-tiles/test/data/index.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,this.setState({examplesByCategory:Object.assign({},r,{additional:It})}),n=this.state,a=n.category,s=n.name,e.next=10,this._loadSelectedTileset(a,s);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),r._loadSelectedTileset=function(){var e=s()(i.a.mark(function e(t,r){var n,a,s,o,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.state.examplesByCategory,s={},"additional"===t?(s=It.examples[r],o=s.coordinateOrigin,this.setState({viewState:Object.assign({},this.state.viewState,{longitude:o[0],latitude:o[1]})})):(this.setState({viewState:Object.assign({},this.state.viewState,Lt)}),(u=n[t].examples[r])&&u.tileset&&(a=jt+"/"+u.path+"/"+u.tileset,s={tilesetUrl:a,isWGS84:!0})),this.setState({tileset3dLayerProps:s});case 4:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),r._onSelectExample=function(){var e=s()(i.a.mark(function e(t){var r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.category,n=t.name,this.setState({category:r,name:n}),e.next=4,this._loadSelectedTileset(r,n);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r._renderControlPanel=function(){var e=this.state,t=e.examplesByCategory,r=e.category,n=e.name;return t?f.a.createElement(kt,{data:t,category:r,name:n,onChange:this._onSelectExample.bind(this)}):null},r._onViewStateChange=function(e){var t=e.viewState;this.setState({viewState:t})},r._renderLayer=function(){var e=this,t=this.state.tileset3dLayerProps,r=t.tilesetUrl,n=t.coordinateSystem,i=t.coordinateOrigin,a=t.isWGS84,s=t.depthLimit,o=t.color;return t&&new wt({id:"tileset-layer",tilesetUrl:r,coordinateSystem:n,coordinateOrigin:i,isWGS84:a,depthLimit:s,color:o,onTileLoaded:function(t){return e.forceUpdate()}})},r.render=function(){var e=this,t=this.state.viewState,r=this._renderLayer();return f.a.createElement("div",null,this._renderControlPanel(),f.a.createElement(h.a,{ref:function(t){return e._deckRef=t},layers:[r],initialViewState:Ct,viewState:t,onViewStateChange:this._onViewStateChange.bind(this),controller:!0},f.a.createElement(d.a,{reuseMaps:!0,mapStyle:"mapbox://styles/mapbox/light-v9",preventStyleDiffing:!0,mapboxApiAccessToken:"pk.eyJ1IjoidWJlcmRhdGEiLCJhIjoiY2poOXAzNG5sMGVncDNkbGpvaTNqbGI2ZiJ9.ZW89W5Ykmm2p0rikFeUj0g"})))},t}(c.PureComponent);function Nt(e){Object(l.render)(f.a.createElement(Bt,null),e)}},215:function(e,t,r){"use strict";r.d(t,"d",function(){return s}),r.d(t,"a",function(){return o}),r.d(t,"e",function(){return u}),r.d(t,"b",function(){return c}),r.d(t,"c",function(){return f}),r.d(t,"f",function(){return l});r(76),r(77);var n=function(e){return"boolean"==typeof e},i=function(e){return"function"==typeof e},a=function(e){return null!==e&&"object"==typeof e},s=function(e){return e&&"function"==typeof e[Symbol.iterator]},o=function(e){return e&&"function"==typeof e[Symbol.asyncIterator]},u=function(e){return a(e)&&"done"in e&&"value"in e},c=function(e){return"undefined"!=typeof window&&e instanceof window.Response||e.arrayBuffer&&e.text&&e.json},f=function(e){return function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)},l=function(e){return function(e){return a(e)&&i(e.tee)&&i(e.cancel)&&i(e.pipeTo)&&i(e.getReader)}(e)||function(e){return a(e)&&i(e.read)&&i(e.pipe)&&n(e.readable)}(e)}},219:function(e,t,r){"use strict";r.d(t,"c",function(){return s}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return u}),r.d(t,"e",function(){return c}),r.d(t,"f",function(){return f}),r.d(t,"d",function(){return l}),r.d(t,"g",function(){return h});r(82),r(218),r(244),r(245),r(258),r(208),r(259),r(21),r(14),r(11),r(78),r(222);var n=r(224),i=["SCALAR","VEC2","VEC3","VEC4"],a=new Map([[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126]]),s={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},o={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},u={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function c(e){return i[e-1]||i[0]}function f(e){var t=a.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function l(e,t){var r=u[e.componentType],i=s[e.type],a=o[e.componentType],c=e.count*i,f=e.count*i*a;return Object(n.a)(f>=0&&f<=t.byteLength),{ArrayType:r,length:c,byteLength:f}}function h(e,t){return e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:")?e:t.substr(0,t.lastIndexOf("/")+1)+e}},220:function(e,t,r){"use strict";(function(e,n){r.d(t,"b",function(){return i}),r.d(t,"a",function(){return s});var i="object"!=typeof e||"[object process]"!==String(e)||e.browser,a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==n&&n,document:"undefined"!=typeof document&&document},s=a.global||a.self||a.window}).call(this,r(126),r(79))},221:function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"loader assertion failed.")}r.d(t,"a",function(){return n})},224:function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"gltf/glb assertion failed.")}r.d(t,"a",function(){return n})},227:function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return s});r(32),r(11),r(208);var n=r(221),i=function(e){return e&&e instanceof ArrayBuffer},a=function(t){return t&&t instanceof e};function s(e){if(i(e))return e;if(a(e))return new Uint8Array(e).buffer;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}return Object(n.a)(!1)}}).call(this,r(263).Buffer)},228:function(e,t,r){"use strict";r(31);var n=r(210),i=r.n(n),a=(r(211),r(212)),s=r.n(a),o=r(215),u=r(256),c=r(233),f=r(260),l=r(236),h=r(221),d=(r(7),r(32),r(21),r(14),r(11),r(78),r(222),r(227)),p=new Map;function y(e,t,r){var n=function(e){var t=p.get(e);if(!t){var r=new Blob([e],{type:"application/javascript"});t=URL.createObjectURL(r),p.set(e,t)}return new Worker(t)}(e);r=function(e){null!==(e=Object.assign({},e)).log&&delete e.log;return e}(r);var i=function(e,t){return new Promise(function(r,i){n.onmessage=function(e){switch(e.data.type){case"done":r(e.data.result),n.terminate();break;case"error":i(new Error(e.data.message))}};var a=Object(d.a)(e);n.postMessage({arraybuffer:a,opts:t},[a])})};return t?i(t,r):i}r(76),r(77);var b=r(250),g=r(254),m="Cannot convert supplied data type";function v(e){return Object(o.b)(e)?e.url:null}function _(e,t){if(t.text&&"string"==typeof e)return e;if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){var r=e.buffer||e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}throw new Error(m)}function w(e,t){return T.apply(this,arguments)}function T(){return(T=s()(i.a.mark(function e(t,r){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(t=e.sent,n=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!=typeof t&&!n){e.next=6;break}return e.abrupt("return",_(t,r));case 6:if(!Object(o.c)(t)){e.next=10;break}return e.next=9,Object(g.a)(t);case 9:t=e.sent;case 10:if(!Object(o.b)(t)){e.next=19;break}if(!r.binary){e.next=17;break}return e.next=14,t.arrayBuffer();case 14:e.t0=e.sent,e.next=18;break;case 17:e.t0=t.text();case 18:return e.abrupt("return",e.t0);case 19:throw new Error(m);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e,t){return O.apply(this,arguments)}function O(){return(O=s()(i.a.mark(function e(t,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(o.e)(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!Object(o.b)(t)||!t.body){e.next=4;break}return e.abrupt("return",Object(b.a)(t.body));case 4:if(!Object(o.f)(t)){e.next=6;break}return e.abrupt("return",Object(b.a)(t));case 6:if(!Object(o.a)(t)){e.next=8;break}return e.abrupt("return",t[Symbol.asyncIterator]());case 8:return e.abrupt("return",S(t,r));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e,t){return E.apply(this,arguments)}function E(){return(E=s()(i.a.mark(function e(t,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof ArrayBuffer||ArrayBuffer.isView(t))){e.next=2;break}return e.abrupt("return",i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.buffer||t;case 2:case"end":return e.stop()}},e)})());case 2:if(!Object(o.e)(t)){e.next=4;break}return e.abrupt("return",t);case 4:if(!Object(o.d)(t)){e.next=6;break}return e.abrupt("return",t[Symbol.iterator]());case 6:throw new Error(m);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e,t,r,n){return k.apply(this,arguments)}function k(){return(k=s()(i.a.mark(function e(t,r,n,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=a||v(t),e.next=3,w(t,r);case 3:if(t=e.sent,!r.parseTextSync||"string"!=typeof t){e.next=7;break}return n.dataType="text",e.abrupt("return",r.parseTextSync(t,n,a,r));case 7:if(!r.parseSync){e.next=9;break}return e.abrupt("return",r.parseSync(t,n,a,r));case 9:if(!r.parse){e.next=13;break}return e.next=12,r.parse(t,n,a,r);case 12:return e.abrupt("return",e.sent);case 13:if(!r.worker){e.next=17;break}return e.next=16,y(r.worker,t,n);case 16:return e.abrupt("return",e.sent);case 17:return e.abrupt("return",Object(h.a)(!1));case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(e,t,r,n){return I.apply(this,arguments)}function I(){return(I=s()(i.a.mark(function e(t,r,n,a){var s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.parseInBatches){e.next=6;break}return e.next=3,x(t);case 3:return s=e.sent,o=r.parseInBatches(s,n,a,r),e.abrupt("return",o);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e,t,r,n){return C.apply(this,arguments)}function C(){return(C=s()(i.a.mark(function e(t,r,n,a){var s,h;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(r)||Object(c.a)(r)||(a=n,n=r,r=null),s=Object(o.c)(a)?a.name:a,r=r||Object(l.a)(),h=Array.isArray(r)?Object(u.a)(s,t,r):r){e.next=6;break}return e.abrupt("return",null);case 6:return Object(c.b)(h),n=Object(f.a)(n,h),e.next=10,A(t,h,n,s);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(e,t,r,n){Array.isArray(t)||Object(c.a)(t)||(n=r,r=t,t=null),t=t||Object(l.a)();var i=Array.isArray(t)?Object(u.a)(n,e,t):t;return Object(c.b)(i),function(e,t,r,n){return e=_(e,t),t.parseTextSync&&"string"==typeof e?t.parseTextSync(e,r,n,t):t.parseSync?t.parseSync(e,r,n,t):Object(h.a)(!1)}(e,i,r=Object(f.a)(r,i),n)}function N(e,t,r,n){return D.apply(this,arguments)}function D(){return(D=s()(i.a.mark(function e(t,r,n,a){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(r)||Object(c.a)(r)||(a=n,n=r,r=null),r=r||Object(l.a)(),s=Array.isArray(r)?Object(u.a)(a,null,r):r,Object(c.b)(s),n=Object(f.a)(n,s),e.abrupt("return",j(t,s,n,a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}r.d(t,"a",function(){return L}),r.d(t,"c",function(){return B}),r.d(t,"b",function(){return N})},232:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r(33),r(82),r(7);var n="",i={};function a(e){for(var t in i)if(e.startsWith(t)){var r=i[t];return e.replace(t,r)}return e+=n}},233:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a});r(7);var n=r(221);function i(e){return!!e&&(Array.isArray(e)&&(e=e[0]),e.parseTextSync||e.parseSync||e.parse||e.loadAndParse||e.parseStream||e.parseInBatches||e.worker)}function a(e){var t;return Object(n.a)(i(e)),Array.isArray(e)&&(t=(e=e[0])[1],e=Object.assign({},e,{options:Object.assign({},e.options,{options:t})})),e.extension&&(e.extensions=e.extensions||[e.extension],delete e.extension),Array.isArray(e.extensions)||(e.extensions=[e.extensions]),Object(n.a)(e.extensions&&e.extensions.length>0&&e.extensions[0]),e.parseTextSync&&(e.text=!0),e.text||(e.binary=!0),e}},236:function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return s});r(14),r(11),r(255),r(76),r(77),r(21);var n=r(233),i={};function a(e){var t=e=Array.isArray(e)?e:[e],r=Array.isArray(t),a=0;for(t=r?t:t[Symbol.iterator]();;){var s;if(r){if(a>=t.length)break;s=t[a++]}else{if((a=t.next()).done)break;s=a.value}var o=s;Object(n.b)(o);var u=o.extensions,c=Array.isArray(u),f=0;for(u=c?u:u[Symbol.iterator]();;){var l;if(c){if(f>=u.length)break;l=u[f++]}else{if((f=u.next()).done)break;l=f.value}i[l]=o}}}function s(){return Object.values(i)}},239:function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(210),i=r.n(n),a=(r(211),r(212)),s=r.n(a),o=r(215),u=r(232),c=r(254);function f(e,t){return l.apply(this,arguments)}function l(){return(l=s()(i.a.mark(function e(t,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(o.c)(t)){e.next=2;break}return e.abrupt("return",Object(c.a)(t,r));case 2:return t=Object(u.a)(t),e.abrupt("return",fetch(t,r));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}},243:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r(31);var n=r(210),i=r.n(n),a=(r(211),r(212)),s=r.n(a),o=r(215),u=r(239),c=r(233),f=r(260),l=r(256),h=r(228),d=r(236);function p(e,t,r){return y.apply(this,arguments)}function y(){return(y=s()(i.a.mark(function e(t,r,n){var a,s,p;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(r)||Object(c.a)(r)||(n=r,r=null),a=Object(o.c)(t)?t.name:t,r=r||Object(d.a)(),s=Array.isArray(r)?Object(l.a)(a,null,r):r,n=Object(f.a)(n,s),!s||!s.loadAndParse){e.next=9;break}return e.next=8,s.loadAndParse(t,n);case 8:return e.abrupt("return",e.sent);case 9:if(p=t,!Object(o.c)(p)&&"string"!=typeof p){e.next=14;break}return e.next=13,Object(u.a)(t,n);case 13:p=e.sent;case 14:return e.abrupt("return",Object(h.a)(p,r,n,a));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}},246:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"c",function(){return i}),r.d(t,"b",function(){return a});var n="KHR_draco_mesh_compression",i="UBER_draco_point_cloud_compression",a="KHR_lights_punctual"},250:function(e,t,r){"use strict";r.d(t,"a",function(){return h});r(32),r(11),r(76),r(77);var n=r(212),i=r.n(n),a=r(210),s=r.n(a),o=(r(211),r(308)),u=r.n(o),c=r(309),f=r.n(c),l=r(220);function h(e){return"function"==typeof e[Symbol.asyncIterator]?e:"function"==typeof e.getIterator?e.getIterator():l.b?function(e){return d.apply(this,arguments)}(e):function(e){return p.apply(this,arguments)}(e)}function d(){return(d=f()(s.a.mark(function e(t){var r,n,i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getReader(),e.prev=1;case 2:return e.next=5,u()(r.read());case 5:if(n=e.sent,i=n.done,a=n.value,!i){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,a;case 12:e.next=2;break;case 14:return e.prev=14,r.releaseLock(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,,14,17]])}))).apply(this,arguments)}function p(){return(p=f()(s.a.mark(function e(t){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()(t);case 2:t=e.sent;case 3:if(null===(r=t.read())){e.next=9;break}return e.next=8,r;case 8:return e.abrupt("continue",3);case 9:if(!t._readableState.ended){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,u()(y(t));case 13:e.next=3;break;case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return(b=i()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){t.once("readable",e)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}},254:function(e,t,r){"use strict";r.d(t,"a",function(){return l});r(32),r(11),r(31);var n=r(210),i=r.n(n),a=(r(211),r(212)),s=r.n(a),o=r(231),u=r.n(o),c=r(221),f=function(){function e(e){this._fileOrBlob=e,this.bodyUsed=!1}var t=e.prototype;return t.url=function(){return this._fileOrBlob.name||""},t.arrayBuffer=function(){var e=s()(i.a.mark(function e(){var t,r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getFileReader(),r=t.reader,n=t.promise,r.readAsArrayBuffer(this._fileOrBlob),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.text=function(){var e=s()(i.a.mark(function e(){var t,r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getFileReader(),r=t.reader,n=t.promise,r.readAsText(this._fileOrBlob),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.json=function(){var e=s()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.text();case 2:return t=e.sent,e.abrupt("return",JSON.parse(t));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._getFileReader=function(){var e;Object(c.a)(!this.bodyUsed),this.bodyUsed=!0;var t=new Promise(function(t,r){try{(e=new FileReader).onerror=function(e){return r(new Error(e))},e.onabort=function(){return r(new Error("Read aborted."))},e.onload=function(){return t(e.result)}}catch(n){r(n)}});return{reader:e,promise:t}},u()(e,[{key:"headers",get:function(){return new Headers({"Content-Length":this._fileOrBlob.size,"Content-Type":this._fileOrBlob.type})}}]),e}();function l(e,t){return Promise.resolve(new f(e,t))}},256:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r(76),r(77),r(21),r(83);var n=r(233),i=/[^.]+$/;function a(e,t,r){void 0===e&&(e="");var a=e.match(i);if(a&&a[0]){var s=function(e,t){t=t.toLowerCase();for(var r=e,i=Array.isArray(r),a=0,r=i?r:r[Symbol.iterator]();;){var s;if(i){if(a>=r.length)break;s=r[a++]}else{if((a=r.next()).done)break;s=a.value}var o=s;Object(n.b)(o);for(var u=o.extensions,c=Array.isArray(u),f=0,u=c?u:u[Symbol.iterator]();;){var l;if(c){if(f>=u.length)break;l=u[f++]}else{if((f=u.next()).done)break;l=f.value}var h=l;if(h.toLowerCase()===t)return o}}return null}(r,a[0]);if(s)return s}var o=function(e,t){for(var r=e,n=Array.isArray(r),i=0,r=n?r:r[Symbol.iterator]();;){var a;if(n){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;if(s.testText&&s.testText(t))return s}return null}(r,t);return o||null}},260:function(e,t,r){"use strict";r(7);var n=function(){function e(){}var t=e.prototype;return t.log=function(){},t.info=function(){},t.warn=function(){},t.error=function(){},e}();function i(e,t){return null===(e=Object.assign({},t&&t.DEFAULT_OPTIONS,t&&t.defaultOptions,t&&t.options,e,{dataType:"arraybuffer"})).log&&(e.log=new n),"log"in e||(e.log=console),e}r.d(t,"a",function(){return i})},264:function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return a});r(218),r(31);var n=r(219);function i(e){var t={};for(var r in e){var n=e[r];if("indices"!==r){var i=a(n);t[r]=i}}return t}function a(e,t){var r=function(e,t){var r=e,n=1,i=0;e&&e.value&&(r=e.value,n=e.size||1);r&&(ArrayBuffer.isView(r)||(r=function(e,t,r){void 0===r&&(r=!1);if(!e)return null;if(Array.isArray(e))return new t(e);if(r&&!(e instanceof t))return new t(e);return e}(r,Float32Array)),i=r.length/n);return{buffer:r,size:n,count:i}}(e),i=r.buffer,a=r.size;return{value:i,size:a,bufferView:null,byteOffset:0,count:r.count,type:Object(n.e)(a),componentType:Object(n.f)(i)}}},265:function(e,t,r){"use strict";r(208);function n(e,t){if(!e)throw new Error(t||"loader assertion failed.")}var i=r(341);r.d(t,"b",function(){return h}),r.d(t,"a",function(){return d});var a=1735152710,s=12,o=8,u=1313821514,c=5130562,f=!0,l=!1;function h(e,t,r){void 0===t&&(t=0),void 0===r&&(r={});var n=new DataView(e),i=r.magic,s=void 0===i?a:i,o=n.getUint32(t,!1);return o===s||o===a}function d(e,t,r,h){void 0===r&&(r=0),void 0===h&&(h={});var d=new DataView(t);e.byteOffset=r,e.magic=d.getUint32(r+0,l),e.version=d.getUint32(r+4,f),e.byteLength=d.getUint32(r+8,f),e.type=function(e){return""+String.fromCharCode(e.getUint8(0))+String.fromCharCode(e.getUint8(1))+String.fromCharCode(e.getUint8(2))+String.fromCharCode(e.getUint8(3))}(d);var p=h.magic,y=void 0===p?a:p;e.magic===a||e.magic===y||console.warn("Invalid GLB magic string "+e.type),n(2===e.version,"Invalid GLB version "+e.version+". Only .glb v2 supported"),n(e.byteLength>20);var b=d.getUint32(r+12,f),g=d.getUint32(r+16,f);n(g===u||0===g,"JSON chunk format "+g);var m=s+o,v=new Uint8Array(t,r+m,b),_=new TextDecoder("utf8").decode(v);e.json=JSON.parse(_);var w=m+Object(i.b)(b);if(e.hasBinChunk=w+8<=e.byteLength,e.hasBinChunk){var T=d.getUint32(r+w+0,f),x=d.getUint32(r+w+4,f);n(x===c||1===x,"BIN chunk format "+x);var O=w+o;e.binChunkByteOffset=O,e.binChunkLength=T}return r+e.byteLength}},294:function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"KHR_draco_mesh_compression",function(){return x}),r.d(n,"KHR_lights_punctual",function(){return O});r(76),r(77),r(21),r(7);var i=r(210),a=r.n(i),s=(r(211),r(212)),o=r.n(s),u=r(239),c=r(224),f=r(219),l=r(265),h=(r(14),r(11),r(223),r(231)),d=r.n(h),p=(r(208),r(80),r(78),r(242),r(276),r(222),!1),y=!0,b=new Map([["image/png",{test:function(e){return e.byteLength>=24&&2303741511===e.getUint32(0,p)},getSize:function(e){return{width:e.getUint32(16,p),height:e.getUint32(20,p)}}}],["image/jpeg",{test:function(e){return e.byteLength>=2&&65496===e.getUint16(0,p)},getSize:function(e){if(e.byteLength<2||65496!==e.getUint16(0,p))return null;var t=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var r=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:r}}(),r=t.tableMarkers,n=t.sofMarkers,i=2;for(;i<e.byteLength;){var a=e.getUint16(i,p);if(n.has(a))return{height:e.getUint16(i+5,p),width:e.getUint16(i+7,p)};if(!r.has(a))return null;i+=2,i+=e.getUint16(i,p)}return null}}],["image/gif",{test:function(e){return e.byteLength>=10&&1195984440===e.getUint32(0,p)},getSize:function(e){return{width:e.getUint16(6,y),height:e.getUint16(8,y)}}}],["image/bmp",{test:function(e){return e.byteLength>=2&&16973===e.getUint16(0,p)},getSize:function(e){return{width:e.getUint32(18,y),height:e.getUint32(22,y)}}}]]);Array.from(b.keys()).join(", ");function g(e){var t=m(e),r=b.entries(),n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a,o=s[0];if((0,s[1].test)(t))return o}return null}function m(e){if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return new DataView(e.buffer||e);throw new Error("toDataView")}var v=r(341),_=function(){function e(t){if(t instanceof e)return t;t||(t={json:{version:2,buffers:[]},binary:null}),this.gltf=t}var t=e.prototype;return t.getApplicationData=function(e){return this.json[e]},t.getExtraData=function(e){return(this.json.extras||{})[e]},t.getExtension=function(e){var t=this.getUsedExtensions().find(function(t){return t===e}),r=this.json.extensions||{};return t?r[e]||!0:null},t.getRequiredExtension=function(e){return this.getRequiredExtensions().find(function(t){return t===e})?this.getExtension(e):null},t.getRequiredExtensions=function(){return this.json.extensionsRequired||[]},t.getUsedExtensions=function(){return this.json.extensionsUsed||[]},t.getObjectExtension=function(e,t){return(e.extensions||{})[t]},t.getScene=function(e){return this.getObject("scenes",e)},t.getNode=function(e){return this.getObject("nodes",e)},t.getSkin=function(e){return this.getObject("skins",e)},t.getMesh=function(e){return this.getObject("meshes",e)},t.getMaterial=function(e){return this.getObject("materials",e)},t.getAccessor=function(e){return this.getObject("accessors",e)},t.getCamera=function(e){return null},t.getTexture=function(e){return this.getObject("textures",e)},t.getSampler=function(e){return this.getObject("samplers",e)},t.getImage=function(e){return this.getObject("images",e)},t.getBufferView=function(e){return this.getObject("bufferViews",e)},t.getBuffer=function(e){return this.getObject("buffers",e)},t.getObject=function(e,t){if("object"==typeof t)return t;var r=this.gltf[e]&&this.gltf[e][t];return r||console.warn("glTF file error: Could not find "+e+"["+t+"]"),r},t.getTypedArrayForBufferView=function(e){e=this.getBufferView(e);var t=this.getBuffer(e.buffer).data,r=e.byteOffset||0;return new Uint8Array(t,r,e.byteLength)},t.getTypedArrayForAccessor=function(e){e=this.getAccessor(e);var t=this.getBuffer(e.bufferView),r=this.getBuffer(t.buffer).data,n=Object(f.d)(e,t),i=n.ArrayType,a=n.length;return new i(r,t.byteOffset+e.byteOffset,a)},t.getTypedArrayForImageData=function(e){e=this.getAccessor(e);var t=this.getBuffer(e.bufferView),r=this.getBuffer(t.buffer).data,n=t.byteOffset||0;return new Uint8Array(r,n,t.byteLength)},t.addApplicationData=function(e,t){return this.json[e]=t,this},t.addExtraData=function(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this},t.addExtension=function(e,t){return Object(c.a)(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),this},t.addRequiredExtension=function(e,t){return Object(c.a)(t),this.addExtension(e,t),this.registerRequiredExtension(e),this},t.registerUsedExtension=function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(function(t){return t===e})||this.json.extensionsUsed.push(e)},t.registerRequiredExtension=function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(function(t){return t===e})||this.json.extensionsRequired.push(e)},t.removeExtension=function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]},t.setObjectExtension=function(e,t,r){(e.extensions||{})[t]=r},t.addMesh=function(e,t,r){void 0===r&&(r=4);var n={primitives:[{attributes:this._addAttributes(e),indices:t,mode:r}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(n),this.json.meshes.length-1},t.addPointCloud=function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1},t.addImage=function(e,t){t=t||g(e);var r={bufferView:this.addBufferView(e),mimeType:t};return this.json.images=this.json.images||[],this.json.images.push(r),this.json.images.length-1},t.addBufferView=function(e){var t=e.byteLength||e.length;this.byteLength+=Object(v.b)(t),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);var r={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(r),this.json.bufferViews.length-1},t.addAccessor=function(e,t){var r={bufferView:e,type:Object(f.e)(t.size),componentType:t.componentType,count:t.count};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(r),this.json.accessors.length-1},t.addBinaryBuffer=function(e,t){void 0===t&&(t={size:3});var r=this.addBufferView(e),n={size:t.size,componentType:Object(f.f)(e),count:Math.round(e.length/t.size)};return this.addAccessor(r,Object.assign(n,t))},t.createBinaryChunk=function(){if(!this.arrayBuffer){for(var e=this.byteLength,t=new ArrayBuffer(e),r=new Uint8Array(t),n=0,i=0;i<this.sourceBuffers.length;i++){var a=this.sourceBuffers[i];n=Object(v.a)(a,r,n)}this.json.buffers[0].byteLength=e,this.arrayBuffer=t,this.sourceBuffers=[]}},t._removeStringFromArray=function(e,t){for(var r=!0;r;){var n=e.indexOf(t);n>-1?e.splice(n,1):r=!1}},d()(e,[{key:"json",get:function(){return this.gltf.json}}]),e}(),w=r(246),T=r(264),x=function(){function e(){}return e.decode=function(t,r){var n=new _(t),i=n.json.meshes||[],a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var o;if(a){if(s>=i.length)break;o=i[s++]}else{if((s=i.next()).done)break;o=s.value}var u=o;e.decompressMesh(u,r)}n.removeExtension(w.a)},e.encode=function(t,r){var n=new _(t),i=n.json.meshes||[],a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var o;if(a){if(s>=i.length)break;o=i[s++]}else{if((s=i.next()).done)break;o=s.value}var u=o;e.compressMesh(u,r),n.addRequiredExtension(w.a)}},e.compressMesh=function(e,t,r,n){var i;if(void 0===r&&(r=4),void 0===n&&(n={}),!n.DracoWriter||!n.DracoLoader)throw new Error("DracoWriter/DracoLoader not available");var a=n.DracoWriter.encodeSync({attributes:e}),s=n.DracoLoader.parseSync({attributes:e}),o=n._addFauxAttributes(s.attributes),u=n.addBufferView(a);return{primitives:[{attributes:o,mode:r,extensions:(i={},i[w.a]={bufferView:u,attributes:o},i)}]}},e.decompressMesh=function(t,r){void 0===r&&(r={});var n=t.primitives,i=Array.isArray(n),a=0;for(n=i?n:n[Symbol.iterator]();;){var s;if(i){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var o=s;if(e._decompressMeshPrimitive(o,r),!o.attributes||0===Object.keys(o.attributes).length)throw new Error("Empty glTF primitive: decompression failure?")}},e._decompressMeshPrimitive=function(e,t){var r=e.extensions&&e.extensions[w.a];if(r&&t.DracoLoader&&t.decompress){delete e.extensions[w.a];var n=this._getBufferViewArray(r.bufferView),i=t.DracoLoader.parseSync(n);e.attributes=Object(T.b)(i.attributes),i.indices&&(e.indices=Object(T.a)(i.indices))}},d()(e,null,[{key:"name",get:function(){return w.a}}]),e}(),O=function(){function e(){}return e.decode=function(e,t){var r=new _(e),n=r.getExtension(w.b);n&&(r.json.lights=n.lights,r.removeExtension(w.b));var i=r.nodes||[],a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var o;if(a){if(s>=i.length)break;o=i[s++]}else{if((s=i.next()).done)break;o=s.value}var u=o,c=u.extensions&&u.extensions.KHR_lights_punctual;c&&(u.light=r._get("lights",c.light),delete u.extensions.KHR_lights_punctual)}},e.encode=function(e,t){var r=new _(e),n=r.json;if(n.lights){var i=r.addExtensions(w.b);Object(c.a)(!i.lights),i.lights=n.lights,delete n.lights}if(r.json.lights){var a=r.json.lights,s=Array.isArray(a),o=0;for(a=s?a:a[Symbol.iterator]();;){var u;if(s){if(o>=a.length)break;u=a[o++]}else{if((o=a.next()).done)break;u=o.value}var f=u,l=f.node;r.addObjectExtension(l,w.b,f)}delete r.json.lights}},d()(e,null,[{key:"name",get:function(){return w.b}}]),e}();r.d(t,"b",function(){return A}),r.d(t,"a",function(){return k});var S={fetchLinkedResources:!1,decompress:!1,DracoLoader:null,postProcess:!0,createImages:!1,log:console},E={fetchLinkedResources:!0,fetch:u.a,decompress:!1,DracoLoader:null,postProcess:!0,createImages:!1,log:console};function A(e,t,r,i){void 0===r&&(r=0),void 0===i&&(i={}),i=Object.assign({},S,i);var a=t;a instanceof ArrayBuffer&&!Object(l.b)(a,r,i)&&(a=(new TextDecoder).decode(a));if(e.buffers=[],"string"==typeof a?e.json=JSON.parse(a):a instanceof ArrayBuffer?(r=Object(l.a)(e,a,r,i),e.hasBinChunk&&e.buffers.push({arrayBuffer:a,byteOffset:e.binChunkByteOffset,byteLength:e.binChunkLength})):e.json=a,i.uri&&(e.baseUri=i.uri),i.fetchLinkedResources){var s=e.json.buffers||[],o=Array.isArray(s),u=0;for(s=o?s:s[Symbol.iterator]();;){var c;if(o){if(u>=s.length)break;c=s[u++]}else{if((u=s.next()).done)break;c=u.value}if(c.uri)throw new Error("parseGLTFSync: Cannot decode uri buffers")}}return function(e,t){for(var r in n){var i=r in t&&!t[r];if(!i){var a=n[r];a.decode(e,t)}}}(e,i),r}function k(e,t,r,n){return j.apply(this,arguments)}function j(){return(j=o()(a.a.mark(function e(t,r,n,i){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=0),void 0===i&&(i={}),i=Object.assign({},E,i),A(t,r,n,Object.assign({},i,{fetchLinkedResources:!1,postProcess:!1,decompress:!1})),!i.fetchLinkedResources){e.next=7;break}return e.next=7,I(t,i);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e,t){return L.apply(this,arguments)}function L(){return(L=o()(a.a.mark(function e(t,r){var n,i,s,o,u,l,h,d,p;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.json.buffers,i=Array.isArray(n),s=0,n=i?n:n[Symbol.iterator]();case 1:if(!i){e.next=7;break}if(!(s>=n.length)){e.next=4;break}return e.abrupt("break",26);case 4:o=n[s++],e.next=11;break;case 7:if(!(s=n.next()).done){e.next=10;break}return e.abrupt("break",26);case 10:o=s.value;case 11:if(!(u=o).uri){e.next=24;break}return l=r.fetch||window.fetch,Object(c.a)(l),h=Object(f.g)(u.uri,r.uri),e.next=18,l(h);case 18:return d=e.sent,e.next=21,d.arrayBuffer();case 21:p=e.sent,u.data=p,delete u.uri;case 24:e.next=1;break;case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}},301:function(e,t){},341:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});r(208);function n(e){return e+3&-4}function i(e,t,r){var i;if(e instanceof ArrayBuffer)i=new Uint8Array(e);else{var a=e.byteOffset,s=e.byteLength;i=new Uint8Array(e.buffer,a,s)}return t.set(i,r),r+n(i.byteLength)}},409:function(e,t,r){"use strict";(function(e,n){r.d(t,"b",function(){return i}),r.d(t,"a",function(){return s});var i="object"!=typeof e||"[object process]"!==String(e)||e.browser,a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==n&&n},s=a.global||a.self||a.window}).call(this,r(126),r(79))},410:function(e,t,r){"use strict";(function(e){r.d(t,"b",function(){return S}),r.d(t,"a",function(){return O});r(208),r(31);function n(e,t,r){return t<=e&&e<=r}e["encoding-indexes"]={};var i=Math.floor;function a(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function s(e){return 0<=e&&e<=127}var o=s,u=-1;function c(e){this.tokens=[].slice.call(e),this.tokens.reverse()}c.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():u},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.shift());else this.tokens.unshift(e)}};var f=-1;function l(e,t){if(e)throw TypeError("Decoder error");return t||65533}function h(e){throw TypeError("The code point "+e+" could not be encoded.")}function d(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(y,e)?y[e]:null}var p=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],y={};p.forEach(function(e){e.encodings.forEach(function(e){e.labels.forEach(function(t){y[t]=e})})});var b,g,m={},v={};function _(e,t){return t&&t[e]||null}function w(e,t){var r=t.indexOf(e);return-1===r?null:r}function T(t){if(!("encoding-indexes"in e))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return e["encoding-indexes"][t]}var x="utf-8";function O(e,t){if(!(this instanceof O))throw TypeError("Called as a function. Did you forget 'new'?");e=void 0!==e?String(e):x,t=a(t),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var r=d(e);if(null===r||"replacement"===r.name)throw RangeError("Unknown encoding: "+e);if(!v[r.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");return this._encoding=r,Boolean(t.fatal)&&(this._error_mode="fatal"),Boolean(t.ignoreBOM)&&(this._ignoreBOM=!0),Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase(),this.fatal="fatal"===this._error_mode,this.ignoreBOM=this._ignoreBOM),this}function S(t,r){if(!(this instanceof S))throw TypeError("Called as a function. Did you forget 'new'?");r=a(r),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(r.fatal)?"fatal":"replacement";if(Boolean(r.NONSTANDARD_allowLegacyEncoding)){var n=d(t=void 0!==t?String(t):x);if(null===n||"replacement"===n.name)throw RangeError("Unknown encoding: "+t);if(!m[n.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=n}else this._encoding=d("utf-8"),void 0!==t&&"console"in e&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase()),this}function E(e){var t=e.fatal,r=0,i=0,a=0,s=128,o=191;this.handler=function(e,c){if(c===u&&0!==a)return a=0,l(t);if(c===u)return f;if(0===a){if(n(c,0,127))return c;if(n(c,194,223))a=1,r=31&c;else if(n(c,224,239))224===c&&(s=160),237===c&&(o=159),a=2,r=15&c;else{if(!n(c,240,244))return l(t);240===c&&(s=144),244===c&&(o=143),a=3,r=7&c}return null}if(!n(c,s,o))return r=a=i=0,s=128,o=191,e.prepend(c),l(t);if(s=128,o=191,r=r<<6|63&c,(i+=1)!==a)return null;var h=r;return r=a=i=0,h}}function A(e){e.fatal;this.handler=function(e,t){if(t===u)return f;if(o(t))return t;var r,i;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var a=[(t>>6*r)+i];r>0;){var s=t>>6*(r-1);a.push(128|63&s),r-=1}return a}}function k(e,t){var r=t.fatal;this.handler=function(t,n){if(n===u)return f;if(s(n))return n;var i=e[n-128];return null===i?l(r):i}}function j(e,t){t.fatal;this.handler=function(t,r){if(r===u)return f;if(o(r))return r;var n=w(r,e);return null===n&&h(r),n+128}}function I(e){var t=e.fatal,r=0,i=0,a=0;this.handler=function(e,o){if(o===u&&0===r&&0===i&&0===a)return f;var c;if(o!==u||0===r&&0===i&&0===a||(r=0,i=0,a=0,l(t)),0!==a){c=null,n(o,48,57)&&(c=function(e){if(e>39419&&e<189e3||e>1237575)return null;if(7457===e)return 59335;var t,r=0,n=0,i=T("gb18030-ranges");for(t=0;t<i.length;++t){var a=i[t];if(!(a[0]<=e))break;r=a[0],n=a[1]}return n+e-r}(10*(126*(10*(r-129)+i-48)+a-129)+o-48));var h=[i,a,o];return r=0,i=0,a=0,null===c?(e.prepend(h),l(t)):c}if(0!==i)return n(o,129,254)?(a=o,null):(e.prepend([i,o]),r=0,i=0,l(t));if(0!==r){if(n(o,48,57))return i=o,null;var d=r,p=null;r=0;var y=o<127?64:65;return(n(o,64,126)||n(o,128,254))&&(p=190*(d-129)+(o-y)),null===(c=null===p?null:_(p,T("gb18030")))&&s(o)&&e.prepend(o),null===c?l(t):c}return s(o)?o:128===o?8364:n(o,129,254)?(r=o,null):l(t)}}function L(e,t){e.fatal;this.handler=function(e,r){if(r===u)return f;if(o(r))return r;if(58853===r)return h(r);if(t&&8364===r)return 128;var n=w(r,T("gb18030"));if(null!==n){var a=n%190;return[i(n/190)+129,a+(a<63?64:65)]}if(t)return h(r);n=function(e){if(59335===e)return 7457;var t,r=0,n=0,i=T("gb18030-ranges");for(t=0;t<i.length;++t){var a=i[t];if(!(a[1]<=e))break;r=a[1],n=a[0]}return n+e-r}(r);var s=i(n/10/126/10),c=i((n-=10*s*126*10)/10/126),l=i((n-=10*c*126)/10);return[s+129,c+48,l+129,n-10*l+48]}}function C(e){var t=e.fatal,r=0;this.handler=function(e,i){if(i===u&&0!==r)return r=0,l(t);if(i===u&&0===r)return f;if(0!==r){var a=r,o=null;r=0;var c=i<127?64:98;switch((n(i,64,126)||n(i,161,254))&&(o=157*(a-129)+(i-c)),o){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var h=null===o?null:_(o,T("big5"));return null===h&&s(i)&&e.prepend(i),null===h?l(t):h}return s(i)?i:n(i,129,254)?(r=i,null):l(t)}}function B(e){e.fatal;this.handler=function(e,t){if(t===u)return f;if(o(t))return t;var r=function(e){var t=g=g||T("big5").map(function(e,t){return t<5024?null:e});return 9552===e||9566===e||9569===e||9578===e||21313===e||21317===e?t.lastIndexOf(e):w(e,t)}(t);if(null===r)return h(t);var n=i(r/157)+129;if(n<161)return h(t);var a=r%157;return[n,a+(a<63?64:98)]}}function N(e){var t=e.fatal,r=!1,i=0;this.handler=function(e,a){if(a===u&&0!==i)return i=0,l(t);if(a===u&&0===i)return f;if(142===i&&n(a,161,223))return i=0,65216+a;if(143===i&&n(a,161,254))return r=!0,i=a,null;if(0!==i){var o=i;i=0;var c=null;return n(o,161,254)&&n(a,161,254)&&(c=_(94*(o-161)+(a-161),T(r?"jis0212":"jis0208"))),r=!1,n(a,161,254)||e.prepend(a),null===c?l(t):c}return s(a)?a:142===a||143===a||n(a,161,254)?(i=a,null):l(t)}}function D(e){e.fatal;this.handler=function(e,t){if(t===u)return f;if(o(t))return t;if(165===t)return 92;if(8254===t)return 126;if(n(t,65377,65439))return[142,t-65377+161];8722===t&&(t=65293);var r=w(t,T("jis0208"));return null===r?h(t):[i(r/94)+161,r%94+161]}}function U(e){var t=e.fatal,r=0,i=1,a=2,s=3,o=4,c=5,h=6,d=r,p=r,y=0,b=!1;this.handler=function(e,g){switch(d){default:case r:return 27===g?(d=c,null):n(g,0,127)&&14!==g&&15!==g&&27!==g?(b=!1,g):g===u?f:(b=!1,l(t));case i:return 27===g?(d=c,null):92===g?(b=!1,165):126===g?(b=!1,8254):n(g,0,127)&&14!==g&&15!==g&&27!==g&&92!==g&&126!==g?(b=!1,g):g===u?f:(b=!1,l(t));case a:return 27===g?(d=c,null):n(g,33,95)?(b=!1,65344+g):g===u?f:(b=!1,l(t));case s:return 27===g?(d=c,null):n(g,33,126)?(b=!1,y=g,d=o,null):g===u?f:(b=!1,l(t));case o:if(27===g)return d=c,l(t);if(n(g,33,126)){d=s;var m=_(94*(y-33)+g-33,T("jis0208"));return null===m?l(t):m}return g===u?(d=s,e.prepend(g),l(t)):(d=s,l(t));case c:return 36===g||40===g?(y=g,d=h,null):(e.prepend(g),b=!1,d=p,l(t));case h:var v=y;y=0;var w=null;if(40===v&&66===g&&(w=r),40===v&&74===g&&(w=i),40===v&&73===g&&(w=a),36!==v||64!==g&&66!==g||(w=s),null!==w){d=d=w;var x=b;return b=!0,x?l(t):null}return e.prepend([v,g]),b=!1,d=p,l(t)}}}function P(e){e.fatal;var t=0,r=1,n=2,a=t;this.handler=function(e,s){if(s===u&&a!==t)return e.prepend(s),a=t,[27,40,66];if(s===u&&a===t)return f;if(!(a!==t&&a!==r||14!==s&&15!==s&&27!==s))return h(65533);if(a===t&&o(s))return s;if(a===r&&(o(s)&&92!==s&&126!==s||165==s||8254==s)){if(o(s))return s;if(165===s)return 92;if(8254===s)return 126}if(o(s)&&a!==t)return e.prepend(s),a=t,[27,40,66];if((165===s||8254===s)&&a!==r)return e.prepend(s),a=r,[27,40,74];8722===s&&(s=65293);var c=w(s,T("jis0208"));return null===c?h(s):a!==n?(e.prepend(s),a=n,[27,36,66]):[i(c/94)+33,c%94+33]}}function R(e){var t=e.fatal,r=0;this.handler=function(e,i){if(i===u&&0!==r)return r=0,l(t);if(i===u&&0===r)return f;if(0!==r){var a=r,o=null;r=0;var c=i<127?64:65,h=a<160?129:193;if((n(i,64,126)||n(i,128,252))&&(o=188*(a-h)+i-c),n(o,8836,10715))return 48508+o;var d=null===o?null:_(o,T("jis0208"));return null===d&&s(i)&&e.prepend(i),null===d?l(t):d}return s(i)||128===i?i:n(i,161,223)?65216+i:n(i,129,159)||n(i,224,252)?(r=i,null):l(t)}}function M(e){e.fatal;this.handler=function(e,t){if(t===u)return f;if(o(t)||128===t)return t;if(165===t)return 92;if(8254===t)return 126;if(n(t,65377,65439))return t-65377+161;8722===t&&(t=65293);var r=function(e){return(b=b||T("jis0208").map(function(e,t){return n(t,8272,8835)?null:e})).indexOf(e)}(t);if(null===r)return h(t);var a=i(r/188),s=r%188;return[a+(a<31?129:193),s+(s<63?64:65)]}}function V(e){var t=e.fatal,r=0;this.handler=function(e,i){if(i===u&&0!==r)return r=0,l(t);if(i===u&&0===r)return f;if(0!==r){var a=r,o=null;r=0,n(i,65,254)&&(o=190*(a-129)+(i-65));var c=null===o?null:_(o,T("euc-kr"));return null===o&&s(i)&&e.prepend(i),null===c?l(t):c}return s(i)?i:n(i,129,254)?(r=i,null):l(t)}}function F(e){e.fatal;this.handler=function(e,t){if(t===u)return f;if(o(t))return t;var r=w(t,T("euc-kr"));return null===r?h(t):[i(r/190)+129,r%190+65]}}function q(e,t){var r=e>>8,n=255&e;return t?[r,n]:[n,r]}function G(e,t){var r=t.fatal,i=null,a=null;this.handler=function(t,s){if(s===u&&(null!==i||null!==a))return l(r);if(s===u&&null===i&&null===a)return f;if(null===i)return i=s,null;var o;if(o=e?(i<<8)+s:(s<<8)+i,i=null,null!==a){var c=a;return a=null,n(o,56320,57343)?65536+1024*(c-55296)+(o-56320):(t.prepend(q(o,e)),l(r))}return n(o,55296,56319)?(a=o,null):n(o,56320,57343)?l(r):o}}function z(e,t){t.fatal;this.handler=function(t,r){if(r===u)return f;if(n(r,0,65535))return q(r,e);var i=q(55296+(r-65536>>10),e),a=q(56320+(r-65536&1023),e);return i.concat(a)}}function H(e){e.fatal;this.handler=function(e,t){return t===u?f:s(t)?t:63360+t-128}}function J(e){e.fatal;this.handler=function(e,t){return t===u?f:o(t)?t:n(t,63360,63487)?t-63360+128:h(t)}}Object.defineProperty&&(Object.defineProperty(O.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(O.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(O.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),O.prototype.decode=function(e,t){var r;r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=a(t),this._do_not_flush||(this._decoder=v[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(t.stream);for(var n,i=new c(r),s=[];;){var o=i.read();if(o===u)break;if((n=this._decoder.handler(i,o))===f)break;null!==n&&(Array.isArray(n)?s.push.apply(s,n):s.push(n))}if(!this._do_not_flush){do{if((n=this._decoder.handler(i,i.read()))===f)break;null!==n&&(Array.isArray(n)?s.push.apply(s,n):s.push(n))}while(!i.endOfStream());this._decoder=null}return function(e){var t,r;return t=["UTF-8","UTF-16LE","UTF-16BE"],r=this._encoding.name,-1===t.indexOf(r)||this._ignoreBOM||this._BOMseen||(e.length>0&&65279===e[0]?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(e)}.call(this,s)},Object.defineProperty&&Object.defineProperty(S.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),S.prototype.encode=function(e,t){e=void 0===e?"":String(e),t=a(t),this._do_not_flush||(this._encoder=m[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(t.stream);for(var r,n=new c(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var a=t.charCodeAt(n);if(a<55296||a>57343)i.push(a);else if(56320<=a&&a<=57343)i.push(65533);else if(55296<=a&&a<=56319)if(n===r-1)i.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var o=1023&a,u=1023&s;i.push(65536+(o<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(e)),i=[];;){var s=n.read();if(s===u)break;if((r=this._encoder.handler(n,s))===f)break;Array.isArray(r)?i.push.apply(i,r):i.push(r)}if(!this._do_not_flush){for(;(r=this._encoder.handler(n,n.read()))!==f;)Array.isArray(r)?i.push.apply(i,r):i.push(r);this._encoder=null}return new Uint8Array(i)},m["UTF-8"]=function(e){return new A(e)},v["UTF-8"]=function(e){return new E(e)},"encoding-indexes"in e&&p.forEach(function(e){"Legacy single-byte encodings"===e.heading&&e.encodings.forEach(function(e){var t=e.name,r=T(t.toLowerCase());v[t]=function(e){return new k(r,e)},m[t]=function(e){return new j(r,e)}})}),v.GBK=function(e){return new I(e)},m.GBK=function(e){return new L(e,!0)},m.gb18030=function(e){return new L(e)},v.gb18030=function(e){return new I(e)},m.Big5=function(e){return new B(e)},v.Big5=function(e){return new C(e)},m["EUC-JP"]=function(e){return new D(e)},v["EUC-JP"]=function(e){return new N(e)},m["ISO-2022-JP"]=function(e){return new P(e)},v["ISO-2022-JP"]=function(e){return new U(e)},m.Shift_JIS=function(e){return new M(e)},v.Shift_JIS=function(e){return new R(e)},m["EUC-KR"]=function(e){return new F(e)},v["EUC-KR"]=function(e){return new V(e)},m["UTF-16BE"]=function(e){return new z(!0,e)},v["UTF-16BE"]=function(e){return new G(!0,e)},m["UTF-16LE"]=function(e){return new z(!1,e)},v["UTF-16LE"]=function(e){return new G(!1,e)},m["x-user-defined"]=function(e){return new J(e)},v["x-user-defined"]=function(e){return new H(e)}}).call(this,r(79))},411:function(e,t){},412:function(e,t){},413:function(e,t){},414:function(e,t){},415:function(e,t){}}]);