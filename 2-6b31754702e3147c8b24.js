(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{306:function(e,t,r){"use strict";r.d(t,"d",function(){return o}),r.d(t,"a",function(){return a}),r.d(t,"e",function(){return u}),r.d(t,"b",function(){return c}),r.d(t,"c",function(){return f}),r.d(t,"f",function(){return h});r(10),r(7);var n=function(e){return"boolean"==typeof e},i=function(e){return"function"==typeof e},s=function(e){return null!==e&&"object"==typeof e},o=function(e){return e&&"function"==typeof e[Symbol.iterator]},a=function(e){return e&&"function"==typeof e[Symbol.asyncIterator]},u=function(e){return e&&i(e.next)},c=function(e){return"undefined"!=typeof Response&&e instanceof Response||e.arrayBuffer&&e.text&&e.json},f=function(e){return function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)},h=function(e){return function(e){return s(e)&&i(e.tee)&&i(e.cancel)&&i(e.pipeTo)&&i(e.getReader)}(e)||function(e){return s(e)&&i(e.read)&&i(e.pipe)&&n(e.readable)}(e)}},309:function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"dirname",function(){return s});r(39),r(4),r(294),r(297),r(318),r(335),r(334),r(322);var i=r(313);function s(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""}r.d(t,"a",function(){return o}),r.d(t,"b",function(){return n});i.a.TextEncoder;var o=i.a.TextDecoder},313:function(e,t,r){"use strict";(function(e,n){r.d(t,"b",function(){return i}),r.d(t,"a",function(){return o}),r.d(t,"c",function(){return u});r(62);var i="object"!=typeof e||"[object process]"!==String(e)||e.browser,s={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==n&&n,document:"undefined"!=typeof document&&document},o=s.global||s.self||s.window,a=void 0!==e&&e.version&&e.version.match(/v([0-9]*)/),u=a&&parseFloat(a[1])||0}).call(this,r(310),r(133))},317:function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"loader assertion failed.")}r.d(t,"a",function(){return n})},318:function(e,t,r){"use strict";r(39),r(4);var n=r(294),i=r.n(n),s=(r(297),r(336)),o=r(332),a=r(387),u=(r(5),r(10),r(7),r(12),r(24),r(306)),c=r(350),f=r(378);function h(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return d.apply(this,arguments)}function d(){var e;return e=i.a.mark(function e(t){var r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=12;break}return r="fetch failed "+t.status+" ",e.prev=2,e.next=5,t.text();case 5:n=e.sent,r+=n,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:throw new Error(r);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),(d=function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){h(s,n,i,o,a,"next",e)}function a(e){h(s,n,i,o,a,"throw",e)}o(void 0)})}).apply(this,arguments)}function p(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}var v="Cannot convert supplied data type";function g(e,t){return Object(u.b)(e)?t=t||e.url:Object(u.c)(t)&&(t=t.name),"string"==typeof t?t.replace(/\?.*/,""):t}function b(e,t){if(t.text&&"string"==typeof e)return e;if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){var r=e.buffer||e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}throw new Error(v)}function y(e,t){return m.apply(this,arguments)}function m(){var e;return e=i.a.mark(function e(t,r){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(t=e.sent,n=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!=typeof t&&!n){e.next=6;break}return e.abrupt("return",b(t,r));case 6:if(!Object(u.c)(t)){e.next=10;break}return e.next=9,Object(f.a)(t);case 9:t=e.sent;case 10:if(!Object(u.b)(t)){e.next=23;break}return e.next=13,l(t);case 13:if(!r.binary){e.next=19;break}return e.next=16,t.arrayBuffer();case 16:e.t0=e.sent,e.next=22;break;case 19:return e.next=21,t.text();case 21:e.t0=e.sent;case 22:return e.abrupt("return",e.t0);case 23:throw new Error(v);case 24:case"end":return e.stop()}},e)}),(m=function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){p(s,n,i,o,a,"next",e)}function a(e){p(s,n,i,o,a,"throw",e)}o(void 0)})}).apply(this,arguments)}function x(e){return Object(u.e)(e)?e:Object(u.b)(e)&&e.body?(function(e){if(!e.ok)throw new Error("fetch failed "+e.status)}(e),Object(c.a)(e.body)):Object(u.f)(e)?Object(c.a)(e):Object(u.a)(e)?e[Symbol.asyncIterator]():w(e)}function w(e){if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.buffer||e;case 2:case"end":return t.stop()}},t)})();if(Object(u.e)(e))return e;if(Object(u.d)(e))return e[Symbol.iterator]();throw new Error(v)}var _=r(317),A=r(354),k=r(351),j=r(379);function T(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}var E=null;function O(e){return R.apply(this,arguments)}function R(){var e;return e=i.a.mark(function e(t){var r,n,s,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.worker,n=t.data,s=t.resolve,o=t.reject,e.t0=n.type,e.next="done"===e.t0?4:"process"===e.t0?6:"error"===e.t0?17:19;break;case 4:return s(n.result),e.abrupt("break",19);case 6:return e.prev=6,e.next=9,C(n.arraybuffer,n.options,n.url);case 9:a=e.sent,r.postMessage({type:"process-done",id:n.id,result:a},Object(j.a)(a)),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(6),r.postMessage({type:"process-error",id:n.id,message:e.t1.message});case 16:return e.abrupt("break",19);case 17:return o(n.message),e.abrupt("break",19);case 19:case"end":return e.stop()}},e,null,[[6,13]])}),(R=function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){T(s,n,i,o,a,"next",e)}function a(e){T(s,n,i,o,a,"throw",e)}o(void 0)})}).apply(this,arguments)}function B(e,t,r,n){void 0===n&&(n={});var i=function(e){void 0===e&&(e={});var t={};return e.maxConcurrency&&(t.maxConcurrency=e.maxConcurrency),e.onDebug&&(t.onDebug=e.onDebug),(E=E||new k.a({onMessage:O})).setProps(t),E}(n);return n=JSON.parse(JSON.stringify(n)),i.process(e,"loaders.gl-"+t,{arraybuffer:Object(A.a)(r),options:n,source:"loaders.gl",type:"process"})}function P(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function S(e,t,r,n){return U.apply(this,arguments)}function U(){var e;return e=i.a.mark(function e(t,r,n,s){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,r);case 2:if(t=e.sent,!r.parseTextSync||"string"!=typeof t){e.next=6;break}return n.dataType="text",e.abrupt("return",r.parseTextSync(t,n,s,r));case 6:if(!r.parse){e.next=10;break}return e.next=9,r.parse(t,n,s,r);case 9:return e.abrupt("return",e.sent);case 10:if(!r.parseSync){e.next=12;break}return e.abrupt("return",r.parseSync(t,n,s,r));case 12:if(!r.worker){e.next=16;break}return e.next=15,B(r.worker,r.name,t,n);case 15:return e.abrupt("return",e.sent);case 16:return e.abrupt("return",Object(_.a)(!1));case 17:case"end":return e.stop()}},e)}),(U=function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){P(s,n,i,o,a,"next",e)}function a(e){P(s,n,i,o,a,"throw",e)}o(void 0)})}).apply(this,arguments)}function L(e,t,r,n){if(t.parseInBatches){var i=x(e);return t.parseInBatches(i,r,n,t)}return null}function V(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function I(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){V(s,n,i,o,a,"next",e)}function a(e){V(s,n,i,o,a,"throw",e)}o(void 0)})}}function C(e,t,r,n){return M.apply(this,arguments)}function M(){return(M=I(i.a.mark(function e(t,r,n,u){var c,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return!r||Array.isArray(r)||Object(o.a)(r)||(u=n,n=r,r=null),n=n||{},c=g(t,u),f=Object(s.a)(r,c,t),n=Object(a.a)(n,f),e.next=7,S(t,f,n,c);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e,t,r,n){Array.isArray(t)||Object(o.a)(t)||(n=r,r=t,t=null);var i=Object(s.a)(t,n,e);return i?function(e,t,r,n){return e=b(e,t),t.parseTextSync&&"string"==typeof e?t.parseTextSync(e,r,n,t):t.parseSync?t.parseSync(e,r,n,t):Object(_.a)(!1)}(e,i,r=Object(a.a)(r,i),n):null}function D(e,t,r,n){return N.apply(this,arguments)}function N(){return(N=I(i.a.mark(function e(t,r,n,u){var c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(r)||Object(o.a)(r)||(u=n,n=r,r=null),c=Object(s.a)(r,u,null),n=Object(a.a)(n,c),e.abrupt("return",L(t,c,n,u));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}r.d(t,"a",function(){return C}),r.d(t,"c",function(){return F}),r.d(t,"b",function(){return D})},322:function(e,t,r){"use strict";r.d(t,"a",function(){return s});r(12),r(132),r(3);var n="",i={};function s(e){for(var t in i)if(e.startsWith(t)){var r=i[t];return e.replace(t,r)}return e+=n}},327:function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return o});r(6),r(4),r(134),r(10),r(7),r(5);var n=r(332),i={};function s(e){var t=e=Array.isArray(e)?e:[e],r=Array.isArray(t),s=0;for(t=r?t:t[Symbol.iterator]();;){var o;if(r){if(s>=t.length)break;o=t[s++]}else{if((s=t.next()).done)break;o=s.value}var a=o,u=Object(n.b)(a),c=u.extensions,f=Array.isArray(c),h=0;for(c=f?c:c[Symbol.iterator]();;){var l;if(f){if(h>=c.length)break;l=c[h++]}else{if((h=c.next()).done)break;l=h.value}i[l]=u}}}function o(){return Object.values(i)}},332:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return s});r(3);var n=r(317);function i(e){return!!e&&(Array.isArray(e)&&(e=e[0]),e.parseTextSync||e.parseSync||e.parse||e.loadAndParse||e.parseStream||e.parseInBatches||e.worker)}function s(e){var t;return Object(n.a)(i(e)),Array.isArray(e)&&(t=e[1],e=e[0],e=Object.assign({},e,{options:Object.assign({},e.options,{},t)})),e.extension&&(e.extensions=e.extensions||e.extension,delete e.extension),Array.isArray(e.extensions)||(e.extensions=[e.extensions]),Object(n.a)(e.extensions&&e.extensions.length>0&&e.extensions[0]),e.parseTextSync&&(e.text=!0),e.text||(e.binary=!0),e}},334:function(e,t,r){"use strict";r.d(t,"a",function(){return d});r(24),r(39),r(4);var n=r(294),i=r.n(n),s=(r(297),r(306)),o=r(335),a=r(332),u=r(387),c=r(336),f=r(318);function h(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){h(s,n,i,o,a,"next",e)}function a(e){h(s,n,i,o,a,"throw",e)}o(void 0)})}}function d(e,t,r){return p.apply(this,arguments)}function p(){return(p=l(i.a.mark(function e(t,r,n){var h,l,d,p;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(r)||Object(a.a)(r)||(n=r,r=null),h=Object(s.c)(t)?t.name:t,!(l=Object(c.a)(r,h,null,{nothrow:!0}))){e.next=9;break}if(!l.loadAndParse){e.next=9;break}return d=Object(u.a)(n,l),e.next=8,l.loadAndParse(t,d);case 8:return e.abrupt("return",e.sent);case 9:if(p=t,!Object(s.c)(p)&&"string"!=typeof p){e.next=14;break}return e.next=13,Object(o.a)(t,n);case 13:p=e.sent;case 14:return e.abrupt("return",Object(f.a)(p,r,n,t));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}},335:function(e,t,r){"use strict";r.d(t,"a",function(){return c});r(39),r(4);var n=r(294),i=r.n(n),s=(r(297),r(306)),o=r(322),a=r(378);function u(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function c(e,t){return f.apply(this,arguments)}function f(){var e;return e=i.a.mark(function e(t,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(s.c)(t)){e.next=2;break}return e.abrupt("return",Object(a.a)(t,r));case 2:return t=Object(o.a)(t),e.abrupt("return",fetch(t,r));case 4:case"end":return e.stop()}},e)}),(f=function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){u(s,n,i,o,a,"next",e)}function a(e){u(s,n,i,o,a,"throw",e)}o(void 0)})}).apply(this,arguments)}},336:function(e,t,r){"use strict";r.d(t,"a",function(){return o});r(62),r(10),r(7),r(5),r(12);var n=r(327),i=r(332),s=/[^.]+$/;function o(e,t,r,o){void 0===t&&(t=""),void 0===r&&(r=null);var c=(void 0===o?{}:o).nothrow,f=void 0!==c&&c;if(t=t||"",e&&!Array.isArray(e)){var h=e;return Object(i.b)(h),h}(function(e){var t=e,r=Array.isArray(t),n=0;for(t=r?t:t[Symbol.iterator]();;){var s;if(r){if(n>=t.length)break;s=t[n++]}else{if((n=t.next()).done)break;s=n.value}var o=s;Object(i.b)(o)}})(e=e||Object(n.a)()),t=t.replace(/\?.*/,"");var l=null;if(!(l=(l=l||function(e,t){var r=t.match(s),n=r&&r[0];return n&&function(e,t){t=t.toLowerCase();var r=e,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var s;if(n){if(i>=r.length)break;s=r[i++]}else{if((i=r.next()).done)break;s=i.value}var o=s,a=o.extensions,u=Array.isArray(a),c=0;for(a=u?a:a[Symbol.iterator]();;){var f;if(u){if(c>=a.length)break;f=a[c++]}else{if((c=a.next()).done)break;f=c.value}if(f.toLowerCase()===t)return o}}return null}(e,n)}(e,t))||function(e,t){if(!t)return null;var r=e,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var s;if(n){if(i>=r.length)break;s=r[i++]}else{if((i=r.next()).done)break;s=i.value}var o=s;if("string"==typeof t){if(a(t,o))return o}else if(ArrayBuffer.isView(t)){if(u(t.buffer,t.byteOffset,o))return o}else if(t instanceof ArrayBuffer){if(u(t,0,o))return o}}return null}(e,r))){if(f)return null;throw new Error("No valid loader found for "+t)}return l}function a(e,t){return t.testText&&t.testText(e)}function u(e,t,r){switch(Array.isArray(r.test)?"array":typeof r.test){case"function":return r.test(e,r);case"string":case"array":return(Array.isArray(r.test)?r.test:[r.test]).some(function(r){return r===function(e,t,r){if(e.byteLength<=t+r)return"";for(var n=new DataView(e),i="",s=0;s<r;s++)i+=String.fromCharCode(n.getUint8(t+s));return i}(e,t,r.length)});default:return!1}}},350:function(e,t,r){"use strict";r.d(t,"a",function(){return h});r(10),r(7),r(39),r(4);var n=r(294),i=r.n(n),s=(r(297),r(313));function o(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return new f(e)}function u(e){return function(){return new c(e.apply(this,arguments))}}function c(e){var t,r;function n(t,r){try{var s=e[t](r),o=s.value,a=o instanceof f;Promise.resolve(a?o.wrapped:o).then(function(e){a?n("next",e):i(s.done?"return":"normal",e)},function(e){n("throw",e)})}catch(u){i("throw",u)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise(function(s,o){var a={key:e,arg:i,resolve:s,reject:o,next:null};r?r=r.next=a:(t=r=a,n(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function f(e){this.wrapped=e}function h(e){if(s.b||s.c>=10){if("function"==typeof e[Symbol.asyncIterator])return e;if("function"==typeof e.getIterator)return e.getIterator()}return s.b?function(e){return l.apply(this,arguments)}(e):function(e){return d.apply(this,arguments)}(e)}function l(){return(l=u(i.a.mark(function e(t){var r,n,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getReader(),e.prev=1;case 2:return e.next=5,a(r.read());case 5:if(n=e.sent,s=n.done,o=n.value,!s){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,o;case 12:e.next=2;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),r.releaseLock();case 19:case"end":return e.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}function d(){return(d=u(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:t=e.sent;case 3:if(null===(r=t.read())){e.next=9;break}return e.next=8,r;case 8:return e.abrupt("continue",3);case 9:if(!t._readableState.ended){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,a(p(t));case 13:e.next=3;break;case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return v.apply(this,arguments)}function v(){var e;return e=i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){t.once("readable",e)}));case 1:case"end":return e.stop()}},e)}),(v=function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,u,"next",e)}function u(e){o(s,n,i,a,u,"throw",e)}a(void 0)})}).apply(this,arguments)}"function"==typeof Symbol&&Symbol.asyncIterator&&(c.prototype[Symbol.asyncIterator]=function(){return this}),c.prototype.next=function(e){return this._invoke("next",e)},c.prototype.throw=function(e){return this._invoke("throw",e)},c.prototype.return=function(e){return this._invoke("return",e)}},351:function(e,t,r){"use strict";r.d(t,"a",function(){return u});r(5),r(6),r(55),r(75),r(39),r(4);var n=r(294),i=r.n(n),s=(r(297),r(352));function o(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}var a=5,u=function(){function e(e){var t=e.maxConcurrency,r=void 0===t?a:t,n=e.onMessage,i=e.onDebug,s=void 0===i?function(){}:i;this.maxConcurrency=r,this.onMessage=n,this.onDebug=s,this.workerPools=new Map}var t=e.prototype;return t.setProps=function(e){"maxConcurrency"in e&&(this.maxConcurrency=e.maxConcurrency),"onDebug"in e&&(this.onDebug=e.onDebug)},t.destroy=function(){this.workerPools.forEach(function(e){return e.destroy()})},t.process=function(){var e,t=(e=i.a.mark(function e(t,r,n){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this._getWorkerPool(t,r),e.abrupt("return",s.process(n));case 2:case"end":return e.stop()}},e,this)}),function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,u,"next",e)}function u(e){o(s,n,i,a,u,"throw",e)}a(void 0)})});return function(e,r,n){return t.apply(this,arguments)}}(),t._getWorkerPool=function(e,t){var r=this.workerPools.get(t);return r||(r=new s.a({source:e,name:t,onMessage:this.onMessage,maxConcurrency:this.maxConcurrency,onDebug:this.onDebug}),this.workerPools.set(t,r)),r},e}()},352:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r(24),r(39),r(4);var n=r(294),i=r.n(n),s=(r(297),r(353));function o(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}var a=function(){function e(e){var t=e.source,r=e.name,n=void 0===r?"unnamed":r,i=e.maxConcurrency,s=void 0===i?1:i,o=e.onMessage,a=e.onDebug,u=void 0===a?function(){}:a;this.source=t,this.name=n,this.maxConcurrency=s,this.onMessage=o,this.onDebug=u,this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1}var t=e.prototype;return t.destroy=function(){this.idleQueue.forEach(function(e){return e.destroy()}),this.isDestroyed=!0},t.process=function(){var e,t=(e=i.a.mark(function e(t,r){var n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,i){n.jobQueue.push({data:t,jobName:r,resolve:e,reject:i}),n._startQueuedJob()}));case 1:case"end":return e.stop()}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,u,"next",e)}function u(e){o(s,n,i,a,u,"throw",e)}a(void 0)})});return function(e,r){return t.apply(this,arguments)}}(),t._startQueuedJob=function(){var e=this;if(this.jobQueue.length){var t=this._getAvailableWorker();if(t){var r=this.jobQueue.shift();this.onDebug({message:"processing",worker:t.name,job:r.jobName,backlog:this.jobQueue.length}),t.process(r.data).then(function(e){return r.resolve(e)}).catch(function(e){return r.reject(e)}).then(function(){return e._onWorkerDone(t)})}}},t._onWorkerDone=function(e){this.isDestroyed?e.destroy():(this.idleQueue.push(e),this._startQueuedJob())},t._getAvailableWorker=function(){if(this.idleQueue.length>0)return this.idleQueue.shift();if(this.count<this.maxConcurrency){this.count++;var e=this.name.toLowerCase()+"-worker-"+this.count+"-of-"+this.maxConcurrency;return new s.a({source:this.source,onMessage:this.onMessage,name:e})}return null},e}()},353:function(e,t,r){"use strict";r.d(t,"a",function(){return c});r(24),r(39),r(4);var n=r(294),i=r.n(n),s=(r(297),r(379));function o(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}var a=0;function u(e){var t=e.data;(0,e.resolve)(t)}var c=function(){function e(e){var t=e.source,r=e.name,n=void 0===r?"web-worker-"+a++:r,i=e.onMessage,o=Object(s.b)(t);this.worker=new Worker(o,{name:n}),this.name=n,this.onMessage=i||u}var t=e.prototype;return t.process=function(){var e,t=(e=i.a.mark(function e(t){var r=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){r.worker.onmessage=function(t){return r.onMessage({worker:r.worker,data:t.data,resolve:e,reject:n})},r.worker.onerror=function(e){return n(e)};var i=Object(s.a)(t);r.worker.postMessage(t,i)}));case 1:case"end":return e.stop()}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,u,"next",e)}function u(e){o(s,n,i,a,u,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}(),t.destroy=function(){this.worker.terminate(),this.worker=null},e}()},354:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(317),i=r(421);function s(e){if(i.toArrayBuffer&&(e=Object(i.toArrayBuffer)(e)),e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}return Object(n.a)(!1)}},378:function(e,t,r){"use strict";r.d(t,"a",function(){return f});r(24),r(39),r(4);var n=r(294),i=r.n(n),s=(r(297),r(317));function o(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,u,"next",e)}function u(e){o(s,n,i,a,u,"throw",e)}a(void 0)})}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(e){this._fileOrBlob=e,this.bodyUsed=!1}var t,r,n,o=e.prototype;return o.url=function(){return this._fileOrBlob.name||""},o.arrayBuffer=function(){var e=a(i.a.mark(function e(){var t,r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getFileReader(),r=t.reader,n=t.promise,r.readAsArrayBuffer(this._fileOrBlob),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.text=function(){var e=a(i.a.mark(function e(){var t,r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getFileReader(),r=t.reader,n=t.promise,r.readAsText(this._fileOrBlob),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.json=function(){var e=a(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.text();case 2:return t=e.sent,e.abrupt("return",JSON.parse(t));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._getFileReader=function(){var e;Object(s.a)(!this.bodyUsed),this.bodyUsed=!0;var t=new Promise(function(t,r){try{(e=new FileReader).onerror=function(e){return r(new Error(e))},e.onabort=function(){return r(new Error("Read aborted."))},e.onload=function(){return t(e.result)}}catch(n){r(n)}});return{reader:e,promise:t}},t=e,(r=[{key:"headers",get:function(){return new Headers({"Content-Length":this._fileOrBlob.size,"Content-Type":this._fileOrBlob.type})}},{key:"ok",get:function(){return!0}},{key:"status",get:function(){return 200}}])&&u(t.prototype,r),n&&u(t,n),e}();function f(e,t){return Promise.resolve(new c(e,t))}},379:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return o});r(62),r(137),r(132),r(5),r(6),r(4),r(55),r(75);var n=r(317);function i(e,t,r){if(void 0===t&&(t=!0),void 0===r&&(r=[]),e){if(e instanceof ArrayBuffer)r.push(e);else if(e.buffer&&e.buffer instanceof ArrayBuffer)r.push(e.buffer);else if(t&&"object"==typeof e)for(var n in e)i(e[n],t,r)}else;return r}var s=new Map;function o(e){if(Object(n.a)("string"==typeof e,"worker source"),e.startsWith("url(")&&e.endsWith(")"))return e.match(/^url\((.*)\)$/)[1];var t=s.get(e);if(!t){var r=new Blob([e],{type:"application/javascript"});t=URL.createObjectURL(r),s.set(e,t)}return t}},387:function(e,t,r){"use strict";r(3);var n=function(){function e(){}var t=e.prototype;return t.log=function(){},t.info=function(){},t.warn=function(){},t.error=function(){},e}();function i(e,t){return null===(e=Object.assign({},t&&t.DEFAULT_OPTIONS,t&&t.defaultOptions,t&&t.options,e,{dataType:"arraybuffer"})).log&&(e.log=new n),"log"in e||(e.log=console),e}r.d(t,"a",function(){return i})},420:function(e,t,r){"use strict";(function(e,n){r.d(t,"a",function(){return s});"object"!=typeof e||"[object process]"!==String(e)||e.browser;var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==n&&n},s=i.global||i.self||i.window}).call(this,r(310),r(133))},421:function(e,t){},450:function(e,t,r){"use strict";r(10),r(7),r(5),r(6),r(4),r(55),r(76),r(101),r(75);var n=!1,i=!0,s=new Map([["image/png",{test:function(e){return e.byteLength>=24&&2303741511===e.getUint32(0,n)},getSize:function(e){return{width:e.getUint32(16,n),height:e.getUint32(20,n)}}}],["image/jpeg",{test:function(e){return e.byteLength>=3&&65496===e.getUint16(0,n)&&255===e.getUint8(2,n)},getSize:function(e){if(e.byteLength<2||65496!==e.getUint16(0,n))return null;var t=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var r=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:r}}(),r=t.tableMarkers,i=t.sofMarkers,s=2;for(;s<e.byteLength;){var o=e.getUint16(s,n);if(i.has(o))return{height:e.getUint16(s+5,n),width:e.getUint16(s+7,n)};if(!r.has(o))return null;s+=2,s+=e.getUint16(s,n)}return null}}],["image/gif",{test:function(e){return e.byteLength>=10&&1195984440===e.getUint32(0,n)},getSize:function(e){return{width:e.getUint16(6,i),height:e.getUint16(8,i)}}}],["image/bmp",{test:function(e){return e.byteLength>=2&&16973===e.getUint16(0,n)},getSize:function(e){return{width:e.getUint32(18,i),height:e.getUint32(22,i)}}}]]);r.d(t,"a",function(){return a}),r.d(t,"b",function(){return u});var o="Invalid MIME type. Supported MIME types are: "+Array.from(s.keys()).join(", ");function a(e){var t=f(e),r=s.entries(),n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var a=o,u=a[0];if((0,a[1].test)(t))return u}return null}function u(e,t){void 0===t&&(t=null);var r=function(e,t){void 0===t&&(t=null);var r=(0,c(t=t||a(e)).getSize)(f(e));if(!r)throw new Error("invalid image data for type: "+t);return r}(e,t=t||a(e));return r.mimeType=t,r}function c(e){var t=s.get(e);if(!t)throw new Error(o);return t}function f(e){if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return new DataView(e.buffer||e);throw new Error("toDataView")}},457:function(e,t){},477:function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"d",function(){return f}),r.d(t,"b",function(){return h}),r.d(t,"e",function(){return d}),r.d(t,"c",function(){return p});r(293),r(39),r(4);var n=r(294),i=r.n(n),s=(r(297),r(420)),o=r(450);function a(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,u,"next",e)}function u(e){a(s,n,i,o,u,"throw",e)}o(void 0)})}}var c=s.a._parseImageNode||"undefined"!=typeof ImageBitmap;function f(e,t){if(s.a._parseImageNode){var r=Object(o.b)(e).mimeType;return s.a._parseImageNode(e,r,t)}return d(e,t)}function h(e,t){return l.apply(this,arguments)}function l(){return(l=u(i.a.mark(function e(t,r){var n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r={}),"undefined"!=typeof Image){e.next=9;break}return e.next=4,fetch(t,r);case 4:return n=e.sent,e.next=7,n.arrayBuffer();case 7:return s=e.sent,e.abrupt("return",f(s,r));case 9:return e.next=11,p(t,r);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e,t){if("undefined"==typeof createImageBitmap)throw new Error("parseImage");var r=new Blob([new Uint8Array(e)]);return createImageBitmap(r)}function p(e,t){return v.apply(this,arguments)}function v(){return(v=u(i.a.mark(function e(t,r){var n,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!/\.svg((\?|#).*)?$/.test(t)){e.next=10;break}return e.next=3,fetch(t,r);case 3:return s=e.sent,e.next=6,s.text();case 6:o=e.sent,n="data:image/svg+xml;base64,"+btoa(o),e.next=13;break;case 10:return e.next=12,t;case 12:n=e.sent;case 13:return e.next=15,new Promise(function(e,i){try{var s=new Image;s.onload=function(){return e(s)},s.onerror=function(e){return i(new Error("Could not load image "+t+": "+e))},s.crossOrigin=r&&r.crossOrigin||"anonymous",s.src=n}catch(o){i(o)}});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}},604:function(e,t,r){"use strict";r(3),r(39),r(4);var n=r(294),i=r.n(n),s=(r(297),r(10),r(7),r(329),r(5),r(6),r(55),r(335));function o(e,t){if(!e)throw new Error(t||"gltf/glb assertion failed.")}r(132),r(299),r(312),r(315),r(320),r(293),r(321),r(75);var a=["SCALAR","VEC2","VEC3","VEC4"],u=new Map([[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126]]),c={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},f={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},h={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function l(e){return a[e-1]||a[0]}function d(e){var t=u.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function p(e,t){var r=h[e.componentType],n=c[e.type],i=f[e.componentType],s=e.count*n,a=e.count*n*i;return o(a>=0&&a<=t.byteLength),{ArrayType:r,length:s,byteLength:a}}function v(e,t){return e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:")?e:t.substr(0,t.lastIndexOf("/")+1)+e}r(8),r(131),r(291),r(181);var g=r(450);function b(e){return e+3&-4}function y(e,t,r){var n;if(e instanceof ArrayBuffer)n=new Uint8Array(e);else{var i=e.byteOffset,s=e.byteLength;n=new Uint8Array(e.buffer,i,s)}return t.set(n,r),r+b(n.byteLength)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var x=function(){function e(t){if(t instanceof e)return t;t||(t={json:{version:2,buffers:[]},buffers:[]}),this.gltf=t,o(this.gltf.json)}var t,r,n,i=e.prototype;return i.getApplicationData=function(e){return this.json[e]},i.getExtraData=function(e){return(this.json.extras||{})[e]},i.getExtension=function(e){var t=this.getUsedExtensions().find(function(t){return t===e}),r=this.json.extensions||{};return t?r[e]||!0:null},i.getRequiredExtension=function(e){return this.getRequiredExtensions().find(function(t){return t===e})?this.getExtension(e):null},i.getRequiredExtensions=function(){return this.json.extensionsRequired||[]},i.getUsedExtensions=function(){return this.json.extensionsUsed||[]},i.getObjectExtension=function(e,t){return(e.extensions||{})[t]},i.getScene=function(e){return this.getObject("scenes",e)},i.getNode=function(e){return this.getObject("nodes",e)},i.getSkin=function(e){return this.getObject("skins",e)},i.getMesh=function(e){return this.getObject("meshes",e)},i.getMaterial=function(e){return this.getObject("materials",e)},i.getAccessor=function(e){return this.getObject("accessors",e)},i.getCamera=function(e){return null},i.getTexture=function(e){return this.getObject("textures",e)},i.getSampler=function(e){return this.getObject("samplers",e)},i.getImage=function(e){return this.getObject("images",e)},i.getBufferView=function(e){return this.getObject("bufferViews",e)},i.getBuffer=function(e){return this.getObject("buffers",e)},i.getObject=function(e,t){if("object"==typeof t)return t;var r=this.json[e]&&this.json[e][t];if(!r)throw new Error("glTF file error: Could not find "+e+"["+t+"]");return r},i.getTypedArrayForBufferView=function(e){var t=(e=this.getBufferView(e)).buffer,r=this.gltf.buffers[t];o(r);var n=e.byteOffset||0+r.byteOffset;return new Uint8Array(r.arrayBuffer,n,e.byteLength)},i.getTypedArrayForAccessor=function(e){e=this.getAccessor(e);var t=this.getBuffer(e.bufferView),r=this.getBuffer(t.buffer).data,n=p(e,t),i=n.ArrayType,s=n.length;return new i(r,t.byteOffset+e.byteOffset,s)},i.getTypedArrayForImageData=function(e){e=this.getAccessor(e);var t=this.getBuffer(e.bufferView),r=this.getBuffer(t.buffer).data,n=t.byteOffset||0;return new Uint8Array(r,n,t.byteLength)},i.addApplicationData=function(e,t){return this.json[e]=t,this},i.addExtraData=function(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this},i.addExtension=function(e,t){return o(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),this},i.addRequiredExtension=function(e,t){return o(t),this.addExtension(e,t),this.registerRequiredExtension(e),this},i.registerUsedExtension=function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(function(t){return t===e})||this.json.extensionsUsed.push(e)},i.registerRequiredExtension=function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(function(t){return t===e})||this.json.extensionsRequired.push(e)},i.removeExtension=function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]},i.setObjectExtension=function(e,t,r){(e.extensions||{})[t]=r},i.addMesh=function(e,t,r){void 0===r&&(r=4);var n={primitives:[{attributes:this._addAttributes(e),indices:t,mode:r}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(n),this.json.meshes.length-1},i.addPointCloud=function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1},i.addImage=function(e,t){t=t||Object(g.a)(e);var r={bufferView:this.addBufferView(e),mimeType:t};return this.json.images=this.json.images||[],this.json.images.push(r),this.json.images.length-1},i.addBufferView=function(e){var t=e.byteLength;o(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);var r={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=b(t),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(r),this.json.bufferViews.length-1},i.addAccessor=function(e,t){var r={bufferView:e,type:l(t.size),componentType:t.componentType,count:t.count};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(r),this.json.accessors.length-1},i.addBinaryBuffer=function(e,t){void 0===t&&(t={size:3});var r=this.addBufferView(e),n={size:t.size,componentType:d(e),count:Math.round(e.length/t.size)};return this.addAccessor(r,Object.assign(n,t))},i.createBinaryChunk=function(){if(!this.arrayBuffer){for(var e=this.byteLength,t=new ArrayBuffer(e),r=new Uint8Array(t),n=0,i=0;i<this.sourceBuffers.length;i++){n=y(this.sourceBuffers[i],r,n)}this.json.buffers[0].byteLength=e,this.arrayBuffer=t,this.sourceBuffers=[]}},i._removeStringFromArray=function(e,t){for(var r=!0;r;){var n=e.indexOf(t);n>-1?e.splice(n,1):r=!1}},t=e,(r=[{key:"json",get:function(){return this.gltf.json}}])&&m(t.prototype,r),n&&m(t,n),e}(),w="KHR_draco_mesh_compression";r(24);function _(e){var t={};for(var r in e){var n=e[r];if("indices"!==r){var i=A(n);t[r]=i}}return t}function A(e,t){var r=function(e,t){var r=e,n=1,i=0;e&&e.value&&(r=e.value,n=e.size||1);r&&(ArrayBuffer.isView(r)||(r=function(e,t,r){void 0===r&&(r=!1);if(!e)return null;if(Array.isArray(e))return new t(e);if(r&&!(e instanceof t))return new t(e);return e}(r,Float32Array)),i=r.length/n);return{buffer:r,size:n,count:i}}(e),n=r.buffer,i=r.size;return{value:n,size:i,bufferView:null,byteOffset:0,count:r.count,type:l(i),componentType:d(n)}}var k=r(318),j=i.a.mark(U);function T(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function E(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){T(s,n,i,o,a,"next",e)}function a(e){T(s,n,i,o,a,"throw",e)}o(void 0)})}}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t,r){return B.apply(this,arguments)}function B(){return(B=E(i.a.mark(function e(t,r,n){var s,o,a,u,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.getObjectExtension(t,w),o=r.getTypedArrayForBufferView(s.bufferView),a=new Uint8Array(o.buffer).subarray(o.byteOffset),u=new Uint8Array(a),e.next=6,Object(k.a)(u);case 6:c=e.sent,t.attributes=_(c.attributes),c.indices&&(t.indices=A(c.indices)),S(t);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t,r,n){var i;if(void 0===r&&(r=4),void 0===n&&(n={}),!n.DracoWriter||!n.DracoLoader)throw new Error("DracoWriter/DracoLoader not available");var s=n.DracoWriter.encodeSync({attributes:e}),o=n.DracoLoader.parseSync({attributes:e}),a=n._addFauxAttributes(o.attributes),u=n.addBufferView(s);return{primitives:[{attributes:a,mode:r,extensions:(i={},i[w]={bufferView:u,attributes:a},i)}]}}function S(e){if(!e.attributes&&Object.keys(e.attributes).length>0)throw new Error("Empty glTF primitive detected: Draco decompression failure?")}function U(e){var t,r,n,s,o,a,u,c,f;return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t=e.json.meshes||[],r=Array.isArray(t),n=0,t=r?t:t[Symbol.iterator]();case 1:if(!r){i.next=7;break}if(!(n>=t.length)){i.next=4;break}return i.abrupt("break",30);case 4:s=t[n++],i.next=11;break;case 7:if(!(n=t.next()).done){i.next=10;break}return i.abrupt("break",30);case 10:s=n.value;case 11:o=s.primitives,a=Array.isArray(o),u=0,o=a?o:o[Symbol.iterator]();case 13:if(!a){i.next=19;break}if(!(u>=o.length)){i.next=16;break}return i.abrupt("break",28);case 16:c=o[u++],i.next=23;break;case 19:if(!(u=o.next()).done){i.next=22;break}return i.abrupt("break",28);case 22:c=u.value;case 23:return f=c,i.next=26,f;case 26:i.next=13;break;case 28:i.next=1;break;case 30:case"end":return i.stop()}},j)}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}var I={KHR_draco_mesh_compression:function(){function e(){}var t,r,n;return e.decode=function(){var e=E(i.a.mark(function e(t,r){var n,s,o,a,u,c,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r={}),r.decompress){e.next=3;break}return e.abrupt("return");case 3:n=new x(t),s=[],o=U(n),a=Array.isArray(o),u=0,o=a?o:o[Symbol.iterator]();case 6:if(!a){e.next=12;break}if(!(u>=o.length)){e.next=9;break}return e.abrupt("break",20);case 9:c=o[u++],e.next=16;break;case 12:if(!(u=o.next()).done){e.next=15;break}return e.abrupt("break",20);case 15:c=u.value;case 16:f=c,n.getObjectExtension(f,w)&&s.push(R(f,n,r));case 18:e.next=6;break;case 20:return e.next=22,Promise.all(s);case 22:n.removeExtension(w);case 23:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),e.decodeSync=function(e,t){if(t.decompress&&new x(e).getRequiredExtension(w))throw new Error("Cannot synchronously decode Draco")},e.encode=function(e,t){void 0===t&&(t={});var r=new x(e),n=r.json.meshes||[],i=Array.isArray(n),s=0;for(n=i?n:n[Symbol.iterator]();;){var o;if(i){if(s>=n.length)break;o=n[s++]}else{if((s=n.next()).done)break;o=s.value}P(o,t),r.addRequiredExtension(w)}},t=e,n=[{key:"name",get:function(){return w}}],(r=null)&&O(t.prototype,r),n&&O(t,n),e}(),KHR_lights_punctual:function(){function e(){}var t,r,n;return e.decode=function(e,t){var r=new x(e),n=r.getExtension("KHR_lights_punctual");n&&(r.json.lights=n.lights,r.removeExtension("KHR_lights_punctual"));var i=r.nodes||[],s=Array.isArray(i),o=0;for(i=s?i:i[Symbol.iterator]();;){var a;if(s){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var u=a,c=u.extensions&&u.extensions.KHR_lights_punctual;c&&(u.light=r._get("lights",c.light),delete u.extensions.KHR_lights_punctual)}},e.encode=function(e,t){var r=new x(e),n=r.json;if(n.lights){var i=r.addExtensions("KHR_lights_punctual");o(!i.lights),i.lights=n.lights,delete n.lights}if(r.json.lights){var s=r.json.lights,a=Array.isArray(s),u=0;for(s=a?s:s[Symbol.iterator]();;){var c;if(a){if(u>=s.length)break;c=s[u++]}else{if((u=s.next()).done)break;c=u.value}var f=c,h=f.node;r.addObjectExtension(h,"KHR_lights_punctual",f)}delete r.json.lights}},t=e,n=[{key:"name",get:function(){return"KHR_lights_punctual"}}],(r=null)&&L(t.prototype,r),n&&L(t,n),e}()};function C(e,t){return M.apply(this,arguments)}function M(){var e;return e=i.a.mark(function e(t,r){var n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=i.a.keys(I);case 1:if((e.t1=e.t0()).done){e.next=10;break}if((n=e.t1.value)in r&&!r[n]){e.next=8;break}return s=I[n],e.next=8,s.decode(t,r);case 8:e.next=1;break;case 10:case"end":return e.stop()}},e)}),(M=function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){V(s,n,i,o,a,"next",e)}function a(e){V(s,n,i,o,a,"throw",e)}o(void 0)})}).apply(this,arguments)}function F(e,t){if(!e)throw new Error(t||"loader assertion failed.")}var D,N=1735152710,W=12,X=8,q=1313821514,K=5130562,H=!0;function z(e,t,r){void 0===t&&(t=0),void 0===r&&(r={});var n=new DataView(e),i=r.magic,s=void 0===i?N:i,o=n.getUint32(t,!1);return o===s||o===N}function J(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n={});var i=new DataView(t);e.type=function(e,t){return void 0===t&&(t=0),""+String.fromCharCode(e.getUint8(t+0))+String.fromCharCode(e.getUint8(t+1))+String.fromCharCode(e.getUint8(t+2))+String.fromCharCode(e.getUint8(t+3))}(i,r+0),e.version=i.getUint32(r+4,H);var s=i.getUint32(r+8,H);return e.header={byteOffset:r,byteLength:s},"glTF"!==e.type&&console.warn("Invalid GLB magic string "+e.type),F(2===e.version,"Invalid GLB version "+e.version+". Only .glb v2 supported"),F(e.header.byteLength>W+X),e.json={},e.hasBinChunk=!1,e.binChunks=[],function(e,t,r,n){for(;r+8<=e.header.byteLength;){var i=t.getUint32(r+0,H),s=t.getUint32(r+4,H);switch(r+=X,s){case q:G(e,t,r,i,n);break;case K:Q(e,t,r,i,n)}switch(s){case 0:n.strict||G(e,t,r,i,n);break;case 1:n.strict||Q(e,t,r,i,n)}r+=b(i)}}(e,i,r+12,n),function(e){e.byteOffset=e.header.byteOffset,e.magic=e.header.magic,e.version=e.header.version,e.byteLength=e.header.byteLength,e.hasBinChunk=e.binChunks.length>=1,e.binChunkByteOffset=e.header.hasBinChunk?e.binChunks[0].byteOffset:0,e.binChunkLength=e.header.hasBinChunk?e.binChunks[0].byteLength:0}(e),r+e.header.byteLength}function G(e,t,r,n,i){var s=new Uint8Array(t.buffer,r,n),o=new TextDecoder("utf8").decode(s);e.json=JSON.parse(o)}function Q(e,t,r,n,i){e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:r,byteLength:n,arrayBuffer:t.buffer})}var $={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Y={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Z={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},ee={magFilter:Z.TEXTURE_MAG_FILTER,minFilter:Z.TEXTURE_MIN_FILTER,wrapS:Z.TEXTURE_WRAP_S,wrapT:Z.TEXTURE_WRAP_T},te=((D={})[Z.TEXTURE_MAG_FILTER]=Z.LINEAR,D[Z.TEXTURE_MIN_FILTER]=Z.NEAREST_MIPMAP_LINEAR,D[Z.TEXTURE_WRAP_S]=Z.REPEAT,D[Z.TEXTURE_WRAP_]=Z.REPEAT,D);var re=function(){function e(){}var t=e.prototype;return t.postProcess=function(e,t){void 0===t&&(t={});var r=e.json,n=e.buffers,i=void 0===n?[]:n,s=e.images,a=void 0===s?[]:s,u=e.baseUri,c=void 0===u?"":u;return o(r),this.baseUri=c,this.json=r,this.buffers=i,this.images=a,this._resolveTree(this.json,t),this.json},t._resolveTree=function(e,t){var r=this;void 0===t&&(t={}),e.bufferViews&&(e.bufferViews=e.bufferViews.map(function(e,t){return r._resolveBufferView(e,t)})),e.images&&(e.images=e.images.map(function(e,n){return r._resolveImage(e,n,t)})),e.samplers&&(e.samplers=e.samplers.map(function(e,t){return r._resolveSampler(e,t)})),e.textures&&(e.textures=e.textures.map(function(e,t){return r._resolveTexture(e,t)})),e.accessors&&(e.accessors=e.accessors.map(function(e,t){return r._resolveAccessor(e,t)})),e.materials&&(e.materials=e.materials.map(function(e,t){return r._resolveMaterial(e,t)})),e.meshes&&(e.meshes=e.meshes.map(function(e,t){return r._resolveMesh(e,t)})),e.nodes&&(e.nodes=e.nodes.map(function(e,t){return r._resolveNode(e,t)})),e.skins&&(e.skins=e.skins.map(function(e,t){return r._resolveSkin(e,t)})),e.scenes&&(e.scenes=e.scenes.map(function(e,t){return r._resolveScene(e,t)})),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])},t.getScene=function(e){return this._get("scenes",e)},t.getNode=function(e){return this._get("nodes",e)},t.getSkin=function(e){return this._get("skins",e)},t.getMesh=function(e){return this._get("meshes",e)},t.getMaterial=function(e){return this._get("materials",e)},t.getAccessor=function(e){return this._get("accessors",e)},t.getCamera=function(e){return null},t.getTexture=function(e){return this._get("textures",e)},t.getSampler=function(e){return this._get("samplers",e)},t.getImage=function(e){return this._get("images",e)},t.getBufferView=function(e){return this._get("bufferViews",e)},t.getBuffer=function(e){return this._get("buffers",e)},t._get=function(e,t){if("object"==typeof t)return t;var r=this.json[e]&&this.json[e][t];return r||console.warn("glTF file error: Could not find "+e+"["+t+"]"),r},t._resolveScene=function(e,t){var r=this;return e.id=e.id||"scene-"+t,e.nodes=(e.nodes||[]).map(function(e){return r.getNode(e)}),e},t._resolveNode=function(e,t){var r=this;return e.id=e.id||"node-"+t,e.children&&(e.children=e.children.map(function(e){return r.getNode(e)})),void 0!==e.mesh&&(e.mesh=this.getMesh(e.mesh)),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e},t._resolveSkin=function(e,t){return e.id=e.id||"skin-"+t,e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e},t._resolveMesh=function(e,t){var r=this;return e.id=e.id||"mesh-"+t,e.primitives&&(e.primitives=e.primitives.map(function(e){var t=(e=Object.assign({},e)).attributes;for(var n in e.attributes={},t)e.attributes[n]=r.getAccessor(t[n]);return void 0!==e.indices&&(e.indices=r.getAccessor(e.indices)),void 0!==e.material&&(e.material=r.getMaterial(e.material)),e})),e},t._resolveMaterial=function(e,t){if(e.id=e.id||"material-"+t,e.normalTexture&&(e.normalTexture=Object.assign({},e.normalTexture),e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture=Object.assign({},e.occlustionTexture),e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture=Object.assign({},e.emmisiveTexture),e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.pbrMetallicRoughness){e.pbrMetallicRoughness=Object.assign({},e.pbrMetallicRoughness);var r=e.pbrMetallicRoughness;r.baseColorTexture&&(r.baseColorTexture=Object.assign({},r.baseColorTexture),r.baseColorTexture.texture=this.getTexture(r.baseColorTexture.index)),r.metallicRoughnessTexture&&(r.metallicRoughnessTexture=Object.assign({},r.metallicRoughnessTexture),r.metallicRoughnessTexture.texture=this.getTexture(r.metallicRoughnessTexture.index))}return e},t._resolveAccessor=function(e,t){var r,n;return e.id=e.id||"accessor-"+t,void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=(r=e.componentType,Y[r]),e.components=(n=e.type,$[n]),e.bytesPerElement=e.bytesPerComponent*e.components,e},t._resolveTexture=function(e,t){return e.id=e.id||"texture-"+t,e.sampler="sampler"in e?this.getSampler(e.sampler):te,e.source=this.getImage(e.source),e},t._resolveSampler=function(e,t){for(var r in e.id=e.id||"sampler-"+t,e.parameters={},e){var n=this._enumSamplerParameter(r);void 0!==n&&(e.parameters[n]=e[r])}return e},t._enumSamplerParameter=function(e){return ee[e]},t._resolveImage=function(e,t,r){var n=this;if(e.id=e.id||"image-"+t,void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),"uri"in e){var i=this.images[t];i&&i.image&&(e.image=i.image,delete e.uri);var s=r.uri||this.baseUri;if(s){var o=e.uri;e.uri=v(e.uri,s),e.originalUri=o,e.baseUri=s,e.fullUri=e.uri}}return e.getImageAsync=function(){return e.bufferView?new Promise(function(t){var r=n.getBufferView(e.bufferView),i=e.mimeType||"image/jpeg",s=new Blob([r.data],{type:i}),o=(self.URL||self.webkitURL).createObjectURL(s),a=new Image;a.onload=function(){return t(a)},a.src=o}):e.uri?new Promise(function(t){var r=new Image;r.crossOrigin="anonymous",r.onload=function(){return t(r)},r.src=e.fullUri||e.uri}):null},e},t._resolveBufferView=function(e,t){e.id=e.id||"bufferView-"+t;var r=e.buffer;e.buffer=this.getBuffer(r);var n=this.buffers[r].arrayBuffer,i=this.buffers[r].byteOffset||0;return"byteOffset"in e&&(i+=e.byteOffset),e.data=new Uint8Array(n,i,e.byteLength),e},t._resolveCamera=function(e,t){return e.id=e.id||"camera-"+t,e.perspective,e.orthographic,e},e}();function ne(e,t){return(new re).postProcess(e,t)}function ie(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function se(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){ie(s,n,i,o,a,"next",e)}function a(e){ie(s,n,i,o,a,"throw",e)}o(void 0)})}}var oe={fetchLinkedResources:!0,fetchImages:!1,createImages:!1,fetch:s.a,decompress:!1,DracoLoader:null,postProcess:!1,log:console};function ae(e,t,r,n){return ue.apply(this,arguments)}function ue(){return(ue=se(i.a.mark(function e(t,r,n,s){var o,a,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=0),void 0===s&&(s={}),s=Object.assign({},oe,{},s),fe(t,r,n,s),o=[],s.fetchImages&&(a=de(t,s),o.push(a)),!s.fetchLinkedResources){e.next=9;break}return e.next=9,he(t,s);case 9:return u=C(t,s),o.push(u),e.next=13,Promise.all(o);case 13:return e.abrupt("return",s.postProcess?ne(t,s):t);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ce(e,t,r,n){return void 0===r&&(r=0),void 0===n&&(n={}),fe(e,t,r,n=Object.assign({},oe,{},n)),n.fetchLinkedResources&&function(e,t){var r=e.json.buffers||[],n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var s;if(n){if(i>=r.length)break;s=r[i++]}else{if((i=r.next()).done)break;s=i.value}if(s.uri)throw new Error("parseGLTFSync: Cannot decode uri buffers")}}(e),n.decodeExtensions&&function(e,t){for(var r in I){if(!(r in t&&!t[r]))I[r].decodeSync(e,t)}}(e,n),n.postProcess?ne(e,n):e}function fe(e,t,r,n){(n.uri&&(e.baseUri=n.uri),t instanceof ArrayBuffer&&!z(t,r,n))&&(t=(new TextDecoder).decode(t));"string"==typeof t?e.json=JSON.parse(t):t instanceof ArrayBuffer?(e._glb={},r=J(e._glb,t,r,n),e.json=e._glb.json):e.json=t;var i=e.json.buffers||[];e.buffers=new Array(i.length).fill({}),e._glb&&e._glb.hasBinChunk&&(e.buffers[0]={arrayBuffer:e._glb.binChunks[0].arrayBuffer,byteOffset:e._glb.binChunks[0].byteOffset,byteLength:e._glb.binChunks[0].byteLength},e.json.buffers[0].data=e.buffers[0].arrayBuffer,e.json.buffers[0].byteOffset=e.buffers[0].byteOffset);var s=e.json.images||[];e.images=new Array(s.length).fill({})}function he(e,t){return le.apply(this,arguments)}function le(){return(le=se(i.a.mark(function e(t,r){var n,s,a,u,c,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.json.buffers.length)){e.next=19;break}if(s=t.json.buffers[n],r.uri||console.warn("options.uri must be set to decode embedded glTF buffers"),!s.uri||!r.uri){e.next=16;break}return o(a=r.fetch||window.fetch),u=v(s.uri,r.uri),e.next=10,a(u);case 10:return c=e.sent,e.next=13,c.arrayBuffer();case 13:f=e.sent,t.buffers[n]={arrayBuffer:f,byteOffset:0,byteLength:f.byteLength},delete s.uri;case 16:++n,e.next=1;break;case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function de(e,t){return pe.apply(this,arguments)}function pe(){return(pe=se(i.a.mark(function e(t,r){var n,s,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.json.images||[],s=[],o=0;o<n.length;++o)"uri"in(a=n[o])&&s.push(ve(t,a,o,r));return e.next=5,Promise.all(s);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ve(e,t,r,n){return ge.apply(this,arguments)}function ge(){return(ge=se(i.a.mark(function e(t,r,n,s){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(s.fetch||window.fetch),a=v(r.uri,s.uri),e.next=5,new Promise(function(e,t){var r=new Image;r.crossOrigin="anonymous",r.onload=function(){return e(r)},r.onerror=function(e){return t(e)},r.src=a});case 5:t.images[n]=e.sent;case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var be=r(309);r(62);function ye(e,t,r){return void 0===r&&(r={}),function e(t,r,n,i){void 0===i&&(i={});var s=t;var o=function(e,t){var r=function(e){if("string"==typeof e){if(0===e.indexOf("##/"))return e.slice(1);var t=e.match(/#\/([a-z]+)\/([0-9]+)/);if(t){var r=parseInt(t[2],10);return[t[1],r]}if(t=e.match(/\$\$\$([0-9]+)/))return["accessors",parseInt(t[1],10)]}return null}(e);if(r){var n=r[0],i=r[1],s=t[n]&&t[n][i];if(s)return s;console.error("Invalid JSON pointer "+e+": #/"+n+"/"+i)}return null}(s,n);if(o)return o;if(Array.isArray(s))return s.map(function(t){return e(t,r,n,i)});if(null!==s&&"object"==typeof s){var a={};for(var u in s)a[u]=e(s[u],r,n,i);return a}return s}(e,e,t,r)}function me(e,t,r){r&&(e=function(e,t){for(var r=e.byteLength-t,n=new ArrayBuffer(r),i=new Uint8Array(e),s=new Uint8Array(n),o=0;o<r;o++)s[o]=i[t+o];return n}(e,r));for(var n=t.bufferViews||[],i=0;i<n.length;++i){o(n[i].byteLength>=0)}return{accessors:xe(e,n,t),images:we(e,n,t)}}function xe(e,t,r){for(var n=r.accessors||[],i=[],s=0;s<n.length;++s){var a=n[s];o(a);var u=t[a.bufferView];if(u){var c=p(a,u),f=c.ArrayType,h=c.length,l=new f(e,u.byteOffset,h);l.accessor=a,i.push(l)}}return i}function we(e,t,r){for(var n=r.images||[],i=[],s=0;s<n.length;++s){var a=n[s];o(a);var u=t[a.bufferView];o(u);var c=new Uint8Array(e,u.byteOffset,u.byteLength);c.imate=a,i.push(c)}return i}var _e,Ae=function(){function e(){}e.isGLB=function(e,t){void 0===t&&(t={});return z(e,0)};var t=e.prototype;return t.parse=function(e,t){return void 0===t&&(t={}),this.parseSync(e,t)},t.parseSync=function(e,t){if(void 0===t&&(t={}),this.glbArrayBuffer=e,this.binaryByteOffset=null,this.packedJson=null,this.json=null,null===this.json&&null===this.binaryByteOffset){J(this,this.glbArrayBuffer,0,t),this.binaryByteOffset=this.binChunkByteOffset,this.packedJson=this.json;var r=me(this.glbArrayBuffer,this.json,this.binaryByteOffset);this.json=ye(this.json,r),this.unpackedBuffers=r}return this},t.getApplicationData=function(e){return this.json[e]},t.getJSON=function(){return this.json},t.getArrayBuffer=function(){return this.glbArrayBuffer},t.getBinaryByteOffset=function(){return this.binaryByteOffset},t.getBufferView=function(e){var t=(e.byteOffset||0)+this.binaryByteOffset;return new Uint8Array(this.glbArrayBuffer,t,e.byteLength)},t.getBuffer=function(e){var t=h[e.componentType],r=c[e.type],n=f[e.componentType],i=e.count*r,s=e.count*r*n,a=this.json.bufferViews[e.bufferView];o(s>=0&&e.byteOffset+s<=a.byteLength);var u=a.byteOffset+this.binaryByteOffset+e.byteOffset;return new t(this.glbArrayBuffer,u,i)},t.getImageData=function(e){return{typedArray:this.getBufferView(e.bufferView),mimeType:e.mimeType||"image/jpeg"}},t.getImage=function(e){var t=this.getBufferView(e.bufferView),r=e.mimeType||"image/jpeg",n=new Blob([t],{type:r}),i=(self.URL||self.webkitURL).createObjectURL(n),s=new Image;return s.src=i,s},t.getImageAsync=function(e){var t=this;return new Promise(function(r){var n=t.getBufferView(e.bufferView),i=e.mimeType||"image/jpeg",s=new Blob([n],{type:i}),o=(self.URL||self.webkitURL).createObjectURL(s),a=new Image;a.onload=function(){return r(a)},a.src=o})},e}(),ke={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},je={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Te={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},Ee={magFilter:Te.TEXTURE_MAG_FILTER,minFilter:Te.TEXTURE_MIN_FILTER,wrapS:Te.TEXTURE_WRAP_S,wrapT:Te.TEXTURE_WRAP_T},Oe=((_e={})[Te.TEXTURE_MAG_FILTER]=Te.LINEAR,_e[Te.TEXTURE_MIN_FILTER]=Te.NEAREST_MIPMAP_LINEAR,_e[Te.TEXTURE_WRAP_S]=Te.REPEAT,_e[Te.TEXTURE_WRAP_]=Te.REPEAT,_e);var Re=function(){function e(){}var t=e.prototype;return t.postProcess=function(e,t,r){return void 0===r&&(r={}),this.gltf=e,this.glbParser=t,this._resolveToTree(r),this.gltf},t._resolveToTree=function(e){var t=this;void 0===e&&(e={});var r=this.gltf;return(r.bufferViews||[]).forEach(function(e,r){return t._resolveBufferView(e,r)}),(r.images||[]).forEach(function(r,n){return t._resolveImage(r,n,e)}),(r.samplers||[]).forEach(function(e,r){return t._resolveSampler(e,r)}),(r.textures||[]).forEach(function(e,r){return t._resolveTexture(e,r)}),(r.accessors||[]).forEach(function(e,r){return t._resolveAccessor(e,r)}),(r.materials||[]).forEach(function(e,r){return t._resolveMaterial(e,r)}),(r.meshes||[]).forEach(function(e,r){return t._resolveMesh(e,r)}),(r.nodes||[]).forEach(function(e,r){return t._resolveNode(e,r)}),(r.skins||[]).forEach(function(e,r){return t._resolveSkin(e,r)}),(r.scenes||[]).forEach(function(e,r){return t._resolveScene(e,r)}),void 0!==r.scene&&(r.scene=r.scenes[this.gltf.scene]),this._process_extension_KHR_lights_punctual(),r},t.getScene=function(e){return this._get("scenes",e)},t.getNode=function(e){return this._get("nodes",e)},t.getSkin=function(e){return this._get("skins",e)},t.getMesh=function(e){return this._get("meshes",e)},t.getMaterial=function(e){return this._get("materials",e)},t.getAccessor=function(e){return this._get("accessors",e)},t.getCamera=function(e){return null},t.getTexture=function(e){return this._get("textures",e)},t.getSampler=function(e){return this._get("samplers",e)},t.getImage=function(e){return this._get("images",e)},t.getBufferView=function(e){return this._get("bufferViews",e)},t.getBuffer=function(e){return this._get("buffers",e)},t._get=function(e,t){if("object"==typeof t)return t;var r=this.gltf[e]&&this.gltf[e][t];return r||console.warn("glTF file error: Could not find "+e+"["+t+"]"),r},t._resolveScene=function(e,t){var r=this;e.id="scene-"+t,e.nodes=(e.nodes||[]).map(function(e){return r.getNode(e)})},t._resolveNode=function(e,t){var r=this;e.id="node-"+t,e.children=(e.children||[]).map(function(e){return r.getNode(e)}),void 0!==e.mesh&&(e.mesh=this.getMesh(e.mesh)),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin))},t._resolveSkin=function(e,t){e.id="skin-"+t,e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices)},t._resolveMesh=function(e,t){e.id="mesh-"+t;var r=e.primitives,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var s;if(n){if(i>=r.length)break;s=r[i++]}else{if((i=r.next()).done)break;s=i.value}var o=s;for(var a in o.attributes)o.attributes[a]=this.getAccessor(o.attributes[a]);void 0!==o.indices&&(o.indices=this.getAccessor(o.indices)),void 0!==o.material&&(o.material=this.getMaterial(o.material))}},t._resolveMaterial=function(e,t){if(e.id="material-"+t,e.normalTexture&&(e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.pbrMetallicRoughness){var r=e.pbrMetallicRoughness;r.baseColorTexture&&(r.baseColorTexture.texture=this.getTexture(r.baseColorTexture.index)),r.metallicRoughnessTexture&&(r.metallicRoughnessTexture.texture=this.getTexture(r.metallicRoughnessTexture.index))}},t._resolveAccessor=function(e,t){e.id="accessor-"+t,void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=je[e],e.components=ke[e],e.bytesPerElement=e.bytesPerComponent*e.components},t._resolveTexture=function(e,t){e.id="texture-"+t,e.sampler="sampler"in e?this.getSampler(e.sampler):Oe,e.source=this.getImage(e.source)},t._resolveSampler=function(e,t){for(var r in e.id="sampler-"+t,e.parameters={},e){var n=this._enumSamplerParameter(r);void 0!==n&&(e.parameters[n]=e[r])}},t._enumSamplerParameter=function(e){return Ee[e]},t._resolveImage=function(e,t,r){var n=this;e.id="image-"+t,void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var i=r.createImages;void 0===i||i?e.image=this.glbParser.getImage(e):e.getImageAsync=function(){return n.glbParser?n.glbParser.getImageAsync(e):e.uri?new Promise(function(t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){return t(n)},n.src=v(e.uri,r.uri)}):null}},t._resolveBufferView=function(e,t){if(e.id="bufferView-"+t,e.buffer=this.getBuffer(e.buffer),this.glbParser)e.data=this.glbParser.getBufferView(e);else{var r=e.byteOffset||0;e.data=new Uint8Array(e.buffer.data,r,e.byteLength)}},t._resolveCamera=function(e){e.perspective,e.orthographic},t._process_extension_KHR_lights_punctual=function(){var e=this.gltf,t=e.extensions&&e.extensions.KHR_lights_punctual;t&&(e.lights=t.lights),this._removeExtension("KHR_lights_punctual");var r=e.nodes||[],n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var s;if(n){if(i>=r.length)break;s=r[i++]}else{if((i=r.next()).done)break;s=i.value}var o=s,a=o.extensions&&o.extensions.KHR_lights_punctual;a&&(o.light=this._get("lights",a.light),delete o.extensions.KHR_lights_punctual)}delete e.lights},t._removeExtension=function(e){this.gltf.extensionsRequired&&this._removeStringFromArray(this.gltf.extensionsRequired,e),this.gltf.extensionsUsed&&this._removeStringFromArray(this.gltf.extensionsUsed,e),this.gltf.extensions&&delete this.gltf.extensions[e]},t._removeStringFromArray=function(e,t){for(var r=!0;r;){var n=e.indexOf(t);n>-1?e.splice(n,1):r=!1}},e}();function Be(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function Pe(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){Be(s,n,i,o,a,"next",e)}function a(e){Be(s,n,i,o,a,"throw",e)}o(void 0)})}}var Se={fetchLinkedResources:!0,fetch:s.a,decompress:!1,DracoLoader:null,postProcess:!0,createImages:!1,log:console},Ue=function(){function e(){}var t=e.prototype;return t.parse=function(){var e=Pe(i.a.mark(function e(t,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r={}),r=Object.assign({},Se,r),this.parseSync(t,Object.assign({},r,{postProcess:!1,decompress:!1})),!r.fetchLinkedResources){e.next=6;break}return e.next=6,this._loadLinkedAssets(r);case 6:return r.decompress&&this._decompressMeshes(r),r.postProcess&&(new Re).postProcess(this.gltf,this.glbParser,r),e.abrupt("return",this.gltf);case 9:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),t.parseSync=function(e,t){(void 0===t&&(t={}),t=Object.assign({},Se,t),e instanceof ArrayBuffer&&!Ae.isGLB(e,t))&&(e=(new be.a).decode(e));("string"==typeof e&&(e=JSON.parse(e)),e instanceof ArrayBuffer?(this.glbParser=new Ae,this.gltf=this.glbParser.parseSync(e).json,this.json=this.gltf):(this.glbParser=null,this.gltf=e,this.json=e),t.decompress&&this._decompressMeshes(t),t.postProcess)&&(new Re).postProcess(this.gltf,this.glbParser,t);return this.gltf},t.getApplicationData=function(e){return this.json[e]},t.getExtraData=function(e){return(this.json.extras||{})[e]},t.getExtension=function(e){var t=this.getUsedExtensions().find(function(t){return t===e}),r=this.json.extensions||{};return t?r[e]||!0:null},t.getRequiredExtension=function(e){return this.getRequiredExtensions().find(function(t){return t===e})?this.getExtension(e):null},t.getRequiredExtensions=function(){return this.json.extensionsRequired||[]},t.getUsedExtensions=function(){return this.json.extensionsUsed||[]},t.getScene=function(e){return this._get("scenes",e)},t.getNode=function(e){return this._get("nodes",e)},t.getSkin=function(e){return this._get("skins",e)},t.getMesh=function(e){return this._get("meshes",e)},t.getMaterial=function(e){return this._get("materials",e)},t.getAccessor=function(e){return this._get("accessors",e)},t.getCamera=function(e){return null},t.getTexture=function(e){return this._get("textures",e)},t.getSampler=function(e){return this._get("samplers",e)},t.getImage=function(e){return this._get("images",e)},t.getBufferView=function(e){return this._get("bufferViews",e)},t.getBuffer=function(e){return this._get("buffers",e)},t._get=function(e,t){if("object"==typeof t)return t;var r=this.gltf[e]&&this.gltf[e][t];return r||console.warn("glTF file error: Could not find "+e+"["+t+"]"),r},t._loadLinkedAssets=function(){var e=Pe(i.a.mark(function e(t){var r=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.gltf.buffers.map(function(e){return r._loadBuffer(e,t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._loadBuffer=function(){var e=Pe(i.a.mark(function e(t,r){var n,s,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.uri||!r.uri){e.next=11;break}return n=r.fetch||window.fetch,s=v(t.uri,r.uri),e.next=5,n(s);case 5:return o=e.sent,e.next=8,o.arrayBuffer();case 8:a=e.sent,t.data=a,t.uri=null;case 11:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),t._decompressMeshes=function(e){if(e.DracoLoader&&e.decompress){var t=this.gltf.meshes||[],r=Array.isArray(t),n=0;for(t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}var s=i.primitives,o=Array.isArray(s),a=0;for(s=o?s:s[Symbol.iterator]();;){var u;if(o){if(a>=s.length)break;u=s[a++]}else{if((a=s.next()).done)break;u=a.value}var c=u;if(this._decompressKhronosDracoPrimitive(c,e),this._decompressUberDracoPrimitive(c,e),!c.attributes||0===Object.keys(c.attributes).length)throw new Error("Empty glTF primitive: decompression failure?")}}this._removeExtension(w),this._removeExtension("UBER_draco_point_cloud_compression")}},t._decompressKhronosDracoPrimitive=function(e,t){var r=e.extensions&&e.extensions[w];if(r){delete e.extensions[w];var n=this._getBufferViewArray(r.bufferView),i=t.DracoLoader.parseSync(n);e.attributes=_(i.attributes),i.indices&&(e.indices=A(i.indices))}},t._decompressUberDracoPrimitive=function(e,t){var r=e.extensions&&e.extensions.UBER_draco_point_cloud_compression;if(r){if(0!==e.mode)throw new Error("UBER_draco_point_cloud_compression");delete e.extensions.UBER_draco_point_cloud_compression;var n=this._getBufferViewArray(r.bufferView),i=t.DracoLoader.parseSync(n);e.attributes=i.attributes}},t._getBufferViewArray=function(e){var t=this.gltf.bufferViews[e];if(this.glbParser)return this.glbParser.getBufferView(t);var r=this.gltf.buffers[t.buffer].data,n=t.byteOffset||0;return new Uint8Array(r,n,t.byteLength)},t._removeExtension=function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]},t._removeStringFromArray=function(e,t){for(var r=!0;r;){var n=e.indexOf(t);n>-1?e.splice(n,1):r=!1}},e}();function Le(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}var Ve={gltf:{parserVersion:1},uri:""};t.a={name:"glTF",extensions:["gltf","glb"],mimeType:"model/gltf+json",text:!0,binary:!0,test:"glTF",parse:function(e,t){return Ie.apply(this,arguments)},parseSync:function(e,t){void 0===t&&(t={});if(2!==(t=Object.assign({},Ve,{},t)).gltf.parserVersion&&!1!==t.useGLTFParser)return(new Ue).parseSync(e,t);var r=t.byteOffset;return ce({},e,void 0===r?0:r,t)},defaultOptions:Ve};function Ie(){var e;return e=i.a.mark(function e(t,r){var n,s,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r={}),2===(r=Object.assign({},Ve,{},r)).gltf.parserVersion||!1===r.useGLTFParser){e.next=5;break}return n=new Ue,e.abrupt("return",n.parse(t,r));case 5:return s=r.byteOffset,o=void 0===s?0:s,a={},e.next=9,ae(a,t,o,r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}),(Ie=function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){Le(s,n,i,o,a,"next",e)}function a(e){Le(s,n,i,o,a,"throw",e)}o(void 0)})}).apply(this,arguments)}}}]);