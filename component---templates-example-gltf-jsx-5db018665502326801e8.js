(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{194:function(e,t,n){"use strict";n.r(t);n(7);var r,i=n(2),s=n.n(i),o=n(0),a=n.n(o),u=n(299),f=(n(78),n(242),n(81),n(80),n(31),n(210)),c=n.n(f),l=(n(211),n(18)),h=n.n(l),g=n(212),d=n.n(g),p=n(243),m=n(313),v=n(334),b=n.n(v),y=n(213),x=n(436),w=n(425),_=n(435),j=n(441),A=n(277),O=((r={})[b.a.TEXTURE_CUBE_MAP_POSITIVE_X]="right",r[b.a.TEXTURE_CUBE_MAP_NEGATIVE_X]="left",r[b.a.TEXTURE_CUBE_MAP_POSITIVE_Y]="top",r[b.a.TEXTURE_CUBE_MAP_NEGATIVE_Y]="bottom",r[b.a.TEXTURE_CUBE_MAP_POSITIVE_Z]="front",r[b.a.TEXTURE_CUBE_MAP_NEGATIVE_Z]="back",r),E="https://raw.githubusercontent.com/uber-common/deck.gl-data/master/luma.gl/examples/gltf/",S="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/",L=S+"model-index.json",B="DamagedHelmet/glTF-Binary/DamagedHelmet.glb";var T='\n<p><b>glTF Loader</b>.</p>\n<p>Rendered using luma.gl.</p>\n<div>\n  Model<br/>\n  <select id="modelSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="'+B+'">Default</option>\n  </select>\n  <br>\n</div>\n<div>\n  Show<br/>\n  <select id="showSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="0 0 0 0 0 0 0 0">Final Result</option>\n\n    <option value="0 1 0 0 0 0 0 0">Base Color</option>\n    <option value="0 0 1 0 0 0 0 0">Metallic</option>\n    <option value="0 0 0 1 0 0 0 0">Roughness</option>\n    <option value="1 0 0 0 0 0 0 0">Diffuse</option>\n\n    <option value="0 0 0 0 1 0 0 0">Specular Reflection</option>\n    <option value="0 0 0 0 0 1 0 0">Geometric Occlusion</option>\n    <option value="0 0 0 0 0 0 1 0">Microfacet Distribution</option>\n    <option value="0 0 0 0 0 0 0 1">Specular</option>\n  </select>\n  <br>\n</div>\n<div>\n  Regular Lights<br/>\n  <select id="lightSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="default">Default</option>\n    <option value="ambient">Ambient Only</option>\n    <option value="directional1">1x Directional (Red) + Ambient</option>\n    <option value="directional3">3x Directional (RGB)</option>\n    <option value="point1far">1x Point Light Far (Red) + Ambient</option>\n    <option value="point1near">1x Point Light Near (Red) + Ambient</option>\n  </select>\n  <br>\n</div>\n<div>\n  Image-Based Light<br/>\n  <select id="iblSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="exclusive">On (Exclusive)</option>\n    <option value="addition">On (Addition to Regular)</option>\n    <option value="off">Off (Only Regular)</option>\n  </select>\n  <br/>\n</div>\n<p><img src="https://img.shields.io/badge/WebVR-Supported-orange.svg" /></p>\n',k={default:{directionalLights:[{color:[255,255,255],direction:[0,.5,.5],intensity:1}]},ambient:{ambientLight:{color:[255,255,255],intensity:1}},directional1:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},directional3:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1},{color:[0,0,255],direction:[0,0,1],intensity:1},{color:[0,255,0],direction:[0,1,0],intensity:1}]},point1far:{pointLights:[{color:[255,0,0],position:[200,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},point1near:{pointLights:[{color:[255,0,0],position:[10,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}}},U={pbrDebug:!0,imageBasedLightingEnvironment:null,lights:!1};function R(e,t,n){return M.apply(this,arguments)}function M(){return(M=d()(c.a.mark(function e(t,n,r){var i,s,o,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(t,_.a,Object.assign({},r,{gl:n,DracoLoader:m.a}));case 2:return i=e.sent,s=i.gltf,o=i.scenes,a=i.animator,o[0].traverse(function(e,t){t.worldMatrix;return y.C.info(4,"Using model: ",e)()}),e.abrupt("return",{scenes:o,animator:a,gltf:s});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var V=function(e){s()(n,e),n.getInfo=function(){return T};var t=n.prototype;function n(t){var n,r=void 0===t?{}:t,i=r.modelFile,s=void 0===i?null:i,o=r.initialZoom,a=void 0===o?2:o;return(n=e.call(this)||this).scenes=[],n.animator=null,n.gl=null,n.modelFile=s,n.glOptions={webgl2:!0,alpha:!1},n.mouse={lastX:0,lastY:0},n.translate=a,n.rotation=[0,0],n.rotationStart=[0,0],n.rotationAnimation=!0,n.u_ScaleDiffBaseMR=[0,0,0,0],n.u_ScaleFGDSpec=[0,0,0,0],n.onInitialize=n.onInitialize.bind(h()(n)),n.onRender=n.onRender.bind(h()(n)),n}return t.getInfo=function(){return T},t.initializeEventHandling=function(e){var t=this;e.onwheel=function(e){t.translate+=e.deltaY/10,t.translate<.5&&(t.translate=.5),e.preventDefault()},e.onpointerdown=function(n){t.mouse.lastX=n.clientX,t.mouse.lastY=n.clientY,t.rotationStart[0]=t.rotation[0],t.rotationStart[1]=t.rotation[1],e.setPointerCapture(n.pointerId),n.preventDefault(),t.rotationAnimation=!1},e.onpointermove=function(e){if(e.buttons){var n=e.clientX-t.mouse.lastX,r=e.clientY-t.mouse.lastY;t.rotation[0]=t.rotationStart[0]+r/100,t.rotation[1]=t.rotationStart[1]+n/100}},e.ondragover=function(e){e.dataTransfer.dropEffect="link",e.preventDefault()},e.ondrop=function(){var e=d()(c.a.mark(function e(n){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!n.dataTransfer.files||1!==n.dataTransfer.files.length){e.next=8;break}return r=n.dataTransfer.files[0],t._deleteScenes(),e.next=6,R(r,t.gl,t.loadOptions);case 6:i=e.sent,Object.assign(t,i);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},t.onInitialize=function(e){var t=this,n=e.gl,r=e.canvas;if(Object(y.K)(n,{depthTest:!0,blend:!1}),this.loadOptions=Object.assign({},U),this.environment=new x.a(n,{brdfLutUrl:E+"/brdfLUT.png",getTexUrl:function(e,t,n){return E+"/papermill/"+e+"/"+e+"_"+O[t]+"_"+n+".jpg"}}),this.loadOptions.imageBasedLightingEnvironment=this.environment,this.gl=n,this.modelFile){R(this.modelFile,this.gl,{pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0}).then(function(e){return Object.assign(t,e)})}else{var i=document.getElementById("modelSelector"),s=i&&i.value||B;R(S+s,this.gl,this.loadOptions).then(function(e){return Object.assign(t,e)}),i&&(i.onchange=function(e){t._deleteScenes();var n=i&&i.value||B;R(S+n,t.gl,t.loadOptions).then(function(e){return Object.assign(t,e)})}),window.fetch(L).then(function(e){return e.json()}).then(function(e){return function(e,t){if(t){var n=["glTF-Draco","glTF-Binary","glTF-Embedded","glTF"];e.forEach(function(e){var r=e.name,i=e.variants,s=n.find(function(e){return i[e]}),o=document.createElement("option");o.text=r+" ("+s+")",o.value=r+"/"+s+"/"+i[s],t.appendChild(o)})}}(e,i)})}var o=document.getElementById("showSelector");o&&(o.onchange=function(e){var n=o.value.split(" ").map(function(e){return parseFloat(e)});t.u_ScaleDiffBaseMR=n.slice(0,4),t.u_ScaleFGDSpec=n.slice(4)});var a=document.getElementById("lightSelector");a&&(a.onchange=function(e){t.light=a.value});var u=document.getElementById("iblSelector");u&&(u.onchange=function(e){t._updateLightSettings(u.value),t._rebuildModel()}),this.initializeEventHandling(r)},t._updateLightSettings=function(e){switch(e){case"exclusive":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:this.environment,lights:!1});break;case"addition":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:this.environment,lights:!0});break;case"off":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:null,lights:!0})}},t._rebuildModel=function(){(this.gltf.meshes||[]).forEach(function(e){return delete e._mesh}),(this.gltf.nodes||[]).forEach(function(e){return delete e._node}),(this.gltf.bufferViews||[]).forEach(function(e){return delete e.lumaBuffers}),this._deleteScenes(),Object.assign(this,Object(w.a)(this.gl,this.gltf,this.loadOptions))},t._deleteScenes=function(){this.scenes.forEach(function(e){return e.delete()}),this.scenes=[],y.D.get("Resource Counts").forEach(function(e){var t=e.name,n=e.count;y.C.info(3,t+": "+n)()})},t.applyLight=function(e){e.updateModuleSettings({lightSources:k[this.light||"default"]})},t.onRender=function(e){var t=this,n=e.gl,r=e.time,i=e.aspect,s=e.viewMatrix,o=e.projectionMatrix;Object(y.u)(n,{color:[.2,.2,.2,1],depth:!0}),this.rotationAnimation&&(this.rotation[1]=r/3600);var a=this.rotation,u=a[0],f=a[1],c=[-this.translate*Math.sin(f)*Math.cos(-u),-this.translate*Math.sin(-u),this.translate*Math.cos(f)*Math.cos(-u)],l=new j.a(s?Array.from(s):null).translate([0,0,-this.translate]).rotateX(u).rotateY(f),h=o?new j.a(Array.from(o)):(new j.a).perspective({fov:Object(A.f)(40),aspect:i,near:.1,far:9e3});if(!this.scenes.length)return!1;this.animator&&this.animator.animate(r);var g=!0;return this.scenes[0].traverse(function(e,n){var r=n.worldMatrix,i=new j.a(h).multiplyRight(l).multiplyRight(r);t.applyLight(e),g=g&&e.draw({uniforms:{u_Camera:c,u_MVPMatrix:i,u_ModelMatrix:r,u_NormalMatrix:new j.a(r).invert().transpose(),u_ScaleDiffBaseMR:t.u_ScaleDiffBaseMR,u_ScaleFGDSpec:t.u_ScaleFGDSpec},parameters:e.props.parameters})}),g},n}(y.b);if("undefined"!=typeof window&&!window.website){var P=new V;P.start();var C=document.createElement("div");C.innerHTML=P.getInfo(),document.body.appendChild(C)}n.d(t,"default",function(){return D});var D=function(e){function t(){return e.apply(this,arguments)||this}return s()(t,e),t.prototype.render=function(){return a.a.createElement(u.a,Object.assign({AnimationLoop:V},this.props))},t}(a.a.Component)},219:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return h});n(82),n(218),n(244),n(245),n(258),n(208),n(259),n(21),n(14),n(11),n(78),n(222);var r=n(224),i=["SCALAR","VEC2","VEC3","VEC4"],s=new Map([[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126]]),o={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},a={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},u={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function f(e){return i[e-1]||i[0]}function c(e){var t=s.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function l(e,t){var n=u[e.componentType],i=o[e.type],s=a[e.componentType],f=e.count*i,c=e.count*i*s;return Object(r.a)(c>=0&&c<=t.byteLength),{ArrayType:n,length:f,byteLength:c}}function h(e,t){return e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:")?e:t.substr(0,t.lastIndexOf("/")+1)+e}},224:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"gltf/glb assertion failed.")}n.d(t,"a",function(){return r})},246:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s});var r="KHR_draco_mesh_compression",i="UBER_draco_point_cloud_compression",s="KHR_lights_punctual"},264:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});n(218),n(31);var r=n(219);function i(e){var t={};for(var n in e){var r=e[n];if("indices"!==n){var i=s(r);t[n]=i}}return t}function s(e,t){var n=function(e,t){var n=e,r=1,i=0;e&&e.value&&(n=e.value,r=e.size||1);n&&(ArrayBuffer.isView(n)||(n=function(e,t,n){void 0===n&&(n=!1);if(!e)return null;if(Array.isArray(e))return new t(e);if(n&&!(e instanceof t))return new t(e);return e}(n,Float32Array)),i=n.length/r);return{buffer:n,size:r,count:i}}(e),i=n.buffer,s=n.size;return{value:i,size:s,bufferView:null,byteOffset:0,count:n.count,type:Object(r.e)(s),componentType:Object(r.f)(i)}}},265:function(e,t,n){"use strict";n(208);function r(e,t){if(!e)throw new Error(t||"loader assertion failed.")}var i=n(341);n.d(t,"b",function(){return h}),n.d(t,"a",function(){return g});var s=1735152710,o=12,a=8,u=1313821514,f=5130562,c=!0,l=!1;function h(e,t,n){void 0===t&&(t=0),void 0===n&&(n={});var r=new DataView(e),i=n.magic,o=void 0===i?s:i,a=r.getUint32(t,!1);return a===o||a===s}function g(e,t,n,h){void 0===n&&(n=0),void 0===h&&(h={});var g=new DataView(t);e.byteOffset=n,e.magic=g.getUint32(n+0,l),e.version=g.getUint32(n+4,c),e.byteLength=g.getUint32(n+8,c),e.type=function(e){return""+String.fromCharCode(e.getUint8(0))+String.fromCharCode(e.getUint8(1))+String.fromCharCode(e.getUint8(2))+String.fromCharCode(e.getUint8(3))}(g);var d=h.magic,p=void 0===d?s:d;e.magic===s||e.magic===p||console.warn("Invalid GLB magic string "+e.type),r(2===e.version,"Invalid GLB version "+e.version+". Only .glb v2 supported"),r(e.byteLength>20);var m=g.getUint32(n+12,c),v=g.getUint32(n+16,c);r(v===u||0===v,"JSON chunk format "+v);var b=o+a,y=new Uint8Array(t,n+b,m),x=new TextDecoder("utf8").decode(y);e.json=JSON.parse(x);var w=b+Object(i.b)(m);if(e.hasBinChunk=w+8<=e.byteLength,e.hasBinChunk){var _=g.getUint32(n+w+0,c),j=g.getUint32(n+w+4,c);r(j===f||1===j,"BIN chunk format "+j);var A=w+a;e.binChunkByteOffset=A,e.binChunkLength=_}return n+e.byteLength}},294:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"KHR_draco_mesh_compression",function(){return j}),n.d(r,"KHR_lights_punctual",function(){return A});n(76),n(77),n(21),n(7);var i=n(210),s=n.n(i),o=(n(211),n(212)),a=n.n(o),u=n(239),f=n(224),c=n(219),l=n(265),h=(n(14),n(11),n(223),n(231)),g=n.n(h),d=(n(208),n(80),n(78),n(242),n(276),n(222),!1),p=!0,m=new Map([["image/png",{test:function(e){return e.byteLength>=24&&2303741511===e.getUint32(0,d)},getSize:function(e){return{width:e.getUint32(16,d),height:e.getUint32(20,d)}}}],["image/jpeg",{test:function(e){return e.byteLength>=2&&65496===e.getUint16(0,d)},getSize:function(e){if(e.byteLength<2||65496!==e.getUint16(0,d))return null;var t=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var n=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:n}}(),n=t.tableMarkers,r=t.sofMarkers,i=2;for(;i<e.byteLength;){var s=e.getUint16(i,d);if(r.has(s))return{height:e.getUint16(i+5,d),width:e.getUint16(i+7,d)};if(!n.has(s))return null;i+=2,i+=e.getUint16(i,d)}return null}}],["image/gif",{test:function(e){return e.byteLength>=10&&1195984440===e.getUint32(0,d)},getSize:function(e){return{width:e.getUint16(6,p),height:e.getUint16(8,p)}}}],["image/bmp",{test:function(e){return e.byteLength>=2&&16973===e.getUint16(0,d)},getSize:function(e){return{width:e.getUint32(18,p),height:e.getUint32(22,p)}}}]]);Array.from(m.keys()).join(", ");function v(e){var t=b(e),n=m.entries(),r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(i>=n.length)break;s=n[i++]}else{if((i=n.next()).done)break;s=i.value}var o=s,a=o[0];if((0,o[1].test)(t))return a}return null}function b(e){if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return new DataView(e.buffer||e);throw new Error("toDataView")}var y=n(341),x=function(){function e(t){if(t instanceof e)return t;t||(t={json:{version:2,buffers:[]},binary:null}),this.gltf=t}var t=e.prototype;return t.getApplicationData=function(e){return this.json[e]},t.getExtraData=function(e){return(this.json.extras||{})[e]},t.getExtension=function(e){var t=this.getUsedExtensions().find(function(t){return t===e}),n=this.json.extensions||{};return t?n[e]||!0:null},t.getRequiredExtension=function(e){return this.getRequiredExtensions().find(function(t){return t===e})?this.getExtension(e):null},t.getRequiredExtensions=function(){return this.json.extensionsRequired||[]},t.getUsedExtensions=function(){return this.json.extensionsUsed||[]},t.getObjectExtension=function(e,t){return(e.extensions||{})[t]},t.getScene=function(e){return this.getObject("scenes",e)},t.getNode=function(e){return this.getObject("nodes",e)},t.getSkin=function(e){return this.getObject("skins",e)},t.getMesh=function(e){return this.getObject("meshes",e)},t.getMaterial=function(e){return this.getObject("materials",e)},t.getAccessor=function(e){return this.getObject("accessors",e)},t.getCamera=function(e){return null},t.getTexture=function(e){return this.getObject("textures",e)},t.getSampler=function(e){return this.getObject("samplers",e)},t.getImage=function(e){return this.getObject("images",e)},t.getBufferView=function(e){return this.getObject("bufferViews",e)},t.getBuffer=function(e){return this.getObject("buffers",e)},t.getObject=function(e,t){if("object"==typeof t)return t;var n=this.gltf[e]&&this.gltf[e][t];return n||console.warn("glTF file error: Could not find "+e+"["+t+"]"),n},t.getTypedArrayForBufferView=function(e){e=this.getBufferView(e);var t=this.getBuffer(e.buffer).data,n=e.byteOffset||0;return new Uint8Array(t,n,e.byteLength)},t.getTypedArrayForAccessor=function(e){e=this.getAccessor(e);var t=this.getBuffer(e.bufferView),n=this.getBuffer(t.buffer).data,r=Object(c.d)(e,t),i=r.ArrayType,s=r.length;return new i(n,t.byteOffset+e.byteOffset,s)},t.getTypedArrayForImageData=function(e){e=this.getAccessor(e);var t=this.getBuffer(e.bufferView),n=this.getBuffer(t.buffer).data,r=t.byteOffset||0;return new Uint8Array(n,r,t.byteLength)},t.addApplicationData=function(e,t){return this.json[e]=t,this},t.addExtraData=function(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this},t.addExtension=function(e,t){return Object(f.a)(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),this},t.addRequiredExtension=function(e,t){return Object(f.a)(t),this.addExtension(e,t),this.registerRequiredExtension(e),this},t.registerUsedExtension=function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(function(t){return t===e})||this.json.extensionsUsed.push(e)},t.registerRequiredExtension=function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(function(t){return t===e})||this.json.extensionsRequired.push(e)},t.removeExtension=function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]},t.setObjectExtension=function(e,t,n){(e.extensions||{})[t]=n},t.addMesh=function(e,t,n){void 0===n&&(n=4);var r={primitives:[{attributes:this._addAttributes(e),indices:t,mode:n}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(r),this.json.meshes.length-1},t.addPointCloud=function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1},t.addImage=function(e,t){t=t||v(e);var n={bufferView:this.addBufferView(e),mimeType:t};return this.json.images=this.json.images||[],this.json.images.push(n),this.json.images.length-1},t.addBufferView=function(e){var t=e.byteLength||e.length;this.byteLength+=Object(y.b)(t),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);var n={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1},t.addAccessor=function(e,t){var n={bufferView:e,type:Object(c.e)(t.size),componentType:t.componentType,count:t.count};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1},t.addBinaryBuffer=function(e,t){void 0===t&&(t={size:3});var n=this.addBufferView(e),r={size:t.size,componentType:Object(c.f)(e),count:Math.round(e.length/t.size)};return this.addAccessor(n,Object.assign(r,t))},t.createBinaryChunk=function(){if(!this.arrayBuffer){for(var e=this.byteLength,t=new ArrayBuffer(e),n=new Uint8Array(t),r=0,i=0;i<this.sourceBuffers.length;i++){var s=this.sourceBuffers[i];r=Object(y.a)(s,n,r)}this.json.buffers[0].byteLength=e,this.arrayBuffer=t,this.sourceBuffers=[]}},t._removeStringFromArray=function(e,t){for(var n=!0;n;){var r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}},g()(e,[{key:"json",get:function(){return this.gltf.json}}]),e}(),w=n(246),_=n(264),j=function(){function e(){}return e.decode=function(t,n){var r=new x(t),i=r.json.meshes||[],s=Array.isArray(i),o=0;for(i=s?i:i[Symbol.iterator]();;){var a;if(s){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var u=a;e.decompressMesh(u,n)}r.removeExtension(w.a)},e.encode=function(t,n){var r=new x(t),i=r.json.meshes||[],s=Array.isArray(i),o=0;for(i=s?i:i[Symbol.iterator]();;){var a;if(s){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var u=a;e.compressMesh(u,n),r.addRequiredExtension(w.a)}},e.compressMesh=function(e,t,n,r){var i;if(void 0===n&&(n=4),void 0===r&&(r={}),!r.DracoWriter||!r.DracoLoader)throw new Error("DracoWriter/DracoLoader not available");var s=r.DracoWriter.encodeSync({attributes:e}),o=r.DracoLoader.parseSync({attributes:e}),a=r._addFauxAttributes(o.attributes),u=r.addBufferView(s);return{primitives:[{attributes:a,mode:n,extensions:(i={},i[w.a]={bufferView:u,attributes:a},i)}]}},e.decompressMesh=function(t,n){void 0===n&&(n={});var r=t.primitives,i=Array.isArray(r),s=0;for(r=i?r:r[Symbol.iterator]();;){var o;if(i){if(s>=r.length)break;o=r[s++]}else{if((s=r.next()).done)break;o=s.value}var a=o;if(e._decompressMeshPrimitive(a,n),!a.attributes||0===Object.keys(a.attributes).length)throw new Error("Empty glTF primitive: decompression failure?")}},e._decompressMeshPrimitive=function(e,t){var n=e.extensions&&e.extensions[w.a];if(n&&t.DracoLoader&&t.decompress){delete e.extensions[w.a];var r=this._getBufferViewArray(n.bufferView),i=t.DracoLoader.parseSync(r);e.attributes=Object(_.b)(i.attributes),i.indices&&(e.indices=Object(_.a)(i.indices))}},g()(e,null,[{key:"name",get:function(){return w.a}}]),e}(),A=function(){function e(){}return e.decode=function(e,t){var n=new x(e),r=n.getExtension(w.b);r&&(n.json.lights=r.lights,n.removeExtension(w.b));var i=n.nodes||[],s=Array.isArray(i),o=0;for(i=s?i:i[Symbol.iterator]();;){var a;if(s){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var u=a,f=u.extensions&&u.extensions.KHR_lights_punctual;f&&(u.light=n._get("lights",f.light),delete u.extensions.KHR_lights_punctual)}},e.encode=function(e,t){var n=new x(e),r=n.json;if(r.lights){var i=n.addExtensions(w.b);Object(f.a)(!i.lights),i.lights=r.lights,delete r.lights}if(n.json.lights){var s=n.json.lights,o=Array.isArray(s),a=0;for(s=o?s:s[Symbol.iterator]();;){var u;if(o){if(a>=s.length)break;u=s[a++]}else{if((a=s.next()).done)break;u=a.value}var c=u,l=c.node;n.addObjectExtension(l,w.b,c)}delete n.json.lights}},g()(e,null,[{key:"name",get:function(){return w.b}}]),e}();n.d(t,"b",function(){return S}),n.d(t,"a",function(){return L});var O={fetchLinkedResources:!1,decompress:!1,DracoLoader:null,postProcess:!0,createImages:!1,log:console},E={fetchLinkedResources:!0,fetch:u.a,decompress:!1,DracoLoader:null,postProcess:!0,createImages:!1,log:console};function S(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i={}),i=Object.assign({},O,i);var s=t;s instanceof ArrayBuffer&&!Object(l.b)(s,n,i)&&(s=(new TextDecoder).decode(s));if(e.buffers=[],"string"==typeof s?e.json=JSON.parse(s):s instanceof ArrayBuffer?(n=Object(l.a)(e,s,n,i),e.hasBinChunk&&e.buffers.push({arrayBuffer:s,byteOffset:e.binChunkByteOffset,byteLength:e.binChunkLength})):e.json=s,i.uri&&(e.baseUri=i.uri),i.fetchLinkedResources){var o=e.json.buffers||[],a=Array.isArray(o),u=0;for(o=a?o:o[Symbol.iterator]();;){var f;if(a){if(u>=o.length)break;f=o[u++]}else{if((u=o.next()).done)break;f=u.value}if(f.uri)throw new Error("parseGLTFSync: Cannot decode uri buffers")}}return function(e,t){for(var n in r){var i=n in t&&!t[n];if(!i){var s=r[n];s.decode(e,t)}}}(e,i),n}function L(e,t,n,r){return B.apply(this,arguments)}function B(){return(B=a()(s.a.mark(function e(t,n,r,i){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=0),void 0===i&&(i={}),i=Object.assign({},E,i),S(t,n,r,Object.assign({},i,{fetchLinkedResources:!1,postProcess:!1,decompress:!1})),!i.fetchLinkedResources){e.next=7;break}return e.next=7,T(t,i);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e,t){return k.apply(this,arguments)}function k(){return(k=a()(s.a.mark(function e(t,n){var r,i,o,a,u,l,h,g,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.json.buffers,i=Array.isArray(r),o=0,r=i?r:r[Symbol.iterator]();case 1:if(!i){e.next=7;break}if(!(o>=r.length)){e.next=4;break}return e.abrupt("break",26);case 4:a=r[o++],e.next=11;break;case 7:if(!(o=r.next()).done){e.next=10;break}return e.abrupt("break",26);case 10:a=o.value;case 11:if(!(u=a).uri){e.next=24;break}return l=n.fetch||window.fetch,Object(f.a)(l),h=Object(c.g)(u.uri,n.uri),e.next=18,l(h);case 18:return g=e.sent,e.next=21,g.arrayBuffer();case 21:d=e.sent,u.data=d,delete u.uri;case 24:e.next=1;break;case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}},299:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});n(31);var r=n(2),i=n.n(r),s=n(0),o=n.n(s),a=n(3),u=n.n(a),f=n(213),c=n(446),l=n(434),h=n(307);void 0===e||e.navigator||(e.navigator={}),"undefined"!=typeof window&&(window.website=!0);var g={EXAMPLE_NOT_SUPPPORTED:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},d={position:"fixed",fontSize:"12px",zIndex:1e4,color:"#fff",background:"#000",padding:"8px",opacity:.8},p={example:u.a.object,canvas:u.a.string},m=function(e){function t(t){var n,r=(n=e.call(this,t)||this).props.AnimationLoop;return n.animationLoop=new r,n}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.showStats;this.animationLoop._setDisplay(new c.a);var t=this.props.path;if(t){Object(f.L)("https://raw.githubusercontent.com/uber/loaders.gl/master/"+t)}this.animationLoop.start(this.props),e&&this._showStats(this.animationLoop)},n.componentWillUnmount=function(){this.animationLoop.stop(this.props),this.animationLoop.delete(),this.animationLoop=null},n._showStats=function(e){var t=this,n=new l.a(e.stats,{container:this.refs.renderStats,title:"Render Time",css:{header:{fontWeight:"bold"}},framesPerUpdate:60,formatters:{"CPU Time":"averageTime","GPU Time":"averageTime","Frame Rate":"fps"},resetOnUpdate:{"CPU Time":!0,"GPU Time":!0,"Frame Rate":!0}});f.D.get("Memory Usage").reset();var r=new l.a(f.D.get("Memory Usage"),{container:this.refs.memStats,css:{header:{fontWeight:"bold"}},framesPerUpdate:60,formatters:{"GPU Memory":"memory","Buffer Memory":"memory","Renderbuffer Memory":"memory","Texture Memory":"memory"}});this.animationFrame=window.requestAnimationFrame(function e(){n.update(),r.update(),t.animationFrame=window.requestAnimationFrame(e)})},n._stopStats=function(){window.cancelAnimationFrame(this.animationFrame)},n.render=function(){var e=this.props,t=e.name,n=e.panel,r=void 0===n||n,i=e.stats,s=e.sourceLink;if(this.animationLoop.isSupported&&!this.animationLoop.isSupported()){var a=this.animationLoop.getAltText?this.animationLoop.getAltText():"THIS EXAMPLE IS NOT SUPPORTED";return o.a.createElement("div",{style:g.EXAMPLE_NOT_SUPPPORTED},o.a.createElement("h2",null," ",a," "))}var u=this.props.AnimationLoop.getInfo()||this.animationLoop.getInfo&&this.animationLoop.getInfo();return o.a.createElement("div",{className:"fg",style:{width:"100%",height:"100%",padding:0,border:0}},i?o.a.createElement("div",{ref:"stats",className:"stats",style:d},o.a.createElement("div",{ref:"renderStats",className:"renderStats"}),o.a.createElement("div",{ref:"memStats",className:"memStats"})):null,o.a.createElement("canvas",{id:this.props.canvas,style:{width:"100%",height:"100%",padding:0,border:0}}),r?o.a.createElement(h.a,{name:t,controls:u,sourceLink:s}):null)},t}(s.Component);m.propTypes=p,m.defaultProps={canvas:"example-canvas"},m.displayName="AnimationLoop"}).call(this,n(79))},307:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(31);var r=n(2),i=n.n(r),s=n(0),o=n.n(s),a=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.controls,r=e.sourceLink;return o.a.createElement("div",{className:"options-panel top-right",tabIndex:"0"},o.a.createElement("h3",null,t),o.a.createElement("div",{className:"control-panel",dangerouslySetInnerHTML:{__html:n}}),r&&o.a.createElement("div",{className:"source-link"},o.a.createElement("a",{href:r,target:"_new"},"View Code ↗")))},t}(s.PureComponent)},341:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});n(208);function r(e){return e+3&-4}function i(e,t,n){var i;if(e instanceof ArrayBuffer)i=new Uint8Array(e);else{var s=e.byteOffset,o=e.byteLength;i=new Uint8Array(e.buffer,s,o)}return t.set(i,n),n+r(i.byteLength)}},426:function(e,t,n){"use strict";n(7);var r=n(210),i=n.n(r),s=(n(211),n(212)),o=n.n(s),a=n(294),u=(n(208),n(223),n(76),n(77),n(32),n(21),n(14),n(11),n(78),n(80),n(239)),f=n(229),c=n(219),l=n(264),h=n(246),g=n(224),d=n(265);n(83);function p(e,t,n){return void 0===n&&(n={}),function e(t,n,r,i){void 0===i&&(i={});var s=t;var o=function(e,t){var n=function(e){if("string"==typeof e){if(0===e.indexOf("##/"))return e.slice(1);var t=e.match(/#\/([a-z]+)\/([0-9]+)/);if(t){var n=parseInt(t[2],10);return[t[1],n]}if(t=e.match(/\$\$\$([0-9]+)/)){var r=parseInt(t[1],10);return["accessors",r]}}return null}(e);if(n){var r=n[0],i=n[1],s=t[r]&&t[r][i];if(s)return s;console.error("Invalid JSON pointer "+e+": #/"+r+"/"+i)}return null}(s,r);if(o)return o;if(Array.isArray(s))return s.map(function(t){return e(t,n,r,i)});if(null!==s&&"object"==typeof s){var a={};for(var u in s)a[u]=e(s[u],n,r,i);return a}return s}(e,e,t,n)}function m(e,t,n){n&&(e=function(e,t){for(var n=e.byteLength-t,r=new ArrayBuffer(n),i=new Uint8Array(e),s=new Uint8Array(r),o=0;o<n;o++)s[o]=i[t+o];return r}(e,n));for(var r=t.bufferViews||[],i=0;i<r.length;++i){var s=r[i];Object(g.a)(s.byteLength>=0)}return{accessors:v(e,r,t),images:b(e,r,t)}}function v(e,t,n){for(var r=n.accessors||[],i=[],s=0;s<r.length;++s){var o=r[s];Object(g.a)(o);var a=t[o.bufferView];if(a){var u=Object(c.d)(o,a),f=u.ArrayType,l=u.length,h=new f(e,a.byteOffset,l);h.accessor=o,i.push(h)}}return i}function b(e,t,n){for(var r=n.images||[],i=[],s=0;s<r.length;++s){var o=r[s];Object(g.a)(o);var a=t[o.bufferView];Object(g.a)(a);var u=new Uint8Array(e,a.byteOffset,a.byteLength);u.imate=o,i.push(u)}return i}var y=function(){function e(){}e.isGLB=function(e,t){void 0===t&&(t={});return Object(d.b)(e,0)};var t=e.prototype;return t.parse=function(e,t){return void 0===t&&(t={}),this.parseSync(e,t)},t.parseSync=function(e,t){if(void 0===t&&(t={}),this.glbArrayBuffer=e,this.binaryByteOffset=null,this.packedJson=null,this.json=null,null===this.json&&null===this.binaryByteOffset){Object(d.a)(this,this.glbArrayBuffer,0,t),this.binaryByteOffset=this.binChunkByteOffset,this.packedJson=this.json;var n=m(this.glbArrayBuffer,this.json,this.binaryByteOffset);this.json=p(this.json,n),this.unpackedBuffers=n}return this},t.getApplicationData=function(e){return this.json[e]},t.getJSON=function(){return this.json},t.getArrayBuffer=function(){return this.glbArrayBuffer},t.getBinaryByteOffset=function(){return this.binaryByteOffset},t.getBufferView=function(e){var t=(e.byteOffset||0)+this.binaryByteOffset;return new Uint8Array(this.glbArrayBuffer,t,e.byteLength)},t.getBuffer=function(e){var t=c.a[e.componentType],n=c.c[e.type],r=c.b[e.componentType],i=e.count*n,s=e.count*n*r,o=this.json.bufferViews[e.bufferView];Object(g.a)(s>=0&&e.byteOffset+s<=o.byteLength);var a=o.byteOffset+this.binaryByteOffset+e.byteOffset;return new t(this.glbArrayBuffer,a,i)},t.getImageData=function(e){return{typedArray:this.getBufferView(e.bufferView),mimeType:e.mimeType||"image/jpeg"}},t.getImage=function(e){var t=this.getBufferView(e.bufferView),n=e.mimeType||"image/jpeg",r=new Blob([t],{type:n}),i=(self.URL||self.webkitURL).createObjectURL(r),s=new Image;return s.src=i,s},t.getImageAsync=function(e){var t=this;return new Promise(function(n){var r=t.getBufferView(e.bufferView),i=e.mimeType||"image/jpeg",s=new Blob([r],{type:i}),o=(self.URL||self.webkitURL).createObjectURL(s),a=new Image;a.onload=function(){return n(a)},a.src=o})},e}(),x={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},w={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},_={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243};var j=function(){function e(){}var t=e.prototype;return t.postProcess=function(e,t,n){return void 0===n&&(n={}),this.gltf=e,this.glbParser=t,this._resolveToTree(n),this.gltf},t._resolveToTree=function(e){var t=this;void 0===e&&(e={});var n=this.gltf;return(n.bufferViews||[]).forEach(function(e,n){return t._resolveBufferView(e,n)}),(n.images||[]).forEach(function(n,r){return t._resolveImage(n,r,e)}),(n.samplers||[]).forEach(function(e,n){return t._resolveSampler(e,n)}),(n.textures||[]).forEach(function(e,n){return t._resolveTexture(e,n)}),(n.accessors||[]).forEach(function(e,n){return t._resolveAccessor(e,n)}),(n.materials||[]).forEach(function(e,n){return t._resolveMaterial(e,n)}),(n.meshes||[]).forEach(function(e,n){return t._resolveMesh(e,n)}),(n.nodes||[]).forEach(function(e,n){return t._resolveNode(e,n)}),(n.skins||[]).forEach(function(e,n){return t._resolveSkin(e,n)}),(n.scenes||[]).forEach(function(e,n){return t._resolveScene(e,n)}),void 0!==n.scene&&(n.scene=n.scenes[this.gltf.scene]),this._process_extension_KHR_lights_punctual(),n},t.getScene=function(e){return this._get("scenes",e)},t.getNode=function(e){return this._get("nodes",e)},t.getSkin=function(e){return this._get("skins",e)},t.getMesh=function(e){return this._get("meshes",e)},t.getMaterial=function(e){return this._get("materials",e)},t.getAccessor=function(e){return this._get("accessors",e)},t.getCamera=function(e){return null},t.getTexture=function(e){return this._get("textures",e)},t.getSampler=function(e){return this._get("samplers",e)},t.getImage=function(e){return this._get("images",e)},t.getBufferView=function(e){return this._get("bufferViews",e)},t.getBuffer=function(e){return this._get("buffers",e)},t._get=function(e,t){if("object"==typeof t)return t;var n=this.gltf[e]&&this.gltf[e][t];return n||console.warn("glTF file error: Could not find "+e+"["+t+"]"),n},t._resolveScene=function(e,t){var n=this;e.id="scene-"+t,e.nodes=(e.nodes||[]).map(function(e){return n.getNode(e)})},t._resolveNode=function(e,t){var n=this;e.id="node-"+t,e.children=(e.children||[]).map(function(e){return n.getNode(e)}),void 0!==e.mesh&&(e.mesh=this.getMesh(e.mesh)),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin))},t._resolveSkin=function(e,t){e.id="skin-"+t,e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices)},t._resolveMesh=function(e,t){e.id="mesh-"+t;var n=e.primitives,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(i>=n.length)break;s=n[i++]}else{if((i=n.next()).done)break;s=i.value}var o=s;for(var a in o.attributes)o.attributes[a]=this.getAccessor(o.attributes[a]);void 0!==o.indices&&(o.indices=this.getAccessor(o.indices)),void 0!==o.material&&(o.material=this.getMaterial(o.material))}},t._resolveMaterial=function(e,t){if(e.id="material-"+t,e.normalTexture&&(e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.pbrMetallicRoughness){var n=e.pbrMetallicRoughness;n.baseColorTexture&&(n.baseColorTexture.texture=this.getTexture(n.baseColorTexture.index)),n.metallicRoughnessTexture&&(n.metallicRoughnessTexture.texture=this.getTexture(n.metallicRoughnessTexture.index))}},t._resolveAccessor=function(e,t){e.id="accessor-"+t,void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=w[e],e.components=x[e],e.bytesPerElement=e.bytesPerComponent*e.components},t._resolveTexture=function(e,t){e.id="texture-"+t,e.sampler=this.getSampler(e.sampler),e.source=this.getImage(e.source)},t._resolveSampler=function(e,t){for(var n in e.id="sampler-"+t,e.parameters={},e){var r=this._enumSamplerParameter(n);void 0!==r&&(e.parameters[r]=e[n])}},t._enumSamplerParameter=function(e){return _[e]},t._resolveImage=function(e,t,n){var r=this;e.id="image-"+t,void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var i=n.createImages;void 0===i||i?e.image=this.glbParser.getImage(e):e.getImageAsync=function(){return r.glbParser?r.glbParser.getImageAsync(e):e.uri?new Promise(function(t){var r=new Image;r.crossOrigin="anonymous",r.onload=function(){return t(r)},r.src=Object(c.g)(e.uri,n.uri)}):null}},t._resolveBufferView=function(e,t){if(e.id="bufferView-"+t,e.buffer=this.getBuffer(e.buffer),this.glbParser)e.data=this.glbParser.getBufferView(e);else{var n=e.byteOffset||0;e.data=new Uint8Array(e.buffer.data,n,e.byteLength)}},t._resolveCamera=function(e){e.perspective,e.orthographic},t._process_extension_KHR_lights_punctual=function(){var e=this.gltf,t=e.extensions&&e.extensions.KHR_lights_punctual;t&&(e.lights=t.lights),this._removeExtension("KHR_lights_punctual");var n=e.nodes||[],r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(i>=n.length)break;s=n[i++]}else{if((i=n.next()).done)break;s=i.value}var o=s,a=o.extensions&&o.extensions.KHR_lights_punctual;a&&(o.light=this._get("lights",a.light),delete o.extensions.KHR_lights_punctual)}delete e.lights},t._removeExtension=function(e){this.gltf.extensionsRequired&&this._removeStringFromArray(this.gltf.extensionsRequired,e),this.gltf.extensionsUsed&&this._removeStringFromArray(this.gltf.extensionsUsed,e),this.gltf.extensions&&delete this.gltf.extensions[e]},t._removeStringFromArray=function(e,t){for(var n=!0;n;){var r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}},e}(),A={fetchLinkedResources:!0,fetch:u.a,decompress:!1,DracoLoader:null,postProcess:!0,createImages:!1,log:console},O=function(){function e(){}var t=e.prototype;return t.parse=function(){var e=o()(i.a.mark(function e(t,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),n=Object.assign({},A,n),this.parseSync(t,Object.assign({},n,{postProcess:!1,decompress:!1})),!n.fetchLinkedResources){e.next=6;break}return e.next=6,this._loadLinkedAssets(n);case 6:return n.decompress&&this._decompressMeshes(n),n.postProcess&&(new j).postProcess(this.gltf,this.glbParser,n),e.abrupt("return",this.gltf);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.parseSync=function(e,t){(void 0===t&&(t={}),t=Object.assign({},A,t),e instanceof ArrayBuffer&&!y.isGLB(e,t))&&(e=(new f.a).decode(e));("string"==typeof e&&(e=JSON.parse(e)),e instanceof ArrayBuffer?(this.glbParser=new y,this.gltf=this.glbParser.parseSync(e).json,this.json=this.gltf):(this.glbParser=null,this.gltf=e,this.json=e),t.decompress&&this._decompressMeshes(t),t.postProcess)&&(new j).postProcess(this.gltf,this.glbParser,t);return this.gltf},t.getApplicationData=function(e){return this.json[e]},t.getExtraData=function(e){return(this.json.extras||{})[e]},t.getExtension=function(e){var t=this.getUsedExtensions().find(function(t){return t===e}),n=this.json.extensions||{};return t?n[e]||!0:null},t.getRequiredExtension=function(e){return this.getRequiredExtensions().find(function(t){return t===e})?this.getExtension(e):null},t.getRequiredExtensions=function(){return this.json.extensionsRequired||[]},t.getUsedExtensions=function(){return this.json.extensionsUsed||[]},t.getScene=function(e){return this._get("scenes",e)},t.getNode=function(e){return this._get("nodes",e)},t.getSkin=function(e){return this._get("skins",e)},t.getMesh=function(e){return this._get("meshes",e)},t.getMaterial=function(e){return this._get("materials",e)},t.getAccessor=function(e){return this._get("accessors",e)},t.getCamera=function(e){return null},t.getTexture=function(e){return this._get("textures",e)},t.getSampler=function(e){return this._get("samplers",e)},t.getImage=function(e){return this._get("images",e)},t.getBufferView=function(e){return this._get("bufferViews",e)},t.getBuffer=function(e){return this._get("buffers",e)},t._get=function(e,t){if("object"==typeof t)return t;var n=this.gltf[e]&&this.gltf[e][t];return n||console.warn("glTF file error: Could not find "+e+"["+t+"]"),n},t._loadLinkedAssets=function(){var e=o()(i.a.mark(function e(t){var n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.gltf.buffers.map(function(e){return n._loadBuffer(e,t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._loadBuffer=function(){var e=o()(i.a.mark(function e(t,n){var r,s,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.uri){e.next=11;break}return r=n.fetch||window.fetch,s=Object(c.g)(t.uri,n.uri),e.next=5,r(s);case 5:return o=e.sent,e.next=8,o.arrayBuffer();case 8:a=e.sent,t.data=a,t.uri=null;case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),t._decompressMeshes=function(e){if(e.DracoLoader&&e.decompress){var t=this.gltf.meshes||[],n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var s=i.primitives,o=Array.isArray(s),a=0;for(s=o?s:s[Symbol.iterator]();;){var u;if(o){if(a>=s.length)break;u=s[a++]}else{if((a=s.next()).done)break;u=a.value}var f=u;if(this._decompressKhronosDracoPrimitive(f,e),this._decompressUberDracoPrimitive(f,e),!f.attributes||0===Object.keys(f.attributes).length)throw new Error("Empty glTF primitive: decompression failure?")}}this._removeExtension(h.a),this._removeExtension(h.c)}},t._decompressKhronosDracoPrimitive=function(e,t){var n=e.extensions&&e.extensions[h.a];if(n){delete e.extensions[h.a];var r=this._getBufferViewArray(n.bufferView),i=t.DracoLoader.parseSync(r);e.attributes=Object(l.b)(i.attributes),i.indices&&(e.indices=Object(l.a)(i.indices))}},t._decompressUberDracoPrimitive=function(e,t){var n=e.extensions&&e.extensions[h.c];if(n){if(0!==e.mode)throw new Error(h.c);delete e.extensions[h.c];var r=this._getBufferViewArray(n.bufferView),i=t.DracoLoader.parseSync(r);e.attributes=i.attributes}},t._getBufferViewArray=function(e){var t=this.gltf.bufferViews[e];if(this.glbParser)return this.glbParser.getBufferView(t);var n=this.gltf.buffers[t.buffer].data,r=t.byteOffset||0;return new Uint8Array(n,r,t.byteLength)},t._removeExtension=function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]},t._removeStringFromArray=function(e,t){for(var n=!0;n;){var r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}},e}(),E={useGLTFParser:!0};function S(){return(S=o()(i.a.mark(function e(t,n){var r,s,o,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),!(n=Object.assign({},E,n)).useGLTFParser){e.next=5;break}return r=new O,e.abrupt("return",r.parse(t,n));case 5:return s=n.byteOffset,o=void 0===s?0:s,u={},e.next=9,Object(a.a)(u,t,o,n);case 9:return e.abrupt("return",u);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.a={name:"glTF",extension:["gltf","glb"],text:!0,binary:!0,parse:function(e,t){return S.apply(this,arguments)},parseSync:function(e,t){if(void 0===t&&(t={}),(t=Object.assign({},E,t)).useGLTFParser)return(new O).parseSync(e,t);var n=t.byteOffset,r=void 0===n?0:n,i={};return Object(a.b)(i,e,r,t),i},defaultOptions:E}}}]);