(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+H0l":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));n("YBKJ"),n("9ZhD");var r=n("a3TU");function i(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function a(t,e,n){if(r.b.debug&&!function(t,e){if(t.length!==e)return!1;for(var n=0;n<t.length;++n)if(!Number.isFinite(t[n]))return!1;return!0}(t,e))throw new Error("math.gl: ".concat(""|n," some fields set to invalid numbers'"));return t}var o={};function u(t,e){o[t]||(o[t]=!0,console.warn("".concat(t," has been removed in version ").concat(e,", see upgrade guide for more information")))}},"0SKY":function(t,e,n){"use strict";n("R48M");var r=n("TqRt"),i=n("284h");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"self",{enumerable:!0,get:function(){return a.self}}),Object.defineProperty(e,"window",{enumerable:!0,get:function(){return a.window}}),Object.defineProperty(e,"global",{enumerable:!0,get:function(){return a.global}}),Object.defineProperty(e,"document",{enumerable:!0,get:function(){return a.document}}),Object.defineProperty(e,"process",{enumerable:!0,get:function(){return a.process}}),Object.defineProperty(e,"console",{enumerable:!0,get:function(){return a.console}}),Object.defineProperty(e,"isBrowser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"isBrowserMainThread",{enumerable:!0,get:function(){return o.isBrowserMainThread}}),Object.defineProperty(e,"getBrowser",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"isMobile",{enumerable:!0,get:function(){return u.isMobile}}),Object.defineProperty(e,"isElectron",{enumerable:!0,get:function(){return s.default}});var a=n("jWbo"),o=i(n("uXCu")),u=i(n("IVX/")),s=r(n("15yl"))},"11Ib":function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));n("OeI1"),n("YBKJ"),n("E5k/"),n("Dq+y"),n("8npG"),n("Ggvi"),n("JHok"),n("m210"),n("4DPX"),n("rzGZ"),n("MIFh"),n("ofTv");var r=n("rePB"),i=n("ODXe"),a=n("1OyB"),o=n("md7G"),u=n("JX7q"),s=n("foSv"),c=n("ReuC"),f=n("vuIU"),l=n("Ji7U"),h=n("iein"),d=n("L8KH"),b=n("f5Sf"),v=n("n4Ve"),g=n("pRFE"),m=n("p7wt"),y=n("d3kR"),O=n("SUVH"),p=n("rnmN"),j=n("CxzY"),_=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(this,e),(n=Object(o.a)(this,Object(s.a)(e).call(this,t,r))).width=null,n.height=null,n.attachments={},n.readBuffer=36064,n.drawBuffers=[36064],n.ownResources=[],n.initialize(r),Object.seal(Object(u.a)(n)),n}return Object(l.a)(e,t),Object(f.a)(e,[{key:"MAX_COLOR_ATTACHMENTS",get:function(){return this.gl.getParameter(this.gl.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){return this.gl.getParameter(this.gl.MAX_DRAW_BUFFERS)}}],[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.colorBufferFloat,r=e.colorBufferHalfFloat,i=!0;return n&&(i=Boolean(t.getExtension("EXT_color_buffer_float")||t.getExtension("WEBGL_color_buffer_float")||t.getExtension("OES_texture_float"))),r&&(i=i&&Boolean(t.getExtension("EXT_color_buffer_float")||t.getExtension("EXT_color_buffer_half_float"))),i}},{key:"getDefaultFramebuffer",value:function(t){return t.luma=t.luma||{},t.luma.defaultFramebuffer=t.luma.defaultFramebuffer||new e(t,{id:"default-framebuffer",handle:null,attachments:{}}),t.luma.defaultFramebuffer}}]),Object(f.a)(e,[{key:"initialize",value:function(t){var e=t.width,n=void 0===e?1:e,r=t.height,i=void 0===r?1:r,a=t.attachments,o=void 0===a?null:a,u=t.color,s=void 0===u||u,c=t.depth,f=void 0===c||c,l=t.stencil,h=void 0!==l&&l,d=t.check,b=void 0===d||d,v=t.readBuffer,g=t.drawBuffers;if(Object(j.a)(n>=0&&i>=0,"Width and height need to be integers"),this.width=n,this.height=i,o)for(var m in o){var y=o[m];(Array.isArray(y)?y[0]:y).resize({width:n,height:i})}else o=this._createDefaultAttachments(s,f,h,n,i);this.update({clearAttachments:!0,attachments:o,readBuffer:v,drawBuffers:g}),o&&b&&this.checkStatus()}},{key:"delete",value:function(){var t=!0,n=!1,r=void 0;try{for(var i,a=this.ownResources[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.delete()}}catch(o){n=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}Object(c.a)(Object(s.a)(e.prototype),"delete",this).call(this)}},{key:"update",value:function(t){var e=t.attachments,n=void 0===e?{}:e,r=t.readBuffer,i=t.drawBuffers,a=t.clearAttachments,o=void 0!==a&&a,u=t.resizeAttachments,s=void 0===u||u;this.attach(n,{clearAttachments:o,resizeAttachments:s});var c=this.gl,f=c.bindFramebuffer(36160,this.handle);return r&&this._setReadBuffer(r),i&&this._setDrawBuffers(i),c.bindFramebuffer(36160,f||null),this}},{key:"resize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,n=t.height;if(null===this.handle)return Object(j.a)(void 0===e&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var r in void 0===e&&(e=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),e!==this.width&&n!==this.height&&h.g.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(e,"x").concat(n))(),this.attachments)this.attachments[r].resize({width:e,height:n});return this.width=e,this.height=n,this}},{key:"attach",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clearAttachments,a=void 0!==r&&r,o=n.resizeAttachments,u=void 0===o||o,s={};a&&Object.keys(this.attachments).forEach((function(t){s[t]=null})),Object.assign(s,t);var c=this.gl.bindFramebuffer(36160,this.handle);for(var f in s){Object(j.a)(void 0!==f,"Misspelled framebuffer binding point?");var l=Number(f),h=s[l],d=h;if(d)if(d instanceof v.a)this._attachRenderbuffer({attachment:l,renderbuffer:d});else if(Array.isArray(h)){var b=Object(i.a)(h,3),g=b[0],m=b[1],y=void 0===m?0:m,O=b[2],p=void 0===O?0:O;d=g,this._attachTexture({attachment:l,texture:g,layer:y,level:p})}else this._attachTexture({attachment:l,texture:d,layer:0,level:0});else this._unattach(l);u&&d&&d.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,c||null),Object.assign(this.attachments,t),Object.keys(this.attachments).filter((function(t){return!e.attachments[t]})).forEach((function(t){delete e.attachments[t]}))}},{key:"checkStatus",value:function(){this.gl;var t=this.getStatus();if(36053!==t)throw new Error(k(t));return this}},{key:"getStatus",value:function(){var t=this.gl,e=t.bindFramebuffer(36160,this.handle),n=t.checkFramebufferStatus(36160);return t.bindFramebuffer(36160,e||null),n}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,n=t.depth,r=t.stencil,i=t.drawBuffers,a=void 0===i?[]:i,o=this.gl.bindFramebuffer(36160,this.handle);return(e||n||r)&&Object(g.a)(this.gl,{color:e,depth:n,stencil:r}),a.forEach((function(t,e){Object(g.b)({drawBuffer:e,value:t})})),this.gl.bindFramebuffer(36160,o||null),this}},{key:"readPixels",value:function(){return h.g.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}},{key:"readPixelsToBuffer",value:function(){return h.g.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}},{key:"copyToDataUrl",value:function(){return h.g.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}},{key:"copyToImage",value:function(){return h.g.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}},{key:"copyToTexture",value:function(){return h.g.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"blit",value:function(){return h.g.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}},{key:"invalidate",value:function(t){var e=t.attachments,n=void 0===e?[]:e,r=t.x,i=void 0===r?0:r,a=t.y,o=void 0===a?0:a,u=t.width,s=t.height,c=this.gl;Object(O.a)(c);var f=c.bindFramebuffer(36008,this.handle);return 0===i&&0===o&&void 0===u&&void 0===s?c.invalidateFramebuffer(36008,n):c.invalidateFramebuffer(36008,n,i,o,u,s),c.bindFramebuffer(36008,f),this}},{key:"getAttachmentParameter",value:function(t,e,n){var r=this._getAttachmentParameterFallback(e);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,t,e),this.gl.bindFramebuffer(36160,null)),n&&r>1e3&&(r=Object(p.a)(this.gl,r)),r}},{key:"getAttachmentParameters",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[],r={},i=!0,a=!1,o=void 0;try{for(var u,s=n[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value,f=e?Object(p.a)(this.gl,c):c;r[f]=this.getAttachmentParameter(t,c,e)}}catch(l){a=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return r}},{key:"getParameters",value:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=Object.keys(this.attachments),n={},r=0,i=e;r<i.length;r++){var a=i[r],o=Number(a),u=t?Object(p.a)(this.gl,o):o;n[u]=this.getAttachmentParameters(o,t)}return n}},{key:"show",value:function(){return"undefined"!=typeof window&&window.open(Object(m.a)(this),"luma-debug-texture"),this}},{key:"log",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t>h.g.level||"undefined"==typeof window)return this;e=e||"Framebuffer ".concat(this.id);var n=Object(m.a)(this,{maxHeight:100});return h.g.image({logLevel:t,message:e,image:n},e)(),this}},{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,n=void 0===e?36160:e;return this.gl.bindFramebuffer(n,this.handle),this}},{key:"unbind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,n=void 0===e?36160:e;return this.gl.bindFramebuffer(n,null),this}},{key:"_createDefaultAttachments",value:function(t,e,n,i,a){var o,u=null;t&&((u=u||{})[36064]=new b.a(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:i,height:a,mipmaps:!1,parameters:(o={},Object(r.a)(o,10241,9729),Object(r.a)(o,10240,9729),Object(r.a)(o,10242,33071),Object(r.a)(o,10243,33071),o)}),this.ownResources.push(u[36064]));return e&&n?((u=u||{})[33306]=new v.a(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:i,height:111}),this.ownResources.push(u[33306])):e?((u=u||{})[36096]=new v.a(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:i,height:a}),this.ownResources.push(u[36096])):n&&Object(j.a)(!1),u}},{key:"_unattach",value:function(t){var e=this.attachments[t];e&&(e instanceof v.a?this.gl.framebufferRenderbuffer(36160,t,36161,null):this.gl.framebufferTexture2D(36160,t,3553,null,0),delete this.attachments[t])}},{key:"_attachRenderbuffer",value:function(t){var e=t.attachment,n=void 0===e?36064:e,r=t.renderbuffer;this.gl.framebufferRenderbuffer(36160,n,36161,r.handle),this.attachments[n]=r}},{key:"_attachTexture",value:function(t){var e=t.attachment,n=void 0===e?36064:e,r=t.texture,i=t.layer,a=t.level,o=this.gl;switch(o.bindTexture(r.target,r.handle),r.target){case 35866:case 32879:o.framebufferTextureLayer(36160,n,r.target,a,i);break;case 34067:var u=function(t){return t<34069?t+34069:t}(i);o.framebufferTexture2D(36160,n,u,r.handle,a);break;case 3553:o.framebufferTexture2D(36160,n,3553,r.handle,a);break;default:Object(j.a)(!1,"Illegal texture type")}o.bindTexture(r.target,null),this.attachments[n]=r}},{key:"_setReadBuffer",value:function(t){var e=this.gl;Object(h.f)(e)?e.readBuffer(t):Object(j.a)(36064===t||1029===t,"Multiple render targets not supported"),this.readBuffer=t}},{key:"_setDrawBuffers",value:function(t){var e=this.gl;if(Object(h.f)(e))e.drawBuffers(t);else{var n=e.getExtension("WEBGL.draw_buffers");n?n.drawBuffersWEBGL(t):Object(j.a)(1===t.length&&(36064===t[0]||1029===t[0]),"Multiple render targets not supported")}this.drawBuffers=t}},{key:"_getAttachmentParameterFallback",value:function(t){var e=Object(y.a)(this.gl);switch(t){case 36052:return e.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return e.WEBGL2?null:8;case 33297:return e.WEBGL2?null:5125;case 33296:return e.WEBGL2||e.EXT_sRGB?null:9729;default:return null}}},{key:"_createHandle",value:function(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteFramebuffer(this.handle)}},{key:"_bindHandle",value:function(t){return this.gl.bindFramebuffer(36160,t)}},{key:"color",get:function(){return this.attachments[36064]||null}},{key:"texture",get:function(){return this.attachments[36064]||null}},{key:"depth",get:function(){return this.attachments[36096]||this.attachments[33306]||null}},{key:"stencil",get:function(){return this.attachments[36128]||this.attachments[33306]||null}}]),e}(d.a);function k(t){return(_.STATUS||{})[t]||"Framebuffer error ".concat(t)}_.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},"15yl":function(t,e,n){"use strict";(function(t){n("sc67"),n("R48M");var r=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){if("undefined"!=typeof window&&"object"===(0,i.default)(window.process)&&"renderer"===window.process.type)return!0;if(void 0!==t&&"object"===(0,i.default)(t.versions)&&Boolean(t.versions.electron))return!0;var n="object"===("undefined"==typeof navigator?"undefined":(0,i.default)(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent,r=e||n;if(r&&r.indexOf("Electron")>=0)return!0;return!1};var i=r(n("cDf5"))}).call(this,n("8oxB"))},"284h":function(t,e,n){var r=n("cDf5");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}t.exports=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=a?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}},"41X0":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n("YBKJ"),n("9ZhD"),n("pJf4"),n("5irr"),n("MIFh");var r=n("1OyB"),i=n("vuIU"),a=n("md7G"),o=n("foSv"),u=n("Ji7U"),s=n("kHIg"),c=n("a3TU"),f=function(t){function e(){return Object(r.a)(this,e),Object(a.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(i.a)(e,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"from",value:function(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=t[n+e];return this.check()}},{key:"to",value:function(t){return t===this?this:Object(c.e)(t)?this.toArray(t):this.toObject(t)}},{key:"toTarget",value:function(t){return t?this.to(t):this}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)t[e+n]=this[n];return t}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(c.b)}},{key:"formatString",value:function(t){for(var e="",n=0;n<this.ELEMENTS;++n)e+=(n>0?", ":"")+Object(c.d)(this[n],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}},{key:"equals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(!Object(c.c)(this[e],t[e]))return!1;return!0}},{key:"exactEquals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}},{key:"negate",value:function(){for(var t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}},{key:"lerp",value:function(t,e,n){void 0===n&&(n=e,e=t,t=this);for(var r=0;r<this.ELEMENTS;++r){var i=t[r];this[r]=i+n*(e[r]-i)}return this.check()}},{key:"min",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}},{key:"max",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}},{key:"clamp",value:function(t,e){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],t[n]),e[n]);return this.check()}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]+=a[o];return this.check()}},{key:"subtract",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]-=a[o];return this.check()}},{key:"scale",value:function(t){if(Array.isArray(t))return this.multiply(t);for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"sub",value:function(t){return this.subtract(t)}},{key:"setScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}},{key:"addScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}},{key:"subScalar",value:function(t){return this.addScalar(-t)}},{key:"multiplyScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"divideScalar",value:function(t){return this.scale(1/t)}},{key:"clampScalar",value:function(t,e){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],t),e);return this.check()}},{key:"multiplyByScalar",value:function(t){return this.scale(t)}},{key:"check",value:function(){if(c.b.debug&&!this.validate(this))throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var t=this.length===this.ELEMENTS,e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}},{key:"elements",get:function(){return this}}]),e}(Object(s.a)(Array))},"6nXr":function(t,e,n){n("Sc3u")("Int32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"88iX":function(t,e,n){n("Sc3u")("Int8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"9Q0L":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return b}));n("ofTv"),n("E5k/"),n("R48M"),n("n7j8");var r=n("1OyB"),i=n("vuIU"),a=n("rp2x"),o=n("gXd2"),u=n("g6k1");function s(t,e){var n=t[e].bind(t);t[e]=function(){var e=arguments.length<=0?void 0:arguments[0];return e in t.state.cache||(t.state.cache[e]=n.apply(void 0,arguments)),t.state.enable?t.state.cache[e]:n.apply(void 0,arguments)},Object.defineProperty(t[e],"name",{value:"".concat(e,"-from-cache"),configurable:!1})}function c(t,e,n){var r=t[e].bind(t);t[e]=function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var o=n.apply(void 0,[t.state._updateCache].concat(i)),u=o.valueChanged,s=o.oldValue;return u&&r.apply(void 0,i),s},Object.defineProperty(t[e],"name",{value:"".concat(e,"-to-cache"),configurable:!1})}function f(t){var e=t.useProgram.bind(t);t.useProgram=function(n){t.state.program!==n&&(e(n),t.state.program=n)}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.copyState,u=void 0!==i&&i,s=n.log,c=void 0===s?function(){}:s;Object(r.a)(this,t),this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=u?Object(o.a)(e):Object.assign({},a.c),this.log=c,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return Object(i.a)(t,[{key:"push",value:function(){this.stateStack.push({})}},{key:"pop",value:function(){Object(u.a)(this.stateStack.length>0);var t=this.stateStack[this.stateStack.length-1];Object(o.c)(this.gl,t,this.cache),this.stateStack.pop()}},{key:"_updateCache",value:function(t){var e,n=!1,r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var i in t){Object(u.a)(void 0!==i);var a=t[i],o=this.cache[i];Object(u.d)(a,o)||(n=!0,e=o,r&&!(i in r)&&(r[i]=o),this.cache[i]=a)}return{valueChanged:n,oldValue:e}}}]),t}();function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enable,i=void 0===r||r,o=n.copyState;if(Object(u.a)(void 0!==o),!e.state){var h=void 0!==t?t:window;for(var d in h.polyfillContext&&h.polyfillContext(e),e.state=new l(e,{copyState:o,enable:i}),f(e),a.b){var b=a.b[d];c(e,d,b)}s(e,"getParameter"),s(e,"isEnabled")}return e.state.enable=i,e}function d(t){t.state||h(t,{copyState:!1}),t.state.push()}function b(t){Object(u.a)(t.state),t.state.pop()}}).call(this,n("yLpj"))},AItV:function(t,e,n){n("Sc3u")("Int16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"B9+J":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return o}));n("Kb1d"),n("6nXr"),n("AItV"),n("88iX"),n("HOSt"),n("CtJk"),n("SIeT"),n("h3Sa"),n("5irr");function r(t){switch(ArrayBuffer.isView(t)?t.constructor:t){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error("Failed to deduce GL constant from typed array")}}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.clamped,r=void 0===n||n;switch(t){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return r?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function a(t){var e=t.data,n=t.width,r=t.height,i=t.bytesPerPixel,a=void 0===i?4:i,o=t.temp,u=n*a;o=o||new Uint8Array(u);for(var s=0;s<r/2;++s){var c=s*u,f=(r-s-1)*u;o.set(e.subarray(c,c+u)),e.copyWithin(c,f,f+u),e.set(o,f)}}function o(t){for(var e=t.data,n=t.width,r=t.height,i=Math.round(n/2),a=Math.round(r/2),o=new Uint8Array(i*a*4),u=0;u<a;u++)for(var s=0;s<i;s++)for(var c=0;c<4;c++)o[4*(u*i+s)+c]=e[4*(2*u*n+2*s)+c];return{data:o,width:i,height:a}}},CczQ:function(t,e,n){var r=n("P8UN"),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,a=0,o=0,u=arguments.length,s=0;o<u;)s<(n=i(arguments[o++]))?(a=a*(r=s/n)*r+1,s=n):a+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Math.sqrt(a)}})},CxzY:function(t,e,n){"use strict";function r(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}n.d(e,"a",(function(){return r}))},GA6j:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));n("MIFh"),n("DrhF");var r=n("1OyB"),i=n("md7G"),a=n("foSv"),o=n("vuIU"),u=n("Ji7U"),s=n("fxzv"),c=n("+H0l"),f=n("sSh/"),l=n("HwUG"),h=n("ZxFD"),d=n("n+fv"),b=Object.freeze([1,0,0,0,1,0,0,0,1]),v=Object.freeze([0,0,0,0,0,0,0,0,0]),g=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),m={},y=function(t){function e(t){var n;return Object(r.a)(this,e),n=Object(i.a)(this,Object(a.a)(e).call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0)),1===arguments.length&&Array.isArray(t)?n.copy(t):n.identity(),n}return Object(u.a)(e,t),Object(o.a)(e,[{key:"ELEMENTS",get:function(){return 9}},{key:"RANK",get:function(){return 3}},{key:"INDICES",get:function(){return g}}],[{key:"IDENTITY",get:function(){return m.IDENTITY=m.IDENTITY||Object.freeze(new e(b)),m.IDENTITY}},{key:"ZERO",get:function(){return m.ZERO=m.ZERO||Object.freeze(new e(v)),m.ZERO}}]),Object(o.a)(e,[{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}},{key:"set",value:function(t,e,n,r,i,a,o,u,s){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this[4]=i,this[5]=a,this[6]=o,this[7]=u,this[8]=s,this.check()}},{key:"setRowMajor",value:function(t,e,n,r,i,a,o,u,s){return this[0]=t,this[1]=r,this[2]=o,this[3]=e,this[4]=i,this[5]=u,this[6]=n,this[7]=a,this[8]=s,this.check()}},{key:"determinant",value:function(){return l.b(this)}},{key:"identity",value:function(){return this.copy(b)}},{key:"fromQuaternion",value:function(t){return l.c(this,t),this.check()}},{key:"transpose",value:function(){return l.i(this,this),this.check()}},{key:"invert",value:function(){return l.d(this,this),this.check()}},{key:"multiplyLeft",value:function(t){return l.e(this,t,this),this.check()}},{key:"multiplyRight",value:function(t){return l.e(this,this,t),this.check()}},{key:"rotate",value:function(t){return l.f(this,this,t),this.check()}},{key:"scale",value:function(t){return Array.isArray(t)?l.g(this,this,t):l.g(this,this,[t,t,t]),this.check()}},{key:"translate",value:function(t){return l.h(this,this,t),this.check()}},{key:"transform",value:function(t,e){switch(t.length){case 2:e=h.i(e||[-0,-0],t,this);break;case 3:e=d.n(e||[-0,-0,-0],t,this);break;case 4:e=Object(f.d)(e||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(e,t.length),e}},{key:"transformVector",value:function(t,e){return Object(c.c)("Matrix3.transformVector"),this.transform(t,e)}},{key:"transformVector2",value:function(t,e){return Object(c.c)("Matrix3.transformVector"),this.transform(t,e)}},{key:"transformVector3",value:function(t,e){return Object(c.c)("Matrix3.transformVector"),this.transform(t,e)}}]),e}(s.a)},H50b:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));n("JHok"),n("n7j8"),n("MIFh"),n("AqHK"),n("6kNP"),n("rzGZ"),n("Dq+y"),n("8npG"),n("YbXK"),n("ofTv"),n("E5k/");var r=n("o0o1"),i=n.n(r),a=n("HaE+"),o=n("1OyB"),u=n("vuIU"),s=n("md7G"),c=n("foSv"),f=n("JX7q"),l=n("Ji7U"),h=n("iein"),d=n("l6PP"),b=n("SUVH"),v=[34069,34070,34071,34072,34073,34074],g=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(this,e),Object(b.b)(t),(n=Object(s.a)(this,Object(c.a)(e).call(this,t,Object.assign({},r,{target:34067})))).initialize(r),Object.seal(Object(f.a)(n)),n}var n;return Object(l.a)(e,t),Object(u.a)(e,[{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.mipmaps,r=void 0===n||n,i=e.parameters,a=void 0===i?{}:i;this.opts=e,this.setCubeMapImageData(e).then((function(){t.loaded=!0,r&&t.generateMipmap(e),t.setParameters(a)}))}},{key:"subImage",value:function(t){var e=t.face,n=t.data,r=t.x,i=void 0===r?0:r,a=t.y,o=void 0===a?0:a,u=t.mipmapLevel,s=void 0===u?0:u;return this._subImage({target:e,data:n,x:i,y:o,mipmapLevel:s})}},{key:"setCubeMapImageData",value:(n=Object(a.a)(i.a.mark((function t(e){var n,r,a,o,u,s,c,f,l,d,b,g,m,y=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.width,r=e.height,a=e.pixels,o=e.data,u=e.border,s=void 0===u?0:u,c=e.format,f=void 0===c?6408:c,l=e.type,d=void 0===l?5121:l,b=this.gl,g=a||o,t.next=5,Promise.all(v.map((function(t){var e=g[t];return Promise.all(Array.isArray(e)?e:[e])})));case 5:m=t.sent,this.bind(),v.forEach((function(t,e){m[e].length>1&&!1!==y.opts.mipmaps&&h.g.warn("".concat(y.id," has mipmap and multiple LODs."))(),m[e].forEach((function(e,i){n&&r?b.texImage2D(t,i,f,n,r,s,f,d,e):b.texImage2D(t,i,f,f,d,e)}))})),this.unbind();case 9:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"setImageDataForFace",value:function(t){var e=this,n=t.face,r=t.width,i=t.height,a=t.pixels,o=t.data,u=t.border,s=void 0===u?0:u,c=t.format,f=void 0===c?6408:c,l=t.type,h=void 0===l?5121:l,d=this.gl,b=a||o;return this.bind(),b instanceof Promise?b.then((function(r){return e.setImageDataForFace(Object.assign({},t,{face:n,data:r,pixels:r}))})):this.width||this.height?d.texImage2D(n,0,f,r,i,s,f,h,b):d.texImage2D(n,0,f,f,h,b),this}}]),e}(d.a);g.FACES=v},HOSt:function(t,e,n){n("Sc3u")("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},Hogv:function(t,e,n){"use strict";(function(t){n("n7j8"),n("Dq+y"),n("8npG"),n("Ggvi"),n("JHok"),n("m210"),n("4DPX"),n("rzGZ");var e=n("JrVf"),r=n("g6k1"),i=n("P5C6");function a(t,e){var n=e.extension,a=e.target,o=e.target2,u=i.b[n];Object(r.a)(u);for(var s=u.meta,c=(void 0===s?{}:s).suffix,f=void 0===c?"":c,l=t.getExtension(n),h=function(){var e=b[d],n="".concat(e).concat(f),r=null;"meta"===e||"function"==typeof t[e]||(l&&"function"==typeof l[n]?r=function(){return l[n].apply(l,arguments)}:"function"==typeof u[e]&&(r=u[e].bind(a))),r&&(a[e]=r,o[e]=r)},d=0,b=Object.keys(u);d<b.length;d++)h()}(void 0!==t?t:window).polyfillContext=function(t){return t.luma=t.luma||{},t.luma.polyfilled||(Object(e.a)(t),function(t){t.luma.extensions={};var e=t.getSupportedExtensions()||[],n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;t.luma[u]=t.getExtension(u)}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}(t),function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,u=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var s=o.value;"overrides"!==s&&a(t,{extension:s,target:t.luma,target2:t})}}catch(c){r=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}}(t,i.b),function(t,e){var n=e.target,r=e.target2;Object.keys(i.a).forEach((function(e){if("function"==typeof i.a[e]){var a=t[e]?t[e].bind(t):function(){},o=i.a[e].bind(null,t,a);n[e]=o,r[e]=o}}))}(t,{target:t.luma,target2:t}),t.luma.polyfilled=!0),t}}).call(this,n("yLpj"))},HwUG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"i",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return s})),n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return l})),n.d(e,"c",(function(){return h}));n("CczQ"),n("5irr");var r=n("yU0y");function i(){var t=new r.a(9);return r.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function a(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function o(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=f*o-u*c,h=-f*a+u*s,d=c*a-o*s,b=n*l+r*h+i*d;return b?(b=1/b,t[0]=l*b,t[1]=(-f*r+i*c)*b,t[2]=(u*r-i*o)*b,t[3]=h*b,t[4]=(f*n-i*s)*b,t[5]=(-u*n+i*a)*b,t[6]=d*b,t[7]=(-c*n+r*s)*b,t[8]=(o*n-r*a)*b,t):null}function u(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],c=t[8];return e*(c*a-o*s)+n*(-c*i+o*u)+r*(s*i-a*u)}function s(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1],b=n[2],v=n[3],g=n[4],m=n[5],y=n[6],O=n[7],p=n[8];return t[0]=h*r+d*o+b*c,t[1]=h*i+d*u+b*f,t[2]=h*a+d*s+b*l,t[3]=v*r+g*o+m*c,t[4]=v*i+g*u+m*f,t[5]=v*a+g*s+m*l,t[6]=y*r+O*o+p*c,t[7]=y*i+O*u+p*f,t[8]=y*a+O*s+p*l,t}function c(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=h*r+d*o+c,t[7]=h*i+d*u+f,t[8]=h*a+d*s+l,t}function f(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*o,t[1]=d*i+h*u,t[2]=d*a+h*s,t[3]=d*o-h*r,t[4]=d*u-h*i,t[5]=d*s-h*a,t[6]=c,t[7]=f,t[8]=l,t}function l(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function h(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,u=r+r,s=i+i,c=n*o,f=r*o,l=r*u,h=i*o,d=i*u,b=i*s,v=a*o,g=a*u,m=a*s;return t[0]=1-l-b,t[3]=f-m,t[6]=h+g,t[1]=f+m,t[4]=1-c-b,t[7]=d-v,t[2]=h-g,t[5]=d+v,t[8]=1-c-l,t}},"IVX/":function(t,e,n){"use strict";n("sc67"),n("R48M");var r=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.isMobile=function(){return void 0!==i.window.orientation},e.default=function(t){if(!t&&!(0,a.default)())return"Node";if((0,o.default)(t))return"Electron";var e="undefined"!=typeof navigator?navigator:{},n=t||e.userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";var r=-1!==n.indexOf("MSIE "),u=-1!==n.indexOf("Trident/");if(r||u)return"IE";if(i.window.chrome)return"Chrome";if(i.window.safari)return"Safari";if(i.window.mozInnerScreenX)return"Firefox";return"Unknown"};var i=n("jWbo"),a=r(n("uXCu")),o=r(n("15yl"))},JrVf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("sc67");var r=n("xSaR"),i={};function a(t,e){var n;i[t]=!0,void 0!==e&&(n=e,r.global.console&&r.global.console.error&&r.global.console.error(n))}var o=function t(e){var n=e.gl;this.ext=e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(e.maxVertexAttribs);for(var r=0;r<this.attribs.length;r++){var i=new t.VertexAttrib(n);this.attribs[r]=i}this.maxAttrib=0};(o.VertexAttrib=function(t){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};var u=function(t){var e=this;this.gl=t,function(t){var e=t.getError;t.getError=function(){var n;do{0!==(n=e.apply(t))&&(i[n]=!0)}while(0!==n);for(n in i)if(i[n])return delete i[n],parseInt(n,10);return 0}}(t);var n=this.original={getParameter:t.getParameter,enableVertexAttribArray:t.enableVertexAttribArray,disableVertexAttribArray:t.disableVertexAttribArray,bindBuffer:t.bindBuffer,getVertexAttrib:t.getVertexAttrib,vertexAttribPointer:t.vertexAttribPointer};t.getParameter=function(t){return t===e.VERTEX_ARRAY_BINDING_OES?e.currentVertexArrayObject===e.defaultVertexArrayObject?null:e.currentVertexArrayObject:n.getParameter.apply(this,arguments)},t.enableVertexAttribArray=function(t){var r=e.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,t);var i=r.attribs[t];return i.enabled=!0,n.enableVertexAttribArray.apply(this,arguments)},t.disableVertexAttribArray=function(t){var r=e.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,t);var i=r.attribs[t];return i.enabled=!1,n.disableVertexAttribArray.apply(this,arguments)},t.bindBuffer=function(t,r){switch(t){case 34962:e.currentArrayBuffer=r;break;case 34963:e.currentVertexArrayObject.elementArrayBuffer=r}return n.bindBuffer.apply(this,arguments)},t.getVertexAttrib=function(t,r){var i=e.currentVertexArrayObject,a=i.attribs[t];switch(r){case 34975:return a.buffer;case 34338:return a.enabled;case 34339:return a.size;case 34340:return a.stride;case 34341:return a.type;case 34922:return a.normalized;default:return n.getVertexAttrib.apply(this,arguments)}},t.vertexAttribPointer=function(t,r,i,a,o,u){var s=e.currentVertexArrayObject;s.maxAttrib=Math.max(s.maxAttrib,t);var c=s.attribs[t];return c.buffer=e.currentArrayBuffer,c.size=r,c.type=i,c.normalized=a,c.stride=o,c.offset=u,c.recache(),n.vertexAttribPointer.apply(this,arguments)},t.instrumentExtension&&t.instrumentExtension(this,"OES_vertex_array_object"),t.canvas&&t.canvas.addEventListener("webglcontextrestored",(function(){var t;t="OESVertexArrayObject emulation library context restored",r.global.console&&r.global.console.log&&r.global.console.log(t),e.reset_()}),!0),this.reset_()};function s(t){if("function"!=typeof t.createVertexArray){var e=t.getSupportedExtensions;t.getSupportedExtensions=function(){var t=e.call(this)||[];return t.indexOf("OES_vertex_array_object")<0&&t.push("OES_vertex_array_object"),t};var n=t.getExtension;t.getExtension=function(e){var r=n.call(this,e);return r||("OES_vertex_array_object"!==e?null:(t.__OESVertexArrayObject||(this.__OESVertexArrayObject=new u(this)),this.__OESVertexArrayObject))}}}u.prototype.VERTEX_ARRAY_BINDING_OES=34229,u.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(var t=0;t<this.vertexArrayObjects.length;++t)this.vertexArrayObjects.isAlive=!1;var e=this.gl;this.maxVertexAttribs=e.getParameter(34921),this.defaultVertexArrayObject=new o(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},u.prototype.createVertexArrayOES=function(){var t=new o(this);return this.vertexArrayObjects.push(t),t},u.prototype.deleteVertexArrayOES=function(t){t.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(t),1),this.currentVertexArrayObject===t&&this.bindVertexArrayOES(null)},u.prototype.isVertexArrayOES=function(t){return!!(t&&t instanceof o&&t.hasBeenBound&&t.ext===this)},u.prototype.bindVertexArrayOES=function(t){var e=this.gl;if(!t||t.isAlive){var n=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=t||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;var i=this.currentVertexArrayObject;if(r!==i){r&&i.elementArrayBuffer===r.elementArrayBuffer||n.bindBuffer.call(e,34963,i.elementArrayBuffer);for(var o=this.currentArrayBuffer,u=Math.max(r?r.maxAttrib:0,i.maxAttrib),s=0;s<=u;s++){var c=i.attribs[s],f=r?r.attribs[s]:null;if(r&&c.enabled===f.enabled||(c.enabled?n.enableVertexAttribArray.call(e,s):n.disableVertexAttribArray.call(e,s)),c.enabled){var l=!1;r&&c.buffer===f.buffer||(o!==c.buffer&&(n.bindBuffer.call(e,34962,c.buffer),o=c.buffer),l=!0),(l||c.cached!==f.cached)&&n.vertexAttribPointer.call(e,s,c.size,c.type,c.normalized,c.stride,c.offset)}}this.currentArrayBuffer!==o&&n.bindBuffer.call(e,34962,this.currentArrayBuffer)}}else a(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject")}},Kb1d:function(t,e,n){var r=n("P8UN");r(r.P,"Array",{copyWithin:n("cRJv")}),n("Dq1/")("copyWithin")},L8KH:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n("m210"),n("4DPX"),n("rzGZ"),n("Dq+y"),n("Ggvi"),n("8npG"),n("n7j8"),n("OeI1"),n("JHok"),n("pJf4");var r=n("1OyB"),i=n("vuIU"),a=n("iein"),o=n("rta6"),u=n("SUVH"),s=n("rnmN"),c=n("VdrS"),f=n("CxzY"),l=n("sgaE"),h="Resource subclass must define virtual methods",d=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r.a)(this,t),Object(u.b)(e);var i=n.id,a=n.userData,o=void 0===a?{}:a;this.gl=e,this.id=i||Object(c.c)(this.constructor.name),this.userData=o,this._bound=!1,this._handle=n.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}return Object(i.a)(t,[{key:"toString",value:function(){return"".concat(this.constructor.name,"(").concat(this.id,")")}},{key:"delete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.deleteChildren,n=void 0!==e&&e,r=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,r&&n&&r.filter(Boolean).forEach((function(t){t.delete()})),this}},{key:"bind",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof e?(this._bindHandle(e),this):(this._bound?t=e():(this._bindHandle(this.handle),this._bound=!0,t=e(),this._bound=!1,this._bindHandle(null)),t)}},{key:"unbind",value:function(){this.bind(null)}},{key:"getParameter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object(s.b)(this.gl,t),Object(f.a)(t);var n=this.constructor.PARAMETERS||{},r=n[t];if(r){var i=Object(a.f)(this.gl),o=(!("webgl2"in r)||i)&&(!("extension"in r)||this.gl.getExtension(r.extension));if(!o){var u=r.webgl1,c="webgl2"in r?r.webgl2:r.webgl1,l=i?c:u;return l}}return this._getParameter(t,e)}},{key:"getParameters",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={},n=e.parameters,r=e.keys,i=this.constructor.PARAMETERS||{},o=Object(a.f)(this.gl),u={},c=n||Object.keys(i),f=!0,l=!1,h=void 0;try{for(var d,b=c[Symbol.iterator]();!(f=(d=b.next()).done);f=!0){var v=d.value,g=i[v],m=g&&(!("webgl2"in g)||o)&&(!("extension"in g)||this.gl.getExtension(g.extension));if(m){var y=r?Object(s.a)(this.gl,v):v;u[y]=this.getParameter(v,t),r&&"GLenum"===g.type&&(u[y]=Object(s.a)(this.gl,u[y]))}}}catch(O){l=!0,h=O}finally{try{f||null==b.return||b.return()}finally{if(l)throw h}}return u}},{key:"setParameter",value:function(t,e){t=Object(s.b)(this.gl,t),Object(f.a)(t);var n=(this.constructor.PARAMETERS||{})[t];if(n){var r=Object(a.f)(this.gl);if(!((!("webgl2"in n)||r)&&(!("extension"in n)||this.gl.getExtension(n.extension))))throw new Error("Parameter not available on this platform");"GLenum"===n.type&&(e=Object(s.b)(e))}return this._setParameter(t,e),this}},{key:"setParameters",value:function(t){for(var e in t)this.setParameter(e,t[e]);return this}},{key:"stubRemovedMethods",value:function(t,e,n){return Object(l.a)(this,t,e,n)}},{key:"initialize",value:function(t){}},{key:"_createHandle",value:function(){throw new Error(h)}},{key:"_deleteHandle",value:function(){throw new Error(h)}},{key:"_bindHandle",value:function(){throw new Error(h)}},{key:"_getOptsFromHandle",value:function(){throw new Error(h)}},{key:"_getParameter",value:function(t,e){throw new Error(h)}},{key:"_setParameter",value:function(t,e){throw new Error(h)}},{key:"_context",value:function(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_addStats",value:function(){var t=this.constructor.name,e=o.a.get("Resource Counts");e.get("Resources Created").incrementCount(),e.get("".concat(t,"s Created")).incrementCount(),e.get("".concat(t,"s Active")).incrementCount()}},{key:"_removeStats",value:function(){var t=this.constructor.name;o.a.get("Resource Counts").get("".concat(t,"s Active")).decrementCount()}},{key:"_trackAllocatedMemory",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.name,n=o.a.get("Memory Usage");n.get("GPU Memory").addCount(t),n.get("".concat(e," Memory")).addCount(t),this.byteLength=t}},{key:"_trackDeallocatedMemory",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.constructor.name,e=o.a.get("Memory Usage");e.get("GPU Memory").subtractCount(this.byteLength),e.get("".concat(t," Memory")).subtractCount(this.byteLength),this.byteLength=0}},{key:"handle",get:function(){return this._handle}}]),t}()},LE90:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("E5k/");var r=n("iein");function i(t,e,n){var i=n.removedProps,a=void 0===i?{}:i,o=n.deprecatedProps,u=void 0===o?{}:o,s=n.replacedProps,c=void 0===s?{}:s;for(var f in a)if(f in e){var l=a[f]?"".concat(t,".").concat(a[f]):"N/A";r.g.removed("".concat(t,".").concat(f),l)()}for(var h in u)if(h in e){var d=u[h];r.g.deprecated("".concat(t,".").concat(h),"".concat(t,".").concat(d))()}var b=null;for(var v in c)if(v in e){var g=c[v];r.g.deprecated("".concat(t,".").concat(v),"".concat(t,".").concat(g))(),(b=b||Object.assign({},e))[g]=e[v],delete b[v]}return b||e}},MdWm:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return j}));n("E5k/");var r=n("rePB"),i=n("f5Sf"),a=n("H50b"),o=(n("ofTv"),n("1OyB")),u=n("md7G"),s=n("foSv"),c=n("JX7q"),f=n("vuIU"),l=n("Ji7U"),h=n("iein"),d=n("SUVH"),b=n("l6PP"),v=n("uYBD"),g=n("sc/6"),m=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(this,e),Object(d.a)(t),r=Object.assign({depth:1},r,{target:32879,unpackFlipY:!1}),(n=Object(u.a)(this,Object(s.a)(e).call(this,t,r))).initialize(r),Object.seal(Object(c.a)(n)),n}return Object(l.a)(e,t),Object(f.a)(e,null,[{key:"isSupported",value:function(t){return Object(h.f)(t)}}]),Object(f.a)(e,[{key:"setImageData",value:function(t){var e=this,n=t.level,r=void 0===n?0:n,i=t.dataFormat,a=void 0===i?6408:i,o=t.width,u=t.height,s=t.depth,c=void 0===s?1:s,f=t.border,l=void 0===f?0:f,d=t.format,b=t.type,m=void 0===b?5121:b,y=t.offset,O=void 0===y?0:y,p=t.data,j=t.parameters,_=void 0===j?{}:j;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Object(h.k)(this.gl,_,(function(){ArrayBuffer.isView(p)&&e.gl.texImage3D(e.target,r,a,o,u,c,l,d,m,p),p instanceof g.a&&(e.gl.bindBuffer(35052,p.handle),e.gl.texImage3D(e.target,r,a,o,u,c,l,d,m,O))})),p&&p.byteLength)this._trackAllocatedMemory(p.byteLength,"Texture");else{var k=v.a[this.dataFormat]||4,E=v.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*k*E,"Texture")}return this.loaded=!0,this}}]),e}(b.a),y=n("11Ib"),O=n("CxzY");function p(t,e){Object(O.a)(t instanceof i.a||t instanceof a.a||t instanceof m);var n=t.constructor,r=t.gl,o=t.width,u=t.height,s=t.format,c=t.type,f=t.dataFormat,l=t.border,h=t.mipmaps;return new n(r,Object.assign({width:o,height:u,format:s,type:c,dataFormat:f,border:l,mipmaps:h},e))}function j(t,e){var n=t.gl,i=t.width,a=t.height,o=t.id;return new y.a(n,Object.assign({},e,{id:"framebuffer-for-".concat(o),width:i,height:a,attachments:Object(r.a)({},36064,t)}))}},Nw31:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));n("MIFh"),n("DrhF");var r=n("ODXe"),i=n("1OyB"),a=n("md7G"),o=n("foSv"),u=n("vuIU"),s=n("Ji7U"),c=n("+H0l"),f=n("fxzv"),l=n("sSh/"),h=n("ZaHm"),d=n("ZxFD"),b=n("n+fv"),v=n("bl9R"),g=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),m=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),y=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),O={},p=function(t){function e(t){var n;return Object(i.a)(this,e),n=Object(a.a)(this,Object(o.a)(e).call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0)),1===arguments.length&&Array.isArray(t)?n.copy(t):n.identity(),n}return Object(s.a)(e,t),Object(u.a)(e,[{key:"INDICES",get:function(){return y}},{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}}],[{key:"IDENTITY",get:function(){return O.IDENTITY=O.IDENTITY||Object.freeze(new e(g)),O.IDENTITY}},{key:"ZERO",get:function(){return O.ZERO=O.ZERO||Object.freeze(new e(m)),O.ZERO}}]),Object(u.a)(e,[{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}},{key:"set",value:function(t,e,n,r,i,a,o,u,s,c,f,l,h,d,b,v){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this[4]=i,this[5]=a,this[6]=o,this[7]=u,this[8]=s,this[9]=c,this[10]=f,this[11]=l,this[12]=h,this[13]=d,this[14]=b,this[15]=v,this.check()}},{key:"setRowMajor",value:function(t,e,n,r,i,a,o,u,s,c,f,l,h,d,b,v){return this[0]=t,this[1]=i,this[2]=s,this[3]=h,this[4]=e,this[5]=a,this[6]=c,this[7]=d,this[8]=n,this[9]=o,this[10]=f,this[11]=b,this[12]=r,this[13]=u,this[14]=l,this[15]=v,this.check()}},{key:"toRowMajor",value:function(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}},{key:"identity",value:function(){return this.copy(g)}},{key:"fromQuaternion",value:function(t){return h.c(this,t),this.check()}},{key:"frustum",value:function(t){var n=t.left,r=t.right,i=t.bottom,a=t.top,o=t.near,u=t.far;return u===1/0?e._computeInfinitePerspectiveOffCenter(this,n,r,i,a,o):h.d(this,n,r,i,a,o,u),this.check()}},{key:"lookAt",value:function(t,e,n){if(1===arguments.length){var r=t;t=r.eye,e=r.center,n=r.up}return e=e||[0,0,0],n=n||[0,1,0],h.g(this,t,e,n),this.check()}},{key:"ortho",value:function(t){var e=t.left,n=t.right,r=t.bottom,i=t.top,a=t.near,o=void 0===a?.1:a,u=t.far,s=void 0===u?500:u;return h.i(this,e,n,r,i,o,s),this.check()}},{key:"orthographic",value:function(t){var n=t.fovy,r=void 0===n?45*Math.PI/180:n,i=t.aspect,a=void 0===i?1:i,o=t.focalDistance,u=void 0===o?1:o,s=t.near,c=void 0===s?.1:s,f=t.far,l=void 0===f?500:f;if(r>2*Math.PI)throw Error("radians");var h=r/2,d=u*Math.tan(h),b=d*a;return(new e).ortho({left:-b,right:b,bottom:-d,top:d,near:c,far:l})}},{key:"perspective",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fovy,n=t.fov,r=void 0===n?45*Math.PI/180:n,i=t.aspect,a=void 0===i?1:i,o=t.near,u=void 0===o?.1:o,s=t.far,c=void 0===s?500:s;if((e=e||r)>2*Math.PI)throw Error("radians");return h.j(this,e,a,u,c),this.check()}},{key:"determinant",value:function(){return h.a(this)}},{key:"getScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}},{key:"getTranslation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}},{key:"getRotation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScale(e||[-0,-0,-0]),r=1/n[0],i=1/n[1],a=1/n[2];return t[0]=this[0]*r,t[1]=this[1]*i,t[2]=this[2]*a,t[3]=0,t[4]=this[4]*r,t[5]=this[5]*i,t[6]=this[6]*a,t[7]=0,t[8]=this[8]*r,t[9]=this[9]*i,t[10]=this[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{key:"getRotationMatrix3",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScale(e||[-0,-0,-0]),r=1/n[0],i=1/n[1],a=1/n[2];return t[0]=this[0]*r,t[1]=this[1]*i,t[2]=this[2]*a,t[3]=this[4]*r,t[4]=this[5]*i,t[5]=this[6]*a,t[6]=this[8]*r,t[7]=this[9]*i,t[8]=this[10]*a,t}},{key:"transpose",value:function(){return h.q(this,this),this.check()}},{key:"invert",value:function(){return h.f(this,this),this.check()}},{key:"multiplyLeft",value:function(t){return h.h(this,t,this),this.check()}},{key:"multiplyRight",value:function(t){return h.h(this,this,t),this.check()}},{key:"rotateX",value:function(t){return h.l(this,this,t),this.check()}},{key:"rotateY",value:function(t){return h.m(this,this,t),this.check()}},{key:"rotateZ",value:function(t){return h.n(this,this,t),this.check()}},{key:"rotateXYZ",value:function(t){var e=Object(r.a)(t,3),n=e[0],i=e[1],a=e[2];return this.rotateX(n).rotateY(i).rotateZ(a)}},{key:"rotateAxis",value:function(t,e){return h.k(this,this,t,e),this.check()}},{key:"scale",value:function(t){return Array.isArray(t)?h.o(this,this,t):h.o(this,this,[t,t,t]),this.check()}},{key:"translate",value:function(t){return h.p(this,this,t),this.check()}},{key:"transform",value:function(t,e){return 4===t.length?(e=v.n(e||[-0,-0,-0,-0],t,this),Object(c.b)(e,4),e):this.transformAsPoint(t,e)}},{key:"transformAsPoint",value:function(t,e){switch(t.length){case 2:e=d.j(e||[-0,-0],t,this);break;case 3:e=b.o(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(e,t.length),e}},{key:"transformAsVector",value:function(t,e){switch(t.length){case 2:e=Object(l.a)(e||[-0,-0],t,this);break;case 3:e=Object(l.c)(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(e,t.length),e}},{key:"makeRotationX",value:function(t){return this.identity().rotateX(t)}},{key:"makeTranslation",value:function(t,e,n){return this.identity().translate([t,e,n])}},{key:"transformPoint",value:function(t,e){return Object(c.c)("Matrix4.transformPoint","3.0"),this.transformAsPoint(t,e)}},{key:"transformVector",value:function(t,e){return Object(c.c)("Matrix4.transformVector","3.0"),this.transformAsPoint(t,e)}},{key:"transformDirection",value:function(t,e){return Object(c.c)("Matrix4.transformDirection","3.0"),this.transformAsVector(t,e)}}],[{key:"_computeInfinitePerspectiveOffCenter",value:function(t,e,n,r,i,a){var o=2*a/(n-e),u=2*a/(i-r),s=(n+e)/(n-e),c=(i+r)/(i-r),f=-2*a;return t[0]=o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=s,t[9]=c,t[10]=-1,t[11]=-1,t[12]=0,t[13]=0,t[14]=f,t[15]=0,t}}]),e}(f.a)},ODXe:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("BsWD");function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},OklE:function(t,e,n){"use strict";n.d(e,"a",(function(){return K}));n("pJf4"),n("sC2a"),n("m210"),n("4DPX"),n("rzGZ"),n("n7j8"),n("E5k/"),n("ofTv");var r,i=n("1OyB"),a=n("vuIU"),o=n("md7G"),u=n("JX7q"),s=n("foSv"),c=n("ReuC"),f=n("Ji7U"),l=n("L8KH"),h=n("l6PP"),d=n("11Ib"),b=(n("MIFh"),n("Ll4R"),n("SIeT"),n("6nXr"),n("5irr"),n("YBKJ"),n("9ZhD"),n("rePB")),v=n("iein"),g=n("n4Ve"),m=n("CxzY"),y=(r={},Object(b.a)(r,5126,I.bind(null,"uniform1fv",E,1,R)),Object(b.a)(r,35664,I.bind(null,"uniform2fv",E,2,R)),Object(b.a)(r,35665,I.bind(null,"uniform3fv",E,3,R)),Object(b.a)(r,35666,I.bind(null,"uniform4fv",E,4,R)),Object(b.a)(r,5124,I.bind(null,"uniform1iv",A,1,R)),Object(b.a)(r,35667,I.bind(null,"uniform2iv",A,2,R)),Object(b.a)(r,35668,I.bind(null,"uniform3iv",A,3,R)),Object(b.a)(r,35669,I.bind(null,"uniform4iv",A,4,R)),Object(b.a)(r,35670,I.bind(null,"uniform1iv",A,1,R)),Object(b.a)(r,35671,I.bind(null,"uniform2iv",A,2,R)),Object(b.a)(r,35672,I.bind(null,"uniform3iv",A,3,R)),Object(b.a)(r,35673,I.bind(null,"uniform4iv",A,4,R)),Object(b.a)(r,35674,I.bind(null,"uniformMatrix2fv",E,4,F)),Object(b.a)(r,35675,I.bind(null,"uniformMatrix3fv",E,9,F)),Object(b.a)(r,35676,I.bind(null,"uniformMatrix4fv",E,16,F)),Object(b.a)(r,35678,P),Object(b.a)(r,35680,P),Object(b.a)(r,5125,I.bind(null,"uniform1uiv",x,1,R)),Object(b.a)(r,36294,I.bind(null,"uniform2uiv",x,2,R)),Object(b.a)(r,36295,I.bind(null,"uniform3uiv",x,3,R)),Object(b.a)(r,36296,I.bind(null,"uniform4uiv",x,4,R)),Object(b.a)(r,35685,I.bind(null,"uniformMatrix2x3fv",E,6,F)),Object(b.a)(r,35686,I.bind(null,"uniformMatrix2x4fv",E,8,F)),Object(b.a)(r,35687,I.bind(null,"uniformMatrix3x2fv",E,6,F)),Object(b.a)(r,35688,I.bind(null,"uniformMatrix3x4fv",E,12,F)),Object(b.a)(r,35689,I.bind(null,"uniformMatrix4x2fv",E,8,F)),Object(b.a)(r,35690,I.bind(null,"uniformMatrix4x3fv",E,12,F)),Object(b.a)(r,35679,P),Object(b.a)(r,35682,P),Object(b.a)(r,36289,P),Object(b.a)(r,36292,P),Object(b.a)(r,36293,P),Object(b.a)(r,36298,P),Object(b.a)(r,36299,P),Object(b.a)(r,36300,P),Object(b.a)(r,36303,P),Object(b.a)(r,36306,P),Object(b.a)(r,36307,P),Object(b.a)(r,36308,P),Object(b.a)(r,36311,P),r),O={},p={},j={},_=[0];function k(t,e,n,r){1===e&&"boolean"==typeof t&&(t=t?1:0),Number.isFinite(t)&&(_[0]=t,t=_);var i=t.length;if(i%e&&v.g.warn("Uniform size should be multiples of ".concat(e),t)(),t instanceof n)return t;var a=r[i];a||(a=new n(i),r[i]=a);for(var o=0;o<i;o++)a[o]=t[o];return a}function E(t,e){return k(t,e,Float32Array,O)}function A(t,e){return k(t,e,Int32Array,p)}function x(t,e){return k(t,e,Uint32Array,j)}function w(t){if("]"!==t[t.length-1])return{name:t,length:1,isArray:!1};var e=t.match(/([^[]*)(\[[0-9]+\])?/);if(!e||e.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(t));return{name:e[1],length:e[2]||1,isArray:Boolean(e[2])}}function T(t,e,n){var r=y[n.type];if(!r)throw new Error("Unknown GLSL uniform type ".concat(n.type));return r().bind(null,t,e)}function M(t,e,n){for(var r in t){var i=t[r];if((!n||Boolean(n[r]))&&!L(i))throw e=e?"".concat(e," "):"",console.error("".concat(e," Bad uniform ").concat(r),i),new Error("".concat(e," Bad uniform ").concat(r))}return!0}function L(t){return Array.isArray(t)||ArrayBuffer.isView(t)?function(t){if(0===t.length)return!1;for(var e=Math.min(t.length,16),n=0;n<e;++n)if(!Number.isFinite(t[n]))return!1;return!0}(t):!!isFinite(t)||(!0===t||!1===t||(t instanceof h.a||(t instanceof g.a||t instanceof d.a&&Boolean(t.texture))))}function S(t,e,n){if(Array.isArray(n)||ArrayBuffer.isView(n))if(t[e])for(var r=t[e],i=0,a=n.length;i<a;++i)r[i]=n[i];else t[e]=n.slice();else t[e]=n}function P(){var t=null;return function(e,n,r){var i=t!==r;return i&&(e.uniform1i(n,r),t=r),i}}function I(t,e,n,r){var i=null,a=null;return function(o,u,s){var c=e(s,n),f=c.length,l=!1;if(null===i)i=new Float32Array(f),a=f,l=!0;else{Object(m.a)(a===f,"Uniform length cannot change.");for(var h=0;h<f;++h)if(c[h]!==i[h]){l=!0;break}}return l&&(r(o,t,u,c),i.set(c)),l}}function R(t,e,n,r){t[e](n,r)}function F(t,e,n,r){t[e](n,!1,r)}n("TAD1");function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed",n=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,r=t.match(n);return r?r[1]:e}n("AqHK"),n("HXzo"),n("HQhv");function B(t,e,n,r){for(var i=t.split(/\r?\n/),a={},o={},u=r||D(e)||"(unnamed)",s="".concat(function(t){switch(t){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(n)," shader ").concat(u),c=0;c<i.length;c++){var f=i[c];if(!(f.length<=1)){var l=f.split(":"),h=l[0],d=parseInt(l[2],10);if(isNaN(d))throw new Error("GLSL compilation error in ".concat(s,": ").concat(t));"WARNING"!==h?a[d]=f:o[d]=f}}var b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",r=t.split(/\r?\n/),i=String(r.length+e-1).length;return r.map((function(t,r){var a=r+e,o=String(a).length;return C(a,i-o)+n+t}))}(e);return{shaderName:s,errors:N(a,b),warnings:N(o,b)}}function N(t,e){for(var n="",r=0;r<e.length;r++){var i=e[r];if((t[r+3]||t[r+2]||t[r+1])&&(n+="".concat(i,"\n"),t[r+1])){var a=t[r+1],o=a.split(":",3),u=o[0],s=parseInt(o[1],10)||0,c=a.substring(o.join(":").length+1).trim();n+=C("^^^ ".concat(u,": ").concat(c,"\n\n"),s)}}return n}function C(t,e){for(var n="",r=0;r<e;++r)n+=" ";return"".concat(n).concat(t)}var U=n("SUVH"),G=n("VdrS"),V=function(t){function e(t,n){var r;Object(i.a)(this,e),Object(U.b)(t),Object(m.a)("string"==typeof n.source,"Shader: GLSL source code must be a JavaScript string");var a=D(n.source,null)||n.id||Object(G.c)("unnamed ".concat(e.getTypeName(n.shaderType)));return(r=Object(o.a)(this,Object(s.a)(e).call(this,t,{id:a}))).shaderType=n.shaderType,r.source=n.source,r.initialize(n),r}return Object(f.a)(e,t),Object(a.a)(e,null,[{key:"getTypeName",value:function(t){switch(t){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return Object(m.a)(!1),"unknown"}}}]),Object(a.a)(e,[{key:"initialize",value:function(t){var e=t.source,n=D(e,null);n&&(this.id=Object(G.c)(n)),this._compile(e)}},{key:"getParameter",value:function(t){return this.gl.getShaderParameter(this.handle,t)}},{key:"toString",value:function(){return"".concat(e.getTypeName(this.shaderType),":").concat(this.id)}},{key:"getName",value:function(){return D(this.source)||"unnamed-shader"}},{key:"getSource",value:function(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function(){var t=this.gl.getExtension("WEBGL.debug_shaders");return t?t.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL.debug_shaders not implemented"}},{key:"_compile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;t.startsWith("#version ")||(t="#version 100\n".concat(t)),this.source=t,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);var e=this.getParameter(35713);if(!e){var n=this.gl.getShaderInfoLog(this.handle),r=B(n,this.source,this.shaderType,this.id),i=r.shaderName,a=r.errors,o=r.warnings;throw v.g.error("GLSL compilation errors in ".concat(i,"\n").concat(a))(),v.g.warn("GLSL compilation warnings in ".concat(i,"\n").concat(o))(),new Error("GLSL compilation errors in ".concat(i))}}},{key:"_deleteHandle",value:function(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function(){return{type:this.getParameter(35663),source:this.getSource()}}}]),e}(l.a),z=function(t){function e(t,n){return Object(i.a)(this,e),"string"==typeof n&&(n={source:n}),Object(o.a)(this,Object(s.a)(e).call(this,t,Object.assign({},n,{shaderType:35633})))}return Object(f.a)(e,t),Object(a.a)(e,[{key:"_createHandle",value:function(){return this.gl.createShader(35633)}}]),e}(V),H=function(t){function e(t,n){return Object(i.a)(this,e),"string"==typeof n&&(n={source:n}),Object(o.a)(this,Object(s.a)(e).call(this,t,Object.assign({},n,{shaderType:35632})))}return Object(f.a)(e,t),Object(a.a)(e,[{key:"_createHandle",value:function(){return this.gl.createShader(35632)}}]),e}(V),X=(n("zGcK"),n("T2Hy")),W=n("oejM"),q=function(){function t(e){Object(i.a)(this,t),this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}return Object(a.a)(t,[{key:"getAttributeInfo",value:function(t){var e=Number(t);return Number.isFinite(e)?this.attributeInfosByLocation[e]:this.attributeInfosByName[t]||null}},{key:"getAttributeLocation",value:function(t){var e=this.getAttributeInfo(t);return e?e.location:-1}},{key:"getAttributeAccessor",value:function(t){var e=this.getAttributeInfo(t);return e?e.accessor:null}},{key:"getVaryingInfo",value:function(t){var e=Number(t);return Number.isFinite(e)?this.varyingInfos[e]:this.varyingInfosByName[t]||null}},{key:"getVaryingIndex",value:function(t){var e=this.getVaryingInfo();return e?e.location:-1}},{key:"getVaryingAccessor",value:function(t){var e=this.getVaryingInfo();return e?e.accessor:null}},{key:"_readAttributesFromProgram",value:function(t){for(var e=t.gl,n=e.getProgramParameter(t.handle,35721),r=0;r<n;r++){var i=e.getActiveAttrib(t.handle,r),a=i.name,o=i.type,u=i.size,s=e.getAttribLocation(t.handle,a);s>=0&&this._addAttribute(s,a,o,u)}this.attributeInfos.sort((function(t,e){return t.location-e.location}))}},{key:"_readVaryingsFromProgram",value:function(t){var e=t.gl;if(Object(v.f)(e)){for(var n=e.getProgramParameter(t.handle,35971),r=0;r<n;r++){var i=e.getTransformFeedbackVarying(t.handle,r),a=i.name,o=i.type,u=i.size;this._addVarying(r,a,o,u)}this.varyingInfos.sort((function(t,e){return t.location-e.location}))}}},{key:"_addAttribute",value:function(t,e,n,r){var i=Object(W.a)(n),a={type:i.type,size:r*i.components};this._inferProperties(t,e,a);var o={location:t,name:e,accessor:new X.a(a)};this.attributeInfos.push(o),this.attributeInfosByLocation[t]=o,this.attributeInfosByName[o.name]=o}},{key:"_inferProperties",value:function(t,e,n){/instance/i.test(e)&&(n.divisor=1)}},{key:"_addVarying",value:function(t,e,n,r){var i=Object(W.a)(n),a=i.type,o=i.components,u={location:t,name:e,accessor:new X.a({type:a,size:r*o})};this.varyingInfos.push(u),this.varyingInfosByName[u.name]=u}}]),t}(),Y=n("rnmN"),J=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],K=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,e),(n=Object(o.a)(this,Object(s.a)(e).call(this,t,r))).stubRemovedMethods("Program","v6.0",J),n._isCached=!1,n.initialize(r),Object.seal(Object(u.a)(n)),n._setId(r.id),n}return Object(f.a)(e,t),Object(a.a)(e,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.hash,n=t.vs,r=t.fs,i=t.varyings,a=t.bufferMode,o=void 0===a?35981:a;return this.hash=e||"",this.vs="string"==typeof n?new z(this.gl,{id:"".concat(t.id,"-vs"),source:n}):n,this.fs="string"==typeof r?new H(this.gl,{id:"".concat(t.id,"-fs"),source:r}):r,Object(m.a)(this.vs instanceof z),Object(m.a)(this.fs instanceof H),this.uniforms={},this._textureUniforms={},this._texturesRenderable=!0,i&&i.length>0&&(Object(U.a)(this.gl),this.varyings=i,this.gl.transformFeedbackVaryings(this.handle,i,o)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new q(this),this.setProps(t)}},{key:"delete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:Object(c.a)(Object(s.a)(e.prototype),"delete",this).call(this,t)}},{key:"setProps",value:function(t){return"uniforms"in t&&this.setUniforms(t.uniforms),this}},{key:"draw",value:function(t){var e=this,n=t.logPriority,r=t.drawMode,i=void 0===r?4:r,a=t.vertexCount,o=t.offset,u=void 0===o?0:o,s=t.start,c=t.end,f=t.isIndexed,l=void 0!==f&&f,h=t.indexType,d=void 0===h?5123:h,b=t.instanceCount,g=void 0===b?0:b,y=t.isInstanced,O=void 0===y?g>0:y,p=t.vertexArray,j=void 0===p?null:p,_=t.transformFeedback,k=t.framebuffer,E=t.parameters,A=void 0===E?{}:E,x=t.uniforms,w=t.samplers;if((x||w)&&(v.g.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(x||{})),v.g.priority>=n){var T=k?k.id:"default",M="mode=".concat(Object(Y.a)(this.gl,i)," verts=").concat(a," ")+"instances=".concat(g," indexType=").concat(Object(Y.a)(this.gl,d)," ")+"isInstanced=".concat(O," isIndexed=").concat(l," ")+"Framebuffer=".concat(T);v.g.log(n,M)()}return Object(m.a)(j),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===a||O&&0===g)&&(j.bindForDraw(a,g,(function(){if(void 0!==k&&(A=Object.assign({},A,{framebuffer:k})),_){var t=Object(W.c)(i);_.begin(t)}e._bindTextures(),Object(v.k)(e.gl,A,(function(){l&&O?e.gl.drawElementsInstanced(i,a,d,u,g):l&&Object(v.f)(e.gl)&&!isNaN(s)&&!isNaN(c)?e.gl.drawRangeElements(i,s,c,a,d,u):l?e.gl.drawElements(i,a,d,u):O?e.gl.drawArraysInstanced(i,u,a,g):e.gl.drawArrays(i,u,a)})),_&&_.end()})),!0)}},{key:"setUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in v.g.priority>=2&&M(t,this.id,this._uniformSetters),this.gl.useProgram(this.handle),t){var n=t[e],r=this._uniformSetters[e];if(r){var i=n,a=!1;if(i instanceof d.a&&(i=i.texture),i instanceof h.a)if(a=this.uniforms[e]!==n){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);var o=i,u=r.textureIndex;o.bind(u),i=u,o.loaded||(this._texturesRenderable=!1),this._textureUniforms[e]=o}else i=r.textureIndex;else this._textureUniforms[e]&&delete this._textureUniforms[e];(r(i)||a)&&S(this.uniforms,e,n)}}return this}},{key:"_areTexturesRenderable",value:function(){if(this._texturesRenderable)return!0;for(var t in this._texturesRenderable=!0,this._textureUniforms){var e=this._textureUniforms[t];this._texturesRenderable=this._texturesRenderable&&e.loaded}return this._texturesRenderable}},{key:"_bindTextures",value:function(){for(var t in this._textureUniforms){var e=this._uniformSetters[t].textureIndex;this._textureUniforms[t].bind(e)}}},{key:"_createHandle",value:function(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function(){this.gl.deleteProgram(this.handle)}},{key:"_getOptionsFromHandle",value:function(t){var e=this.gl.getAttachedShaders(t),n={},r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:n.vs=new z({handle:s});break;case 35632:n.fs=new H({handle:s})}}}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}},{key:"_getParameter",value:function(t){return this.gl.getProgramParameter(this.handle,t)}},{key:"_setId",value:function(t){if(!t){var e=this._getName();this.id=Object(G.c)(e)}}},{key:"_getName",value:function(){var t=this.vs.getName()||this.fs.getName();return t=(t=t.replace(/shader/i,""))?"".concat(t,"-program"):"program"}},{key:"_compileAndLink",value:function(){var t=this.gl;if((t.attachShader(this.handle,this.vs.handle),t.attachShader(this.handle,this.fs.handle),v.g.time(4,"linkProgram for ".concat(this._getName()))(),t.linkProgram(this.handle),v.g.timeEnd(4,"linkProgram for ".concat(this._getName()))(),t.debug||v.g.level>0)&&(t.validateProgram(this.handle),!t.getProgramParameter(this.handle,35714)))throw new Error("Error linking: ".concat(t.getProgramInfoLog(this.handle)))}},{key:"_readUniformLocationsFromLinkedProgram",value:function(){var t=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(var e=0;e<this._uniformCount;e++){var n=this.gl.getActiveUniform(this.handle,e),r=w(n.name),i=r.name,a=(r.isArray,t.getUniformLocation(this.handle,i));if(this._uniformSetters[i]=T(t,a,n),n.size>1)for(var o=0;o<n.size;o++)a=t.getUniformLocation(this.handle,"".concat(i,"[").concat(o,"]")),this._uniformSetters["".concat(i,"[").concat(o,"]")]=T(t,a,n)}this._textureIndexCounter=0}},{key:"getActiveUniforms",value:function(t,e){return this.gl.getActiveUniforms(this.handle,t,e)}},{key:"getUniformBlockIndex",value:function(t){return this.gl.getUniformBlockIndex(this.handle,t)}},{key:"getActiveUniformBlockParameter",value:function(t,e){return this.gl.getActiveUniformBlockParameter(this.handle,t,e)}},{key:"uniformBlockBinding",value:function(t,e){this.gl.uniformBlockBinding(this.handle,t,e)}}]),e}(l.a)},"Oz/4":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("1OyB"),i=n("vuIU"),a=n("md7G"),o=n("foSv"),u=n("Ji7U"),s=n("sYR6"),c=n("a3TU"),f=n("+H0l"),l=n("ZxFD"),h=n("sSh/"),d=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(r.a)(this,e),t=Object(a.a)(this,Object(o.a)(e).call(this,2)),Object(c.e)(n)&&1===arguments.length?t.copy(n):(c.b.debug&&(Object(f.a)(n),Object(f.a)(i)),t[0]=n,t[1]=i),t}return Object(u.a)(e,t),Object(i.a)(e,[{key:"set",value:function(t,e,n){return this[0]=t,this[1]=e,this.check()}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this.check()}},{key:"fromObject",value:function(t){return c.b.debug&&(Object(f.a)(t.x),Object(f.a)(t.y)),this[0]=t.x,this[1]=t.y,this.check()}},{key:"toObject",value:function(t){return t.x=this[0],t.y=this[1],t}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"transform",value:function(t){return this.transformAsPoint(t)}},{key:"transformAsPoint",value:function(t){return l.j(this,this,t),this.check()}},{key:"transformAsVector",value:function(t){return Object(h.a)(this,this,t),this.check()}},{key:"transformByMatrix3",value:function(t){return l.i(this,this,t),this.check()}},{key:"transformByMatrix2x3",value:function(t){return l.h(this,this,t),this.check()}},{key:"transformByMatrix2",value:function(t){return l.g(this,this,t),this.check()}},{key:"ELEMENTS",get:function(){return 2}}]),e}(s.a)},P5C6:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return f}));n("6nXr");var r,i,a=n("rePB"),o=n("g6k1"),u=function(t){return Object(o.h)(t)?void 0:0},s=(r={},Object(a.a)(r,3074,(function(t){return Object(o.h)(t)?void 0:36064})),Object(a.a)(r,35723,(function(t){return Object(o.h)(t)?void 0:4352})),Object(a.a)(r,35977,u),Object(a.a)(r,32937,u),Object(a.a)(r,36795,(function(t,e){var n=Object(o.h)(t)?t.getExtension("EXT_disjoint_timer_query_webgl2"):t.getExtension("EXT_disjoint_timer_query");return n&&n.GPU_DISJOINT_EXT?e(n.GPU_DISJOINT_EXT):0})),Object(a.a)(r,37445,(function(t,e){var n=t.getExtension("WEBGL_debug_renderer_info");return e(n&&n.UNMASKED_VENDOR_WEBGL||7936)})),Object(a.a)(r,37446,(function(t,e){var n=t.getExtension("WEBGL_debug_renderer_info");return e(n&&n.UNMASKED_RENDERER_WEBGL||7937)})),Object(a.a)(r,34047,(function(t,e){var n=t.luma.extensions.EXT_texture_filter_anisotropic;return n?e(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),Object(a.a)(r,32883,u),Object(a.a)(r,35071,u),Object(a.a)(r,37447,u),Object(a.a)(r,36063,(function(t,e){if(!Object(o.h)(t)){var n=t.getExtension("WEBGL_draw_buffers");return n?e(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),Object(a.a)(r,35379,u),Object(a.a)(r,35374,u),Object(a.a)(r,35377,u),Object(a.a)(r,34852,(function(t){if(!Object(o.h)(t)){var e=t.getExtension("WEBGL_draw_buffers");return e?e.MAX_DRAW_BUFFERS_WEBGL:0}})),Object(a.a)(r,36203,(function(t){return t.getExtension("OES_element_index")?2147483647:65535})),Object(a.a)(r,33001,(function(t){return t.getExtension("OES_element_index")?16777216:65535})),Object(a.a)(r,33e3,(function(t){return 16777216})),Object(a.a)(r,37157,u),Object(a.a)(r,35373,u),Object(a.a)(r,35657,u),Object(a.a)(r,36183,u),Object(a.a)(r,37137,u),Object(a.a)(r,34045,u),Object(a.a)(r,35978,u),Object(a.a)(r,35979,u),Object(a.a)(r,35968,u),Object(a.a)(r,35376,u),Object(a.a)(r,35375,u),Object(a.a)(r,35659,u),Object(a.a)(r,37154,u),Object(a.a)(r,35371,u),Object(a.a)(r,35658,u),Object(a.a)(r,35076,u),Object(a.a)(r,35077,u),Object(a.a)(r,35380,u),r);var c=(i={},Object(a.a)(i,"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){Object(o.a)(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),Object(a.a)(i,"ANGLE_instanced_arrays",{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(t,e){Object(o.a)(0===e,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),Object(a.a)(i,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){Object(o.a)(!1)}}),Object(a.a)(i,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){Object(o.a)(!1)},deleteQuery:function(){Object(o.a)(!1)},beginQuery:function(){Object(o.a)(!1)},endQuery:function(){},getQuery:function(t,e){return this.getQueryObject(t,e)},getQueryParameter:function(t,e){return this.getQueryObject(t,e)},getQueryObject:function(){}}),i),f={readBuffer:function(t,e,n){Object(o.h)(t)&&e(n)},getVertexAttrib:function(t,e,n,r){var i,a=function(t,e){return{webgl2:Object(o.h)(t),ext:t.getExtension(e)}}(t,"ANGLE_instanced_arrays"),u=a.webgl2,s=a.ext;switch(r){case 35069:i=!!u&&void 0;break;case 35070:i=u||s?void 0:0}return void 0!==i?i:e(n,r)},getProgramParameter:function(t,e,n,r){if(!Object(o.h)(t))switch(r){case 35967:return 35981;case 35971:case 35382:return 0}return e(n,r)},getInternalformatParameter:function(t,e,n,r,i){if(!Object(o.h)(t))switch(i){case 32937:return new Int32Array([0])}return t.getInternalformatParameter(n,r,i)},getTexParameter:function(t,e,n,r){switch(r){case 34046:var i=t.luma.extensions.EXT_texture_filter_anisotropic;r=i&&i.TEXTURE_MAX_ANISOTROPY_EXT||34046}return e(n,r)},getParameter:function(t,e,n){var r=s[n],i="function"==typeof r?r(t,e,n):r;return void 0!==i?i:e(n)},hint:function(t,e,n,r){return e(n,r)}}},QNMc:function(t,e,n){var r=n("P8UN");r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},QPTa:function(t,e,n){"use strict";n("m210"),n("4DPX"),n("rzGZ"),n("E5k/"),n("JHok"),n("AqHK");var r="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",i=(e.a={name:"lights",vs:r,fs:r,getUniforms:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if("lightSources"in e){var n=e.lightSources||{},r=n.ambientLight,a=n.pointLights,u=n.directionalLights,s=r||a&&a.length>0||u&&u.length>0;return s?Object.assign({},o({ambientLight:r,pointLights:a,directionalLights:u}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in e){var c={pointLights:[],directionalLights:[]},f=!0,l=!1,h=void 0;try{for(var d,b=(e.lights||[])[Symbol.iterator]();!(f=(d=b.next()).done);f=!0){var v=d.value;switch(v.type){case"ambient":c.ambientLight=v;break;case"directional":c.directionalLights.push(v);break;case"point":c.pointLights.push(v)}}}catch(g){l=!0,h=g}finally{try{f||null==b.return||b.return()}finally{if(l)throw h}}return t({lightSources:c})}return{}},defines:{MAX_LIGHTS:3}},{});function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,n=void 0===e?[0,0,0]:e,r=t.intensity,i=void 0===r?1:r;return n.map((function(t){return t*i/255}))}function o(t){var e=t.ambientLight,n=t.pointLights,r=void 0===n?[]:n,i=t.directionalLights,o=void 0===i?[]:i,u={};return u["lighting_uAmbientLight.color"]=e?a(e):[0,0,0],r.forEach((function(t,e){u["lighting_uPointLight[".concat(e,"].color")]=a(t),u["lighting_uPointLight[".concat(e,"].position")]=t.position,u["lighting_uPointLight[".concat(e,"].attenuation")]=t.attenuation||[1,0,0]})),u.lighting_uPointLightCount=r.length,o.forEach((function(t,e){u["lighting_uDirectionalLight[".concat(e,"].color")]=a(t),u["lighting_uDirectionalLight[".concat(e,"].direction")]=t.direction})),u.lighting_uDirectionalLightCount=o.length,u}},RHh3:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("s4An");function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function a(t,e,n){return(a=i()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var a=new(Function.bind.apply(t,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},ReuC:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("foSv");function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(r.a)(t)););return t}(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}},SIeT:function(t,e,n){n("Sc3u")("Uint32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},SUVH:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));var r=n("CxzY"),i=n("iein");function a(t){Object(r.a)(Object(i.e)(t),"Invalid WebGLRenderingContext")}function o(t){Object(r.a)(Object(i.f)(t),"Requires WebGL2")}},T2Hy:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n("DrhF"),n("JHok");var r=n("RHh3"),i=n("1OyB"),a=n("vuIU"),o=n("B9+J"),u=n("CxzY"),s=n("LE90"),c={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},f={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},l=function(){function t(){var e=this;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];r.forEach((function(t){return e._assign(t)})),Object.freeze(this)}return Object(a.a)(t,null,[{key:"getBytesPerElement",value:function(t){return Object(o.c)(t.type||5126).BYTES_PER_ELEMENT}},{key:"getBytesPerVertex",value:function(t){return Object(u.a)(t.size),Object(o.c)(t.type||5126).BYTES_PER_ELEMENT*t.size}},{key:"resolve",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Object(r.a)(t,[c].concat(n))}}]),Object(a.a)(t,[{key:"toString",value:function(){return JSON.stringify(this)}},{key:"_assign",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==(t=Object(s.a)("Accessor",t,f)).type&&(this.type=t.type,5124!==t.type&&5125!==t.type||(this.integer=!0)),void 0!==t.size&&(this.size=t.size),void 0!==t.offset&&(this.offset=t.offset),void 0!==t.stride&&(this.stride=t.stride),void 0!==t.normalized&&(this.normalized=t.normalized),void 0!==t.integer&&(this.integer=t.integer),void 0!==t.divisor&&(this.divisor=t.divisor),void 0!==t.buffer&&(this.buffer=t.buffer),void 0!==t.index&&("boolean"==typeof index?this.index=t.index?1:0:this.index=t.index),void 0!==t.instanced&&(this.divisor=t.instanced?1:0),void 0!==t.isInstanced&&(this.divisor=t.isInstanced?1:0),this}},{key:"BYTES_PER_ELEMENT",get:function(){return t.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return t.getBytesPerVertex(this)}}]),t}()},VdrS:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return u}));var r=n("CxzY"),i={};function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";i[t]=i[t]||1;var e=i[t]++;return"".concat(t,"-").concat(e)}function o(t){return Object(r.a)("number"==typeof t,"Input must be a number"),t&&0==(t&t-1)}function u(t){var e=!0;for(var n in t){e=!1;break}return e}},VvNH:function(t,e,n){"use strict";(function(t){var r=n("c9N0"),i=n("Oz/4");n.d(e,"d",(function(){return i.a}));var a=n("zXfU");n.d(e,"e",(function(){return a.a}));var o=n("GA6j");n.d(e,"a",(function(){return o.a}));var u=n("Nw31");n.d(e,"b",(function(){return u.a}));var s=n("Xjzu");n.d(e,"c",(function(){return s.a}));var c=n("a3TU");n.d(e,"i",(function(){return c.b})),n.d(e,"k",(function(){return c.e})),n.d(e,"j",(function(){return c.c})),n.d(e,"o",(function(){return c.i})),n.d(e,"n",(function(){return c.h})),n.d(e,"m",(function(){return c.g})),n.d(e,"h",(function(){return c.a})),n.d(e,"l",(function(){return c.f}));var f=n("gOKY");n.d(e,"f",(function(){return f.a}));var l=n("tS8E");n.d(e,"g",(function(){return l.a}));var h={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t};(h.global||h.self||h.window).mathgl={config:r.i}}).call(this,n("yLpj"))},Xjzu:function(t,e,n){"use strict";n.d(e,"a",(function(){return F}));n("MIFh");var r=n("1OyB"),i=n("vuIU"),a=n("md7G"),o=n("foSv"),u=n("Ji7U"),s=n("41X0"),c=n("+H0l"),f=n("tS8E"),l=(n("5irr"),n("yU0y")),h=n("HwUG"),d=n("n+fv"),b=n("bl9R");function v(){var t=new l.a(4);return l.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function g(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function m(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*f+o*u+i*c-a*s,t[1]=i*f+o*s+a*u-r*c,t[2]=a*f+o*c+r*s-i*u,t[3]=o*f-r*u-i*s-a*c,t}function y(t,e,n,r){var i,a,o,u,s,c=e[0],f=e[1],h=e[2],d=e[3],b=n[0],v=n[1],g=n[2],m=n[3];return(a=c*b+f*v+h*g+d*m)<0&&(a=-a,b=-b,v=-v,g=-g,m=-m),1-a>l.b?(i=Math.acos(a),o=Math.sin(i),u=Math.sin((1-r)*i)/o,s=Math.sin(r*i)/o):(u=1-r,s=r),t[0]=u*c+s*b,t[1]=u*f+s*v,t[2]=u*h+s*g,t[3]=u*d+s*m,t}function O(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[o]=(e[3*o+i]+e[3*i+o])*n}return t}b.b,b.g,b.c,b.l;var p,j,_,k,E,A,x=b.a,w=b.k,T=b.d,M=b.i,L=b.h,S=b.m,P=b.j,I=(b.f,b.e,p=d.b(),j=d.e(1,0,0),_=d.e(0,1,0),function(t,e,n){var r=d.d(e,n);return r<-.999999?(d.c(p,j,e),d.f(p)<1e-6&&d.c(p,_,e),d.i(p,p),g(t,p,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(d.c(p,e,n),t[0]=p[0],t[1]=p[1],t[2]=p[2],t[3]=1+r,P(t,t))}),R=(k=v(),E=v(),A=h.a(),[0,0,0,1]),F=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(r.a)(this,e),t=Object(a.a)(this,Object(o.a)(e).call(this,-0,-0,-0,-0)),Array.isArray(n)&&1===arguments.length?t.copy(n):t.set(n,i,u,s),t}return Object(u.a)(e,t),Object(i.a)(e,[{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}},{key:"set",value:function(t,e,n,r){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this.check()}},{key:"fromMatrix3",value:function(t){return O(this,t),this.check()}},{key:"identity",value:function(){var t;return(t=this)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.check()}},{key:"fromAxisRotation",value:function(t,e){return g(this,t,e),this.check()}},{key:"setAxisAngle",value:function(t,e){return this.fromAxisRotation(t,e)}},{key:"len",value:function(){return L(this)}},{key:"lengthSquared",value:function(t){return S(this)}},{key:"dot",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.dot only takes one argument");return T(this,t)}},{key:"rotationTo",value:function(t,e){return I(this,t,e),this.check()}},{key:"add",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.add only takes one argument");return x(this,this,t),this.check()}},{key:"calculateW",value:function(){var t,e,n,r,i;return t=this,n=(e=this)[0],r=e[1],i=e[2],t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),this.check()}},{key:"conjugate",value:function(){var t,e;return e=this,(t=this)[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],this.check()}},{key:"invert",value:function(){var t,e,n,r,i,a,o,u;return t=this,n=(e=this)[0],r=e[1],i=e[2],a=e[3],u=(o=n*n+r*r+i*i+a*a)?1/o:0,t[0]=-n*u,t[1]=-r*u,t[2]=-i*u,t[3]=a*u,this.check()}},{key:"lerp",value:function(t,e,n){return M(this,t,e,n),this.check()}},{key:"multiplyRight",value:function(t,e){return Object(f.a)(!e),m(this,this,t),this.check()}},{key:"multiplyLeft",value:function(t,e){return Object(f.a)(!e),m(this,t,this),this.check()}},{key:"normalize",value:function(){var t=this.len(),e=t>0?1/t:0;return this[0]=this[0]*e,this[1]=this[1]*e,this[2]=this[2]*e,this[3]=this[3]*e,0===t&&(this[3]=1),this.check()}},{key:"rotateX",value:function(t){return function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=a*s-i*u,t[3]=o*s-r*u}(this,this,t),this.check()}},{key:"rotateY",value:function(t){return function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);t[0]=r*s-a*u,t[1]=i*s+o*u,t[2]=a*s+r*u,t[3]=o*s-i*u}(this,this,t),this.check()}},{key:"rotateZ",value:function(t){return function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);t[0]=r*s+i*u,t[1]=i*s-r*u,t[2]=a*s+o*u,t[3]=o*s-a*u}(this,this,t),this.check()}},{key:"scale",value:function(t){return w(this,this,t),this.check()}},{key:"slerp",value:function(t,e,n){switch(arguments.length){case 1:var r=arguments[0],i=r.start;t=void 0===i?R:i,e=r.target,n=r.ratio;break;case 2:var a=Array.prototype.slice.call(arguments);e=a[0],n=a[1],t=this}return y(this,t,e,n),this.check()}},{key:"transformVector4",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return b.o(e,t,this),Object(c.b)(e,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(t,e){return this.setAxisAngle(t,e)}},{key:"premultiply",value:function(t,e){return this.multiplyLeft(t,e)}},{key:"multiply",value:function(t,e){return this.multiplyRight(t,e)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(t){return this[0]=Object(c.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){return this[1]=Object(c.a)(t)}},{key:"z",get:function(){return this[2]},set:function(t){return this[2]=Object(c.a)(t)}},{key:"w",get:function(){return this[3]},set:function(t){return this[3]=Object(c.a)(t)}}]),e}(s.a)},ZaHm:function(t,e,n){"use strict";n.d(e,"q",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"p",(function(){return s})),n.d(e,"o",(function(){return c})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return l})),n.d(e,"m",(function(){return h})),n.d(e,"n",(function(){return d})),n.d(e,"e",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return g})),n.d(e,"j",(function(){return m})),n.d(e,"i",(function(){return y})),n.d(e,"g",(function(){return O})),n.d(e,"b",(function(){return p}));n("CczQ"),n("5irr");var r=n("yU0y");function i(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function a(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],b=e[12],v=e[13],g=e[14],m=e[15],y=n*u-r*o,O=n*s-i*o,p=n*c-a*o,j=r*s-i*u,_=r*c-a*u,k=i*c-a*s,E=f*v-l*b,A=f*g-h*b,x=f*m-d*b,w=l*g-h*v,T=l*m-d*v,M=h*m-d*g,L=y*M-O*T+p*w+j*x-_*A+k*E;return L?(L=1/L,t[0]=(u*M-s*T+c*w)*L,t[1]=(i*T-r*M-a*w)*L,t[2]=(v*k-g*_+m*j)*L,t[3]=(h*_-l*k-d*j)*L,t[4]=(s*x-o*M-c*A)*L,t[5]=(n*M-i*x+a*A)*L,t[6]=(g*p-b*k-m*O)*L,t[7]=(f*k-h*p+d*O)*L,t[8]=(o*T-u*x+c*E)*L,t[9]=(r*x-n*T-a*E)*L,t[10]=(b*_-v*p+m*y)*L,t[11]=(l*p-f*_-d*y)*L,t[12]=(u*A-o*w-s*E)*L,t[13]=(n*w-r*A+i*E)*L,t[14]=(v*O-b*j-g*y)*L,t[15]=(f*j-l*O+h*y)*L,t):null}function o(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11],d=t[12],b=t[13],v=t[14],g=t[15];return(e*o-n*a)*(l*g-h*v)-(e*u-r*a)*(f*g-h*b)+(e*s-i*a)*(f*v-l*b)+(n*u-r*o)*(c*g-h*d)-(n*s-i*o)*(c*v-l*d)+(r*s-i*u)*(c*b-f*d)}function u(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],b=e[11],v=e[12],g=e[13],m=e[14],y=e[15],O=n[0],p=n[1],j=n[2],_=n[3];return t[0]=O*r+p*u+j*l+_*v,t[1]=O*i+p*s+j*h+_*g,t[2]=O*a+p*c+j*d+_*m,t[3]=O*o+p*f+j*b+_*y,O=n[4],p=n[5],j=n[6],_=n[7],t[4]=O*r+p*u+j*l+_*v,t[5]=O*i+p*s+j*h+_*g,t[6]=O*a+p*c+j*d+_*m,t[7]=O*o+p*f+j*b+_*y,O=n[8],p=n[9],j=n[10],_=n[11],t[8]=O*r+p*u+j*l+_*v,t[9]=O*i+p*s+j*h+_*g,t[10]=O*a+p*c+j*d+_*m,t[11]=O*o+p*f+j*b+_*y,O=n[12],p=n[13],j=n[14],_=n[15],t[12]=O*r+p*u+j*l+_*v,t[13]=O*i+p*s+j*h+_*g,t[14]=O*a+p*c+j*d+_*m,t[15]=O*o+p*f+j*b+_*y,t}function s(t,e,n){var r,i,a,o,u,s,c,f,l,h,d,b,v=n[0],g=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*m+e[12],t[13]=e[1]*v+e[5]*g+e[9]*m+e[13],t[14]=e[2]*v+e[6]*g+e[10]*m+e[14],t[15]=e[3]*v+e[7]*g+e[11]*m+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],b=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=c,t[7]=f,t[8]=l,t[9]=h,t[10]=d,t[11]=b,t[12]=r*v+u*g+l*m+e[12],t[13]=i*v+s*g+h*m+e[13],t[14]=a*v+c*g+d*m+e[14],t[15]=o*v+f*g+b*m+e[15]),t}function c(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function f(t,e,n,i){var a,o,u,s,c,f,l,h,d,b,v,g,m,y,O,p,j,_,k,E,A,x,w,T,M=i[0],L=i[1],S=i[2],P=Math.hypot(M,L,S);return P<r.b?null:(M*=P=1/P,L*=P,S*=P,a=Math.sin(n),u=1-(o=Math.cos(n)),s=e[0],c=e[1],f=e[2],l=e[3],h=e[4],d=e[5],b=e[6],v=e[7],g=e[8],m=e[9],y=e[10],O=e[11],p=M*M*u+o,j=L*M*u+S*a,_=S*M*u-L*a,k=M*L*u-S*a,E=L*L*u+o,A=S*L*u+M*a,x=M*S*u+L*a,w=L*S*u-M*a,T=S*S*u+o,t[0]=s*p+h*j+g*_,t[1]=c*p+d*j+m*_,t[2]=f*p+b*j+y*_,t[3]=l*p+v*j+O*_,t[4]=s*k+h*E+g*A,t[5]=c*k+d*E+m*A,t[6]=f*k+b*E+y*A,t[7]=l*k+v*E+O*A,t[8]=s*x+h*w+g*T,t[9]=c*x+d*w+m*T,t[10]=f*x+b*w+y*T,t[11]=l*x+v*w+O*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function l(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*r,t[5]=o*i+f*r,t[6]=u*i+l*r,t[7]=s*i+h*r,t[8]=c*i-a*r,t[9]=f*i-o*r,t[10]=l*i-u*r,t[11]=h*i-s*r,t}function h(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],u=e[2],s=e[3],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*r,t[1]=o*i-f*r,t[2]=u*i-l*r,t[3]=s*i-h*r,t[8]=a*r+c*i,t[9]=o*r+f*i,t[10]=u*r+l*i,t[11]=s*r+h*i,t}function d(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],u=e[2],s=e[3],c=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*r,t[1]=o*i+f*r,t[2]=u*i+l*r,t[3]=s*i+h*r,t[4]=c*i-a*r,t[5]=f*i-o*r,t[6]=l*i-u*r,t[7]=h*i-s*r,t}function b(t,e){var n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(a,o,u),t[2]=Math.hypot(s,c,f),t}function v(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,u=r+r,s=i+i,c=n*o,f=r*o,l=r*u,h=i*o,d=i*u,b=i*s,v=a*o,g=a*u,m=a*s;return t[0]=1-l-b,t[1]=f+m,t[2]=h-g,t[3]=0,t[4]=f-m,t[5]=1-c-b,t[6]=d+v,t[7]=0,t[8]=h+g,t[9]=d-v,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function g(t,e,n,r,i,a,o){var u=1/(n-e),s=1/(i-r),c=1/(a-o);return t[0]=2*a*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(i+r)*s,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}function m(t,e,n,r,i){var a,o=1/Math.tan(e/2);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(r-i),t[10]=(i+r)*a,t[14]=2*i*r*a):(t[10]=-1,t[14]=-2*r),t}function y(t,e,n,r,i,a,o){var u=1/(e-n),s=1/(r-i),c=1/(a-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(i+r)*s,t[14]=(o+a)*c,t[15]=1,t}function O(t,e,n,i){var a,o,u,s,c,f,l,h,d,b,v=e[0],g=e[1],m=e[2],y=i[0],O=i[1],p=i[2],j=n[0],_=n[1],k=n[2];return Math.abs(v-j)<r.b&&Math.abs(g-_)<r.b&&Math.abs(m-k)<r.b?function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}(t):(l=v-j,h=g-_,d=m-k,a=O*(d*=b=1/Math.hypot(l,h,d))-p*(h*=b),o=p*(l*=b)-y*d,u=y*h-O*l,(b=Math.hypot(a,o,u))?(a*=b=1/b,o*=b,u*=b):(a=0,o=0,u=0),s=h*u-d*o,c=d*a-l*u,f=l*o-h*a,(b=Math.hypot(s,c,f))?(s*=b=1/b,c*=b,f*=b):(s=0,c=0,f=0),t[0]=a,t[1]=s,t[2]=l,t[3]=0,t[4]=o,t[5]=c,t[6]=h,t[7]=0,t[8]=u,t[9]=f,t[10]=d,t[11]=0,t[12]=-(a*v+o*g+u*m),t[13]=-(s*v+c*g+f*m),t[14]=-(l*v+h*g+d*m),t[15]=1,t)}function p(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=t[9],d=t[10],b=t[11],v=t[12],g=t[13],m=t[14],y=t[15],O=e[0],p=e[1],j=e[2],_=e[3],k=e[4],E=e[5],A=e[6],x=e[7],w=e[8],T=e[9],M=e[10],L=e[11],S=e[12],P=e[13],I=e[14],R=e[15];return Math.abs(n-O)<=r.b*Math.max(1,Math.abs(n),Math.abs(O))&&Math.abs(i-p)<=r.b*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-j)<=r.b*Math.max(1,Math.abs(a),Math.abs(j))&&Math.abs(o-_)<=r.b*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(u-k)<=r.b*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(s-E)<=r.b*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(c-A)<=r.b*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(f-x)<=r.b*Math.max(1,Math.abs(f),Math.abs(x))&&Math.abs(l-w)<=r.b*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(h-T)<=r.b*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(d-M)<=r.b*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(b-L)<=r.b*Math.max(1,Math.abs(b),Math.abs(L))&&Math.abs(v-S)<=r.b*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(g-P)<=r.b*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(m-I)<=r.b*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(y-R)<=r.b*Math.max(1,Math.abs(y),Math.abs(R))}},ZxFD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"f",(function(){return v}));n("CczQ"),n("5irr");var r=n("yU0y");function i(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function a(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function o(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function u(t,e){return t[0]=-e[0],t[1]=-e[1],t}function s(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t}function c(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function f(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function l(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function h(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}var d,b,v=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t};d=new r.a(2),r.a!=Float32Array&&(d[0]=0,d[1]=0),b=d},a3TU:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return s})),n.d(e,"i",(function(){return f})),n.d(e,"h",(function(){return l})),n.d(e,"g",(function(){return h})),n.d(e,"a",(function(){return d})),n.d(e,"f",(function(){return b})),n.d(e,"c",(function(){return v}));n("YBKJ"),n("9ZhD"),n("AqHK"),n("MIFh"),n("U8pU"),n("RHh3"),n("KQm4"),n("tS8E");var r=1/Math.PI*180,i=1/180*Math.PI,a={};function o(t){return Math.round(t/a.EPSILON)*a.EPSILON}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.precision,r=void 0===n?a.precision||4:n;return t=o(t),"".concat(parseFloat(t.toPrecision(r)))}function s(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&void 0!==t.length}function c(t,e,n){if(s(t)){n=n||((i=t).clone?i.clone():new Array(i.length));for(var r=0;r<n.length&&r<t.length;++r)n[r]=e(t[r],r,n);return n}var i;return e(t)}function f(t){return h(t)}function l(t){return function(t,e){return c(t,(function(t){return t*r}),e)}(t)}function h(t,e){return c(t,(function(t){return t*i}),e)}function d(t,e,n){return c(t,(function(t){return Math.max(e,Math.min(n,t))}))}function b(t,e,n){return s(t)?t.map((function(t,r){return b(t,e[r],n)})):n*e+(1-n)*t}function v(t,e,n){var r=a.EPSILON;n&&(a.EPSILON=n);try{if(t===e)return!0;if(s(t)&&s(e)){if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(!v(t[i],e[i]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):!(!Number.isFinite(t)||!Number.isFinite(e))&&Math.abs(t-e)<=a.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{a.EPSILON=r}}a.EPSILON=1e-12,a.debug=!1,a.precision=4,a.printTypes=!1,a.printDegrees=!1,a.printRowMajor=!0},bl9R:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"g",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"l",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"k",(function(){return c})),n.d(e,"h",(function(){return f})),n.d(e,"m",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"d",(function(){return d})),n.d(e,"i",(function(){return b})),n.d(e,"n",(function(){return v})),n.d(e,"o",(function(){return g})),n.d(e,"f",(function(){return m})),n.d(e,"e",(function(){return y}));n("CczQ"),n("5irr");var r=n("yU0y");function i(t){var e=new r.a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e,n,i){var a=new r.a(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=i,a}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function u(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function s(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function c(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function f(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function l(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function h(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=a*o,t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function b(t,e,n,r){var i=e[0],a=e[1],o=e[2],u=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=u+r*(n[3]-u),t}function v(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t}function g(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],u=n[1],s=n[2],c=n[3],f=c*r+u*a-s*i,l=c*i+s*r-o*a,h=c*a+o*i-u*r,d=-o*r-u*i-s*a;return t[0]=f*c+d*-o+l*-s-h*-u,t[1]=l*c+d*-u+h*-o-f*-s,t[2]=h*c+d*-s+f*-u-l*-o,t[3]=e[3],t}function m(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function y(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],u=e[0],s=e[1],c=e[2],f=e[3];return Math.abs(n-u)<=r.b*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-s)<=r.b*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-c)<=r.b*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-f)<=r.b*Math.max(1,Math.abs(o),Math.abs(f))}var O,p;O=new r.a(4),r.a!=Float32Array&&(O[0]=0,O[1]=0,O[2]=0,O[3]=0),p=O},bphH:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));n("9ZhD"),n("YBKJ"),n("n7j8"),n("ofTv");var r=n("1OyB"),i=n("md7G"),a=n("foSv"),o=n("JX7q"),u=n("vuIU"),s=n("Ji7U"),c=n("iein"),f=n("L8KH"),l=n("sc/6"),h=n("SUVH"),d=n("VdrS"),b=function(t){function e(t){var n,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,e),Object(h.a)(t),(n=Object(i.a)(this,Object(a.a)(e).call(this,t,u))).initialize(u),n.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(Object(o.a)(n)),n}return Object(s.a)(e,t),Object(u.a)(e,null,[{key:"isSupported",value:function(t){return Object(c.f)(t)}}]),Object(u.a)(e,[{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,Object(d.a)(this.buffers)||this.bind((function(){return t._unbindBuffers()})),this.setProps(e),this}},{key:"setProps",value:function(t){"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"bindOnUse"in t&&(t=t.bindOnUse),"buffers"in t&&this.setBuffers(t.buffers)}},{key:"setBuffers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((function(){for(var n in e)t.setBuffer(n,e[n])})),this}},{key:"setBuffer",value:function(t,e){var n=this,r=this._getVaryingIndex(t),i=this._getBufferParams(e),a=i.buffer,o=i.byteSize,u=i.byteOffset;return r<0?(this.unused[t]=a,c.g.warn((function(){return"".concat(n.id," unused varying buffer ").concat(t)}))(),this):(this.buffers[r]=e,this.bindOnUse||this._bindBuffer(r,a,u,o),this)}},{key:"begin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(t),this}},{key:"end",value:function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}},{key:"_getBufferParams",value:function(t){var e,n,r;return t instanceof l.a==!1?(r=t.buffer,n=t.byteSize,e=t.byteOffset):r=t,void 0===e&&void 0===n||(e=e||0,n=n||r.byteLength-e),{buffer:r,byteOffset:e,byteSize:n}}},{key:"_getVaryingInfo",value:function(t){return this.configuration&&this.configuration.getVaryingInfo(t)}},{key:"_getVaryingIndex",value:function(t){if(this.configuration)return this.configuration.getVaryingInfo(t).location;var e=Number(t);return Number.isFinite(e)?e:-1}},{key:"_bindBuffers",value:function(){if(this.bindOnUse)for(var t in this.buffers){var e=this._getBufferParams(this.buffers[t]),n=e.buffer,r=e.byteSize,i=e.byteOffset;this._bindBuffer(t,n,i,r)}}},{key:"_unbindBuffers",value:function(){if(this.bindOnUse)for(var t in this.buffers)this._bindBuffer(t,null)}},{key:"_bindBuffer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=e&&e.handle;return i&&void 0!==r?this.gl.bindBufferRange(35982,t,i,n,r):this.gl.bindBufferBase(35982,t,i),this}},{key:"_createHandle",value:function(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function(){this.gl.deleteTransformFeedback(this.handle)}},{key:"_bindHandle",value:function(t){this.gl.bindTransformFeedback(36386,this.handle)}}]),e}(f.a)},c9N0:function(t,e,n){"use strict";var r=n("VvNH");n.d(e,"a",(function(){return r.a})),n.d(e,"b",(function(){return r.b})),n.d(e,"c",(function(){return r.c})),n.d(e,"d",(function(){return r.d})),n.d(e,"e",(function(){return r.e})),n.d(e,"f",(function(){return r.f})),n.d(e,"g",(function(){return r.g})),n.d(e,"h",(function(){return r.h})),n.d(e,"i",(function(){return r.i})),n.d(e,"j",(function(){return r.j})),n.d(e,"k",(function(){return r.k})),n.d(e,"l",(function(){return r.l})),n.d(e,"m",(function(){return r.m})),n.d(e,"n",(function(){return r.n})),n.d(e,"o",(function(){return r.o}))},cDf5:function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},d3kR:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return s}));n("m210"),n("4DPX"),n("rzGZ"),n("MIFh");var r=n("tMmZ"),i=n("iein"),a=n("CxzY");function o(t,e){return u(t,e)}function u(t,e){return(e=Array.isArray(e)?e:[e]).every((function(e){return c(t,e)}))}function s(t){for(var e in t.luma=t.luma||{},t.luma.caps=t.luma.caps||{},r.b)void 0===t.luma.caps[e]&&(t.luma.caps[e]=c(t,e));return t.luma.caps}function c(t,e){return t.luma=t.luma||{},t.luma.caps=t.luma.caps||{},void 0===t.luma.caps[e]&&(t.luma.caps[e]=function(t,e){var n,o=r.b[e];Object(a.a)(o,e);var u=Object(i.f)(t)&&o[1]||o[0];if("function"==typeof u)n=u(t);else if(Array.isArray(u)){n=!0;var s=!0,c=!1,f=void 0;try{for(var l,h=u[Symbol.iterator]();!(s=(l=h.next()).done);s=!0){var d=l.value;n=n&&Boolean(t.getExtension(d))}}catch(b){c=!0,f=b}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}}else"string"==typeof u?n=Boolean(t.getExtension(u)):"boolean"==typeof u?n=u:Object(a.a)(!1);return n}(t,e)),t.luma.caps[e]||i.g.log(2,"Feature: ".concat(e," not supported"))(),t.luma.caps[e]}},f5Sf:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));n("ofTv"),n("E5k/"),n("6kNP"),n("8npG");var r=n("1OyB"),i=n("md7G"),a=n("foSv"),o=n("JX7q"),u=n("vuIU"),s=n("Ji7U"),c=n("l6PP"),f=n("SUVH"),l=n("CxzY"),h="";function d(t,e){return Object(l.a)("string"==typeof t),t=h+t,new Promise((function(n,r){try{var i=new Image;i.onload=function(){return n(i)},i.onerror=function(){return r(new Error("Could not load image ".concat(t,".")))},i.crossOrigin=e&&e.crossOrigin||"anonymous",i.src=t}catch(a){r(a)}}))}var b=function(t){function e(t){var n,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,e),Object(f.b)(t),(u instanceof Promise||"string"==typeof u)&&(u={data:u}),"string"==typeof u.data&&(u=Object.assign({},u,{data:d(u.data)})),(n=Object(i.a)(this,Object(a.a)(e).call(this,t,Object.assign({},u,{target:3553})))).initialize(u),Object.seal(Object(o.a)(n)),n}return Object(s.a)(e,t),Object(u.a)(e,null,[{key:"isSupported",value:function(t,e){return c.a.isSupported(t,e)}}]),e}(c.a)},fxzv:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n("n0hJ");var r=n("1OyB"),i=n("vuIU"),a=n("md7G"),o=n("foSv"),u=n("Ji7U"),s=n("41X0"),c=n("+H0l"),f=n("a3TU"),l=function(t){function e(){return Object(r.a)(this,e),Object(a.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(i.a)(e,[{key:"toString",value:function(){var t="[";if(f.b.printRowMajor){t+="row-major:";for(var e=0;e<this.RANK;++e)for(var n=0;n<this.RANK;++n)t+=" ".concat(this[n*this.RANK+e])}else{t+="column-major:";for(var r=0;r<this.ELEMENTS;++r)t+=" ".concat(this[r])}return t+="]"}},{key:"getElementIndex",value:function(t,e){return e*this.RANK+t}},{key:"getElement",value:function(t,e){return this[e*this.RANK+t]}},{key:"setElement",value:function(t,e,n){return this[e*this.RANK+t]=Object(c.a)(n),this}},{key:"getColumn",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),n=t*this.RANK,r=0;r<this.RANK;++r)e[r]=this[n+r];return e}},{key:"setColumn",value:function(t,e){for(var n=t*this.RANK,r=0;r<this.RANK;++r)this[n+r]=e[r];return this}}]),e}(s.a)},g6k1:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"g",(function(){return d})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return v}));var r=n("d3wX");n("MIFh");function i(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}function a(t){for(var e in t)return!1;return!0}function o(t,e){if(t===e)return!0;var n=Array.isArray(t)||ArrayBuffer.isView(t),r=Array.isArray(e)||ArrayBuffer.isView(e);if(n&&r&&t.length===e.length){for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}return!1}n("YBKJ"),n("9ZhD");function u(t){if(t.canvas&&t.luma){var e=t.luma.canvasSizeInfo.clientWidth;return e?t.drawingBufferWidth/e:1}return 1}function s(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=u(t),i=t.drawingBufferWidth,a=t.drawingBufferHeight;return f(e,r,i,a,n)}function c(t){var e="undefined"==typeof window?1:window.devicePixelRatio||1;return Number.isFinite(t)?t<=0?1:t:t?e:1}function f(t,e,n,r,i){var a,o=l(t[0],e,n),u=h(t[1],e,r,i),s=l(t[0]+1,e,n),c=s===n-1?s:s-1;return s=h(t[1]+1,e,r,i),i?(a=u,u=s=0===s?s:s+1):a=s===r-1?s:s-1,{x:o,y:u,width:Math.max(c-o+1,1),height:Math.max(a-u+1,1)}}function l(t,e,n){return Math.min(Math.round(t*e),n-1)}function h(t,e,n,r){return r?Math.max(0,n-1-Math.round(t*e)):Math.min(Math.round(t*e),n-1)}function d(t){return Boolean(t&&Number.isFinite(t._version))}function b(t){return Boolean(t&&2===t._version)}var v=new r.a({id:"luma.gl"})},gOKY:function(t,e,n){"use strict";e.a={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},gXd2:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return c}));n("m210"),n("4DPX"),n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi"),n("MIFh"),n("YBKJ");var r=n("rp2x"),i=n("9Q0L"),a=n("g6k1");function o(t,e){if(Object(a.a)(Object(a.g)(t),"setParameters requires a WebGL context"),!Object(a.f)(e)){var n={};for(var i in e){var o=Number(i),u=r.e[i];u&&("string"==typeof u?n[u]=!0:u(t,e[i],o))}var s=t.state&&t.state.cache;if(s)for(var c in n){(0,r.a[c])(t,e,s)}}}function u(t,e){if("number"==typeof(e=e||r.c)){var n=e,i=r.d[n];return i?i(t,n):t.getParameter(n)}var a=Array.isArray(e)?e:Object.keys(e),o={},u=!0,s=!1,c=void 0;try{for(var f,l=a[Symbol.iterator]();!(u=(f=l.next()).done);u=!0){var h=f.value,d=r.d[h];o[h]=d?d(t,Number(h)):t.getParameter(Number(h))}}catch(b){s=!0,c=b}finally{try{u||null==l.return||l.return()}finally{if(s)throw c}}return o}function s(t){o(t,r.c)}function c(t,e,n){if(Object(a.f)(e))return n(t);var r,u=e.nocatch,s=void 0===u||u;if(Object(i.c)(t),o(t,e),s)r=n(t),Object(i.b)(t);else try{r=n(t)}finally{Object(i.b)(t)}return r}},h3Sa:function(t,e,n){n("Sc3u")("Uint16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},hQ05:function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));n("E5k/"),n("1dPr"),n("YBKJ"),n("6kNP"),n("8npG"),n("n7j8");var r=n("U8pU"),i=n("o0o1"),a=n.n(i),o=n("HaE+"),u=n("1OyB"),s=n("vuIU"),c=n("iein"),f=n("rta6"),l=n("CxzY"),h=(n("ofTv"),n("m210"),n("4DPX"),n("rzGZ"),n("md7G")),d=n("foSv"),b=n("JX7q"),v=n("Ji7U"),g=n("L8KH"),m=n("d3kR"),y=n("tMmZ"),O=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u.a)(this,e),(n=Object(h.a)(this,Object(d.a)(e).call(this,t,r))).target=null,n._queryPending=!1,n._pollingPromise=null,Object.seal(Object(b.a)(n)),n}return Object(v.a)(e,t),Object(s.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(c.f)(t),r=Object(m.c)(t,y.a.TIMER_QUERY),i=n||r,a=!0,o=!1,u=void 0;try{for(var s,f=e[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var h=s.value;switch(h){case"queries":i=i&&n;break;case"timers":i=i&&r;break;default:Object(l.a)(!1)}}}catch(d){o=!0,u=d}finally{try{a||null==f.return||f.return()}finally{if(o)throw u}}return i}}]),Object(s.a)(e,[{key:"beginTimeElapsedQuery",value:function(){return this.begin(35007)}},{key:"beginOcclusionQuery",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.conservative,n=void 0!==e&&e;return this.begin(n?36202:35887)}},{key:"beginTransformFeedbackQuery",value:function(){return this.begin(35976)}},{key:"begin",value:function(t){return this._queryPending||(this.target=t,this.gl.beginQuery(this.target,this.handle)),this}},{key:"end",value:function(){return this._queryPending||this.target&&(this.gl.endQuery(this.target),this.target=null,this._queryPending=!0),this}},{key:"isResultAvailable",value:function(){if(!this._queryPending)return!1;var t=this.gl.getQueryParameter(this.handle,34919);return t&&(this._queryPending=!1),t}},{key:"isTimerDisjoint",value:function(){return this.gl.getParameter(36795)}},{key:"getResult",value:function(){return this.gl.getQueryParameter(this.handle,34918)}},{key:"getTimerMilliseconds",value:function(){return this.getResult()/1e6}},{key:"createPoll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;var n=0;return this._pollingPromise=new Promise((function(r,i){requestAnimationFrame((function a(){t.isResultAvailable()?(r(t.getResult()),t._pollingPromise=null):n++>e?(i("Timed out"),t._pollingPromise=null):requestAnimationFrame(a)}))})),this._pollingPromise}},{key:"_createHandle",value:function(){return e.isSupported(this.gl)?this.gl.createQuery():null}},{key:"_deleteHandle",value:function(){this.gl.deleteQuery(this.handle)}}]),e}(g.a);function p(t){return"undefined"!=typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}var j=n("11Ib"),_=n("xSaR"),k=Object(_.isBrowser)()&&"undefined"!=typeof document,E=0,A=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.a)(this,t);var n=e.onCreateContext,r=void 0===n?function(t){return Object(c.a)(t)}:n,i=e.onAddHTML,a=void 0===i?null:i,o=e.onInitialize,s=void 0===o?function(){}:o,l=e.onRender,h=void 0===l?function(){}:l,d=e.onFinalize,b=void 0===d?function(){}:d,v=e.onError,g=e.gl,m=void 0===g?null:g,y=e.glOptions,O=void 0===y?{}:y,p=e.debug,j=void 0!==p&&p,_=e.createFramebuffer,k=void 0!==_&&_,A=e.autoResizeViewport,x=void 0===A||A,w=e.autoResizeDrawingBuffer,T=void 0===w||w,M=e.stats,L=void 0===M?f.a.get("animation-loop-".concat(E++)):M,S=e.useDevicePixels,P=void 0===S||S;"useDevicePixelRatio"in e&&(c.g.deprecated("useDevicePixelRatio","useDevicePixels")(),P=e.useDevicePixelRatio),this.props={onCreateContext:r,onAddHTML:a,onInitialize:s,onRender:h,onFinalize:b,onError:v,gl:m,glOptions:O,debug:j,createFramebuffer:k},this.gl=m,this.needsRedraw=null,this.timeline=null,this.stats=L,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:x,autoResizeDrawingBuffer:T,useDevicePixels:P}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}var e;return Object(s.a)(t,[{key:"delete",value:function(){this.stop(),this._setDisplay(null)}},{key:"setNeedsRedraw",value:function(t){return Object(l.a)("string"==typeof t),this.needsRedraw=this.needsRedraw||t,this}},{key:"setProps",value:function(t){return"autoResizeViewport"in t&&(this.autoResizeViewport=t.autoResizeViewport),"autoResizeDrawingBuffer"in t&&(this.autoResizeDrawingBuffer=t.autoResizeDrawingBuffer),"useDevicePixels"in t&&(this.useDevicePixels=t.useDevicePixels),this}},{key:"start",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;var n=this._getPageLoadPromise().then((function(){return!t._running||t._initialized?null:(t._createWebGLContext(e),t._createFramebuffer(),t._startEventHandling(),t._initializeCallbackData(),t._updateCallbackData(),t._resizeCanvasDrawingBuffer(),t._resizeViewport(),t._gpuTimeQuery=O.isSupported(t.gl,["timers"])?new O(t.gl):null,t._initialized=!0,t.onInitialize(t.animationProps))})).then((function(e){t._running&&(t._addCallbackData(e||{}),!1!==e&&t._startLoop())}));return this.props.onError&&n.catch(this.props.onError),this}},{key:"redraw",value:function(){return this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers(),this}},{key:"stop",value:function(){return this._running&&(this._finalizeCallbackData(),p(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}},{key:"attachTimeline",value:function(t){return this.timeline=t,this.timeline}},{key:"detachTimeline",value:function(){this.timeline=null}},{key:"waitForRender",value:function(){var t=this;return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((function(e){t._resolveNextFrame=e}))),this._nextFramePromise}},{key:"toDataURL",value:(e=Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setNeedsRedraw("toDataURL"),t.next=3,this.waitForRender();case 3:return t.abrupt("return",this.gl.canvas.toDataURL());case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"onCreateContext",value:function(){var t;return(t=this.props).onCreateContext.apply(t,arguments)}},{key:"onInitialize",value:function(){var t;return(t=this.props).onInitialize.apply(t,arguments)}},{key:"onRender",value:function(){var t;return(t=this.props).onRender.apply(t,arguments)}},{key:"onFinalize",value:function(){var t;return(t=this.props).onFinalize.apply(t,arguments)}},{key:"getHTMLControlValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=document.getElementById(t);return n?Number(n.value):e}},{key:"setViewParameters",value:function(){return c.g.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}},{key:"_startLoop",value:function(){var t=this;p(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame((function e(){t._running&&(t.redraw(),t._animationFrameId=t._requestAnimationFrame(e))}))}},{key:"_getPageLoadPromise",value:function(){return this._pageLoadPromise||(this._pageLoadPromise=k?new Promise((function(t,e){k&&"complete"===document.readyState?t(document):window.addEventListener("load",(function(){t(document)}))})):Promise.resolve({})),this._pageLoadPromise}},{key:"_setDisplay",value:function(t){this.display&&(this.display.delete(),this.display.animationLoop=null),t&&(t.animationLoop=this),this.display=t}},{key:"_requestAnimationFrame",value:function(t){var e;this.display&&this.display.requestAnimationFrame(t)||(e=t,"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1e3/60))}},{key:"_renderFrame",value:function(){var t;this.display?(t=this.display)._renderFrame.apply(t,arguments):this.onRender.apply(this,arguments)}},{key:"_clearNeedsRedraw",value:function(){this.needsRedraw=null}},{key:"_setupFrame",value:function(){this._onSetupFrame?this._onSetupFrame(this.animationProps):(this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer())}},{key:"_initializeCallbackData",value:function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}},{key:"_updateCallbackData",value:function(){var t=this._getSizeAndAspect(),e=t.width,n=t.height,r=t.aspect;e===this.animationProps.width&&n===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=n,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}},{key:"_finalizeCallbackData",value:function(){this.onFinalize(this.animationProps)}},{key:"_addCallbackData",value:function(t){"object"===Object(r.a)(t)&&null!==t&&(this.animationProps=Object.assign({},this.animationProps,t))}},{key:"_createWebGLContext",value:function(t){if(this.offScreen=t.canvas&&"undefined"!=typeof OffscreenCanvas&&t.canvas instanceof OffscreenCanvas,t=Object.assign({},t,this.props.glOptions),this.gl=this.props.gl?Object(c.d)(this.props.gl,t):this.onCreateContext(t),!Object(c.e)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");Object(c.h)(this.gl),this._createInfoDiv()}},{key:"_createInfoDiv",value:function(){if(this.gl.canvas&&this.props.onAddHTML){var t=document.createElement("div");document.body.appendChild(t),t.style.position="relative";var e=document.createElement("div");e.style.position="absolute",e.style.left="10px",e.style.bottom="10px",e.style.width="300px",e.style.background="white",t.appendChild(this.gl.canvas),t.appendChild(e);var n=this.props.onAddHTML(e);n&&(e.innerHTML=n)}}},{key:"_getSizeAndAspect",value:function(){var t=this.gl.drawingBufferWidth,e=this.gl.drawingBufferHeight,n=1,r=this.gl.canvas;return r&&r.clientHeight?n=r.clientWidth/r.clientHeight:t>0&&e>0&&(n=t/e),{width:t,height:e,aspect:n}}},{key:"_resizeViewport",value:function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}},{key:"_resizeCanvasDrawingBuffer",value:function(){this.autoResizeDrawingBuffer&&Object(c.i)(this.gl,{useDevicePixels:this.useDevicePixels})}},{key:"_createFramebuffer",value:function(){this.props.createFramebuffer&&(this.framebuffer=new j.a(this.gl))}},{key:"_resizeFramebuffer",value:function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}},{key:"_beginTimers",value:function(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}},{key:"_endTimers",value:function(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}},{key:"_startEventHandling",value:function(){var t=this.gl.canvas;t&&(t.addEventListener("mousemove",this._onMousemove),t.addEventListener("mouseleave",this._onMouseleave))}},{key:"_onMousemove",value:function(t){this.animationProps._mousePosition=[t.offsetX,t.offsetY]}},{key:"_onMouseleave",value:function(t){this.animationProps._mousePosition=null}}]),t}()},haqy:function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));n("m210"),n("4DPX"),n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi"),n("AqHK"),n("zGcK"),n("E5k/"),n("OeI1"),n("pJf4"),n("v9g0");var r=n("1OyB"),i=n("vuIU"),a=(n("sC2a"),n("HXzo"),n("YBKJ"),n("9ZhD"),n("Ll4R"),n("JHok"),n("sc67"),n("HQhv"),n("ODXe")),o=n("rePB"),u=n("rMhL"),s=(n("n7j8"),n("klQ5"),n("uzDn")),c=(n("MIFh"),n("U8pU")),f={number:{validate:function(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},array:{validate:function(t,e){return Array.isArray(t)||ArrayBuffer.isView(t)}}};function l(t){var e=h(t);return"object"===e?t?"type"in t?Object.assign({},t,f[t.type]):"value"in t?(e=h(t.value),Object.assign({type:e},t,f[e])):{type:"object",value:t}:{type:"object",value:null}:Object.assign({type:e,value:t},f[e])}function h(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":Object(c.a)(t)}var d=function(){function t(e){var n=e.name,i=e.vs,a=e.fs,o=e.dependencies,u=void 0===o?[]:o,c=e.uniforms,f=e.getUniforms,h=e.deprecations,d=void 0===h?[]:h,b=e.defines,v=void 0===b?{}:b,g=e.inject,m=void 0===g?{}:g,y=e.vertexShader,O=e.fragmentShader;Object(r.a)(this,t),Object(s.a)("string"==typeof n),this.name=n,this.vs=i||y,this.fs=a||O,this.getModuleUniforms=f,this.dependencies=u,this.deprecations=this._parseDeprecationDefinitions(d),this.defines=v,this.injections=function(t){var e={vs:{},fs:{}};for(var n in t){var r=t[n],i=n.slice(0,2);"string"==typeof r&&(r={injection:r}),e[i][n]=r}return e}(m),c&&(this.uniforms=function(t){var e={};for(var n in t){var r=l(t[n]);e[n]=r}return e}(c))}return Object(i.a)(t,[{key:"getModuleSource",value:function(t){var e;switch(t){case"vs":e=this.vs||"";break;case"fs":e=this.fs||"";break;default:Object(s.a)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(e,"// END MODULE_").concat(this.name,"\n\n")}},{key:"getUniforms",value:function(t,e){return this.getModuleUniforms?this.getModuleUniforms(t,e):this.uniforms?this._defaultGetUniforms(t):{}}},{key:"getDefines",value:function(){return this.defines}},{key:"checkDeprecations",value:function(t,e){this.deprecations.forEach((function(n){n.regex.test(t)&&(n.deprecated?e.deprecated(n.old,n.new)():e.removed(n.old,n.new)())}))}},{key:"_parseDeprecationDefinitions",value:function(t){return t.forEach((function(t){switch(t.type){case"function":t.regex=new RegExp("\\b".concat(t.old,"\\("));break;default:t.regex=new RegExp("".concat(t.type," ").concat(t.old,";"))}})),t}},{key:"_defaultGetUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={},n=this.uniforms;for(var r in n){var i=n[r];r in t&&!i.private?(i.validate&&Object(s.a)(i.validate(t[r],i),"".concat(this.name,": invalid ").concat(r)),e[r]=t[r]):e[r]=i.value}return e}}]),t}();function b(t){return v(function t(e,n){return e.map((function(e){return e instanceof d||(Object(s.a)("string"!=typeof e,"Shader module use by name is deprecated. Import shader module '".concat(e,"' and use it directly.")),Object(s.a)(e.name,"shader module has no name"),(e=new d(e)).dependencies=t(e.dependencies)),e}))}(t))}function v(t){var e={},n={};return g({modules:t,level:0,moduleMap:e,moduleDepth:n}),Object.keys(n).sort((function(t,e){return n[e]-n[t]})).map((function(t){return e[t]}))}function g(t){var e=t.modules,n=t.level,r=t.moduleMap,i=t.moduleDepth;if(n>=5)throw new Error("Possible loop in shader dependency graph");var a=!0,o=!1,u=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;r[f.name]=f,(void 0===i[f.name]||i[f.name]<n)&&(i[f.name]=n)}}catch(y){o=!0,u=y}finally{try{a||null==c.return||c.return()}finally{if(o)throw u}}var l=!0,h=!1,d=void 0;try{for(var b,v=e[Symbol.iterator]();!(l=(b=v.next()).done);l=!0){var m=b.value;m.dependencies&&g({modules:m.dependencies,level:n+1,moduleMap:r,moduleDepth:i})}}catch(y){h=!0,d=y}finally{try{l||null==v.return||v.return()}finally{if(h)throw d}}}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="undefined"!=typeof window&&window.navigator||{},n=t.userAgent||e.userAgent||"",r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i}var y={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},O={};Object.keys(y).forEach((function(t){O[t]=t}));var p={};function j(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=y[e];if(Object(s.a)(r,e),!m(n))return!0;if(e in p)return p[e];var i=r[0],a=n.behavior||"enable",o="#extension GL_".concat(i," : ").concat(a,"\nvoid main(void) {}"),u=t.createShader(35633);t.shaderSource(u,o),t.compileShader(u);var c=t.getShaderParameter(u,35713);return t.deleteShader(u),p[e]=c,c}function _(t,e){var n=y[e];Object(s.a)(n,e);var r=function(t){return Boolean(t&&2===t._version)}(t)&&n[1]||n[0],i="string"==typeof r?Boolean(t.getExtension(r)):r;return Object(s.a)(!1===i||!0===i),i}function k(t,e){return(e=Array.isArray(e)?e:[e]).every((function(e){return _(t,e)}))}var E=n("rpxL");function A(t,e,n){switch(e){case 300:return n?function(t){return t.replace(/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n").replace(/^[ \t]*attribute[ \t]+(.+;)/gm,"in $1").replace(/^[ \t]*varying[ \t]+(.+;)/gm,"out $1").replace(/\btexture2D\(/g,"texture(").replace(/\btextureCube\(+/g,"texture(").replace(/\btexture2DLodEXT\(/g,"textureLod(").replace(/\btextureCubeLodEXT\(/g,"textureLod(")}(t):function(t){return t.replace(/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n").replace(/^[ \t]*varying[ \t]+(.+;)/gm,"in $1").replace(/\btexture2D\(/g,"texture(").replace(/\btextureCube\(/g,"texture(").replace(/\btexture2DLodEXT\(/g,"textureLod(").replace(/\btextureCubeLodEXT\(/g,"textureLod(")}(t);case 100:return n?function(t){return t.replace(/^#version[ \t]+300[ \t]+es/,"#version 100").replace(/^[ \t]*in[ \t]+(.+;)/gm,"attribute $1").replace(/^[ \t]*out[ \t]+(.+;)/gm,"varying $1").replace(/\btexture\(/g,"texture2D(").replace(/\btextureLod\(/g,"texture2DLodEXT(")}(t):function(t){var e=(t=t.replace(/^#version[ \t]+300[ \t]+es/,"#version 100").replace(/^[ \t]*in[ \t]+/gm,"varying ").replace(/\btexture\(/g,"texture2D(").replace(/\btextureLod\(/g,"texture2DLodEXT(")).match(w);if(e){var n=e[1];t=t.replace(w,"").replace(new RegExp("\\b".concat(n,"\\b"),"g"),"gl_FragColor")}return t}(t);default:throw new Error("unknown GLSL version ".concat(e))}}var x,w=/^[ \t]*out[ \t]+vec4[ \t]+(\w+)[ \t]*;\s+/m;var T="\n\n".concat(E.a,"\n\n"),M=(x={},Object(o.a)(x,u.b,"vertex"),Object(o.a)(x,u.a,"fragment"),x);function L(t,e){var n=e.vs,r=e.fs,i=b(e.modules||[]);return{gl:t,vs:S(t,Object.assign({},e,{source:n,type:u.b,modules:i})),fs:S(t,Object.assign({},e,{source:r,type:u.a,modules:i})),getUniforms:P(i)}}function S(t,e){var n=e.id,r=e.source,i=e.type,o=e.modules,c=e.defines,f=void 0===c?{}:c,l=e.hookFunctions,h=void 0===l?[]:l,d=e.inject,b=void 0===d?{}:d,v=e.transpileToGLSL100,g=void 0!==v&&v,m=e.prologue,y=void 0===m||m,p=e.log;Object(s.a)("string"==typeof r,"shader source must be a string");var _=i===u.b,x=r.split("\n"),w=100,L="",S=r;0===x[0].indexOf("#version ")?(w=300,L=x[0],S=x.slice(1).join("\n")):L="#version ".concat(w);var P={};o.forEach((function(t){Object.assign(P,t.getDefines())})),Object.assign(P,f);var I=y?"".concat(L,"\n").concat(function(t){var e=t.id,n=t.source,r=t.type;return e&&"string"==typeof e&&-1===n.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(e,"_").concat(M[r],"\n\n"):""}({id:n,source:r,type:i}),"\n").concat(function(t){var e=t.type;return"\n#define SHADER_TYPE_".concat(M[e].toUpperCase(),"\n")}({type:i}),"\n").concat(function(t){switch(function(t){var e=t.getExtension("WEBGL_debug_renderer_info"),n=t.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||7936),r=t.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||7937);return{gpuVendor:function(t,e){if(t.match(/NVIDIA/i)||e.match(/NVIDIA/i))return"NVIDIA";if(t.match(/INTEL/i)||e.match(/INTEL/i))return"INTEL";if(t.match(/AMD/i)||e.match(/AMD/i)||t.match(/ATI/i)||e.match(/ATI/i))return"AMD";return"UNKNOWN GPU"}(n,r),vendor:n,renderer:r,version:t.getParameter(7938),shadingLanguageVersion:t.getParameter(35724)}}(t).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(t),"\n").concat(function(t,e,n){var r="#if (__VERSION__ > 120)\n\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return k(t,O.GLSL_FRAG_DEPTH)&&(r+="// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),k(t,O.GLSL_DERIVATIVES)&&j(t,O.GLSL_DERIVATIVES)&&(r+="// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define DERIVATIVES\n#endif\n"),k(t,O.GLSL_FRAG_DATA)&&j(t,O.GLSL_FRAG_DATA,{behavior:"require"})&&(r+="// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define DRAW_BUFFERS\n#endif\n"),k(t,O.GLSL_TEXTURE_LOD)&&(r+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n# define TEXTURE_LOD\n#define texture2DLod texture2DLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define textureCubeLod textureCubeLodEXT\n#define texture2DGrad texture2DGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define textureCubeGrad textureCubeGradEXT\n#endif\n"),r}(t),"\n").concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,n="";for(var r in t){0===e&&(n+="\n// APPLICATION DEFINES\n"),e++;var i=t[r];(i||Number.isFinite(i))&&(n+="#define ".concat(r.toUpperCase()," ").concat(t[r],"\n"))}0===e&&(n+="\n");return n}(P),"\n").concat(_?"":"precision highp float;\n\n","\n"):"".concat(L,"\n");h=function(t){var e={vs:{},fs:{}};return t.forEach((function(t){var n;"string"!=typeof t?t=(n=t).hook:n={};var r=(t=t.trim()).split(":"),i=Object(a.a)(r,2),o=i[0],u=i[1],s=t.replace(/\(.+/,"");e[o][s]=Object.assign(n,{signature:u})})),e}(h);var R={},F={},D={};for(var B in b){var N="string"==typeof b[B]?{injection:b[B],order:0}:b[B],C=B.match(/^(v|f)s:(#)?([\w-]+)$/);if(C){var U=C[2],G=C[3];U?"decl"===G?F[B]=[N]:D[B]=[N]:R[B]=[N]}else D[B]=[N]}var V=!0,z=!1,H=void 0;try{for(var X,W=o[Symbol.iterator]();!(V=(X=W.next()).done);V=!0){var q=X.value;p&&q.checkDeprecations(S,p),I+=q.getModuleSource(i,w);var Y=q.injections[i];for(var J in Y){var K=J.match(/^(v|f)s:#([\w-]+)$/);if(K){var Q="decl"===K[2]?F:D;Q[J]=Q[J]||[],Q[J].push(Y[J])}else R[J]=R[J]||[],R[J].push(Y[J])}}}catch(Z){z=!0,H=Z}finally{try{V||null==W.return||W.return()}finally{if(z)throw H}}return I+=T,I=Object(E.c)(I,i,F),I+=function(t,e){var n="";for(var r in t){var i=t[r];if(n+="void ".concat(i.signature," {\n"),i.header&&(n+="  ".concat(i.header)),e[r]){var a=e[r];a.sort((function(t,e){return t.order-e.order}));var o=!0,u=!1,s=void 0;try{for(var c,f=a[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var l=c.value;n+="  ".concat(l.injection,"\n")}}catch(Z){u=!0,s=Z}finally{try{o||null==f.return||f.return()}finally{if(u)throw s}}}i.footer&&(n+="  ".concat(i.footer)),n+="}\n"}return n}(h[i],R),I+=S,I=A(I=Object(E.c)(I,i,D),g?100:w,_)}function P(t){return function(e){var n={},r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value.getUniforms(e,n);Object.assign(n,s)}}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}var I=n("OklE"),R=function(){function t(e){Object(r.a)(this,t),this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}return Object(i.a)(t,null,[{key:"getDefaultProgramManager",value:function(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new t(e),e.luma.defaultProgramManager}}]),Object(i.a)(t,[{key:"addDefaultModule",value:function(t){this._defaultModules.find((function(e){return e.name===t.name}))||this._defaultModules.push(t),this.stateHash++}},{key:"removeDefaultModule",value:function(t){var e="string"==typeof t?t:t.name;this._defaultModules=this._defaultModules.filter((function(t){return t.name!==e})),this.stateHash++}},{key:"addShaderHook",value:function(t,e){e&&(t=Object.assign(e,{hook:t})),this._hookFunctions.push(t),this.stateHash++}},{key:"get",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.vs,r=void 0===n?"":n,i=e.fs,a=void 0===i?"":i,o=e.defines,u=void 0===o?{}:o,s=e.inject,c=void 0===s?{}:s,f=e.varyings,l=void 0===f?[]:f,h=e.bufferMode,d=void 0===h?35981:h,b=e.transpileToGLSL100,v=void 0!==b&&b,g=this._getModuleList(e.modules),m=this._getHash(r),y=this._getHash(a),O=g.map((function(e){return t._getHash(e.name)})).sort(),p=l.map((function(e){return t._getHash(e)})),j=Object.keys(u).sort(),_=Object.keys(c).sort(),k=[],E=[],A=!0,x=!1,w=void 0;try{for(var T,M=j[Symbol.iterator]();!(A=(T=M.next()).done);A=!0){var S=T.value;k.push(this._getHash(S)),k.push(this._getHash(u[S]))}}catch(G){x=!0,w=G}finally{try{A||null==M.return||M.return()}finally{if(x)throw w}}var P=!0,R=!1,F=void 0;try{for(var D,B=_[Symbol.iterator]();!(P=(D=B.next()).done);P=!0){var N=D.value;E.push(this._getHash(N)),E.push(this._getHash(c[N]))}}catch(G){R=!0,F=G}finally{try{P||null==B.return||B.return()}finally{if(R)throw F}}var C="".concat(m,"/").concat(y,"D").concat(k.join("/"),"M").concat(O.join("/"),"I").concat(E.join("/"),"V").concat(p.join("/"),"H").concat(this.stateHash,"B").concat(d).concat(v?"T":"");if(!this._programCache[C]){var U=L(this.gl,{vs:r,fs:a,modules:g,inject:c,defines:u,hookFunctions:this._hookFunctions,transpileToGLSL100:v});this._programCache[C]=new I.a(this.gl,{hash:C,vs:U.vs,fs:U.fs,varyings:l,bufferMode:d}),this._getUniforms[C]=U.getUniforms||function(t){},this._useCounts[C]=0}return this._useCounts[C]++,this._programCache[C]}},{key:"getUniforms",value:function(t){return this._getUniforms[t.hash]||null}},{key:"release",value:function(t){var e=t.hash;this._useCounts[e]--,0===this._useCounts[e]&&(this._programCache[e].delete(),delete this._programCache[e],delete this._getUniforms[e],delete this._useCounts[e])}},{key:"_getHash",value:function(t){return void 0===this._hashes[t]&&(this._hashes[t]=this._hashCounter++),this._hashes[t]}},{key:"_getModuleList",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=new Array(this._defaultModules.length+t.length),n={},r=0,i=0,a=this._defaultModules.length;i<a;++i){var o=this._defaultModules[i],u=o.name;e[r++]=o,n[u]=!0}for(var s=0,c=t.length;s<c;++s){var f=t[s],l=f.name;n[l]||(e[r++]=f,n[l]=!0)}return e.length=r,e}}]),t}()},iein:function(t,e,n){"use strict";n.d(e,"j",(function(){return r.c})),n.d(e,"h",(function(){return r.b})),n.d(e,"k",(function(){return r.d})),n.d(e,"a",(function(){return f})),n.d(e,"i",(function(){return h})),n.d(e,"d",(function(){return l})),n.d(e,"g",(function(){return o.i})),n.d(e,"c",(function(){return o.c})),n.d(e,"b",(function(){return o.b})),n.d(e,"e",(function(){return o.g})),n.d(e,"f",(function(){return o.h}));n("Hogv");var r=n("gXd2"),i=n("9Q0L"),a=(n("YBKJ"),n("9ZhD"),n("E5k/"),n("xSaR")),o=n("g6k1"),u=Object(a.isBrowser)(),s=u&&"undefined"!=typeof document,c={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(u,"createGLContext on available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils");var e,n=t=Object.assign({},c,t),r=n.width,i=n.height;function a(e){if(t.throwOnError)throw new Error(e);return console.error(e),null}t.onError=a;var s=t,f=s.canvas,h=b({canvas:f,width:r,height:i,onError:a});return(e=d(h,t))?(v(e=l(e,t)),e):null}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||t._instrumented)return t;t._version=t._version||g(t),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{};var n=e=Object.assign({},c,e),r=n.manageState,s=n.debug;return r&&Object(i.a)(t,{copyState:!1,log:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.i.log.apply(o.i,[1].concat(e))()}}),u&&s&&(a.global.makeDebugContext?(t=a.global.makeDebugContext(t,e),o.i.level=Math.max(o.i.level,1)):o.i.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),t._instrumented=!0,t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.canvas){var n=Object(o.e)(e.useDevicePixels);m(t,n,e)}else{var r=t.getExtension("STACKGL_resize_drawingbuffer");r&&"width"in e&&"height"in e&&r.resize(e.width,e.height)}}function d(t,e){var n=e.onError,r=function(t){return n("WebGL context: ".concat(t.statusMessage||"error"))};t.addEventListener("webglcontextcreationerror",r,!1);var i=e.webgl1,a=void 0===i||i,o=e.webgl2,u=void 0===o||o,s=null;return u&&(s=(s=s||t.getContext("webgl2",e))||t.getContext("experimental-webgl2",e)),a&&(s=(s=s||t.getContext("webgl",e))||t.getContext("experimental-webgl",e)),t.removeEventListener("webglcontextcreationerror",r,!1),s||n("Failed to create ".concat(u&&!a?"WebGL2":"WebGL"," context"))}function b(t){var e,n=t.canvas,r=t.width,i=void 0===r?800:r,a=t.height,o=void 0===a?600:a,u=t.onError;"string"==typeof n?(s&&"complete"===document.readyState||u("createGLContext called on canvas '".concat(n,"' before page was loaded")),e=document.getElementById(n)):n?e=n:((e=document.createElement("canvas")).id="lumagl-canvas",e.style.width=Number.isFinite(i)?"".concat(i,"px"):"100%",e.style.height=Number.isFinite(o)?"".concat(o,"px"):"100%",document.body.insertBefore(e,document.body.firstChild));return e}function v(t){var e=Object(o.h)(t)?"WebGL2":"WebGL1",n=function(t){var e=t.getParameter(7936),n=t.getParameter(7937),r=t.getExtension("WEBGL_debug_renderer_info");return{vendor:r&&t.getParameter(r.UNMASKED_VENDOR_WEBGL||7936)||e,renderer:r&&t.getParameter(r.UNMASKED_RENDERER_WEBGL||7937)||n,vendorMasked:e,rendererMasked:n,version:t.getParameter(7938),shadingLanguageVersion:t.getParameter(35724)}}(t),r=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",i=t.debug?" debug":"";o.i.info(1,"".concat(e).concat(i," context ").concat(r))()}function g(t){return"undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext?2:1}function m(t,e,n){var r="width"in n?n.width:t.canvas.clientWidth,i="height"in n?n.height:t.canvas.clientHeight;r&&i||(o.i.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,r=t.canvas.width||1,i=t.canvas.height||1),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{};var a=t.luma.canvasSizeInfo;if(a.clientWidth!==r||a.clientHeight!==i||a.devicePixelRatio!==e){var u=e,s=Math.floor(r*u),c=Math.floor(i*u);t.canvas.width=s,t.canvas.height=c,t.drawingBufferWidth===s&&t.drawingBufferHeight===c||(o.i.warn("Device pixel ratio clamped")(),u=Math.min(t.drawingBufferWidth/r,t.drawingBufferHeight/i),t.canvas.width=Math.floor(r*u),t.canvas.height=Math.floor(i*u)),Object.assign(t.luma.canvasSizeInfo,{clientWidth:r,clientHeight:i,devicePixelRatio:e})}}},jWbo:function(t,e,n){"use strict";(function(t,r){n("R48M");var i=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.console=e.process=e.document=e.global=e.window=e.self=void 0;var a=i(n("cDf5")),o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t,document:"undefined"!=typeof document&&document,process:"object"===(void 0===r?"undefined":(0,a.default)(r))&&r},u=o.self||o.window||o.global;e.self=u;var s=o.window||o.self||o.global;e.window=s;var c=o.global||o.self||o.window;e.global=c;var f=o.document||{};e.document=f;var l=o.process||{};e.process=l;var h=console;e.console=h}).call(this,n("yLpj"),n("8oxB"))},kHIg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("foSv"),i=n("s4An");var a=n("RHh3");function o(t){var e="function"==typeof Map?new Map:void 0;return(o=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return Object(a.a)(t,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,t)})(t)}},l6PP:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));n("sc67"),n("YBKJ"),n("9ZhD"),n("E5k/"),n("6kNP"),n("8npG");var r=n("1OyB"),i=n("md7G"),a=n("foSv"),o=n("vuIU"),u=n("Ji7U"),s=n("L8KH"),c=n("sc/6"),f=n("uYBD"),l=n("iein"),h=n("xSaR"),d=n("SUVH"),b=n("VdrS"),v=n("CxzY"),g=[9729,9728],m=h.global.WebGLBuffer||function(){},y=function(t){function e(t,n){var o;Object(r.a)(this,e);var u=n.id,s=void 0===u?Object(b.c)("texture"):u,c=n.handle,f=n.target;return(o=Object(i.a)(this,Object(a.a)(e).call(this,t,{id:s,handle:c}))).target=f,o.textureUnit=void 0,o.loaded=!1,o.width=void 0,o.height=void 0,o.depth=void 0,o.format=void 0,o.type=void 0,o.dataFormat=void 0,o.border=void 0,o.textureUnit=void 0,o.mipmaps=void 0,o}return Object(u.a)(e,t),Object(o.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.format,r=e.linearFiltering,i=!0;return n&&(i=(i=i&&Object(f.d)(t,n))&&(!r||Object(f.e)(t,n))),i}}]),Object(o.a)(e,[{key:"toString",value:function(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}},{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.data;if(n instanceof Promise)return n.then((function(n){return t.initialize(Object.assign({},e,{pixels:n,data:n}))})),this;var r=e.pixels,i=void 0===r?null:r,a=e.format,o=void 0===a?6408:a,u=e.border,s=void 0===u?0:u,c=e.recreate,f=void 0!==c&&c,h=e.parameters,d=void 0===h?{}:h,b=e.pixelStore,v=void 0===b?{}:b,g=e.textureUnit,m=void 0===g?void 0:g,y=e.mipmaps,O=void 0===y||y;n||(n=i);var p=e.width,j=e.height,_=e.dataFormat,k=e.type,E=e.depth,A=void 0===E?0:E,x=this._deduceParameters({format:o,type:k,dataFormat:_,compressed:!1,data:n,width:p,height:j});return p=x.width,j=x.height,_=x.dataFormat,k=x.type,this.width=p,this.height=j,this.depth=A,this.format=o,this.type=k,this.dataFormat=_,this.border=s,this.textureUnit=m,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),O&&this._isNPOT()&&(l.g.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),O=!1,this._updateForNPOT(d)),this.mipmaps=O,this.setImageData({data:n,width:p,height:j,depth:A,format:o,type:k,dataFormat:_,border:s,mipmaps:O,parameters:v}),O&&this.generateMipmap(),this.setParameters(d),f&&(this.data=n),this}},{key:"resize",value:function(t){var e=t.height,n=t.width,r=t.mipmaps,i=void 0!==r&&r;return n!==this.width||e!==this.height?this.initialize({width:n,height:e,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:i}):this}},{key:"generateMipmap",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(l.g.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Object(l.k)(this.gl,e,(function(){t.gl.generateMipmap(t.target)})),this.gl.bindTexture(this.target,null),this)}},{key:"setImageData",value:function(t){this._trackDeallocatedMemory("Texture");var e=t.target,n=void 0===e?this.target:e,r=t.pixels,i=void 0===r?null:r,a=t.level,o=void 0===a?0:a,u=t.format,s=void 0===u?this.format:u,c=t.border,h=void 0===c?this.border:c,b=t.offset,g=void 0===b?0:b,m=t.parameters,y=void 0===m?{}:m,O=t.data,p=void 0===O?null:O,j=t.type,_=void 0===j?this.type:j,k=t.width,E=void 0===k?this.width:k,A=t.height,x=void 0===A?this.height:A,w=t.dataFormat,T=void 0===w?this.dataFormat:w,M=t.compressed,L=void 0!==M&&M;p||(p=i);var S=this._deduceParameters({format:s,type:_,dataFormat:T,compressed:L,data:p,width:E,height:x});_=S.type,T=S.dataFormat,L=S.compressed,E=S.width,x=S.height;var P=this.gl;P.bindTexture(this.target,this.handle);var I,R=this._getDataType({data:p,compressed:L});if(p=R.data,I=R.dataType,Object(l.k)(this.gl,y,(function(){switch(I){case"null":P.texImage2D(n,o,s,E,x,h,T,_,p);break;case"typed-array":P.texImage2D(n,o,s,E,x,h,T,_,p,g);break;case"buffer":Object(d.a)(P),P.bindBuffer(35052,p.handle||p),P.texImage2D(n,o,s,E,x,h,T,_,g),P.bindBuffer(35052,null);break;case"browser-object":Object(l.f)(P)?P.texImage2D(n,o,s,E,x,h,T,_,p):P.texImage2D(n,o,s,T,_,p);break;case"compressed":P.compressedTexImage2D(n,o,s,E,x,h,p);break;default:Object(v.a)(!1,"Unknown image data type")}})),p&&p.byteLength)this._trackAllocatedMemory(p.byteLength,"Texture");else{var F=f.a[this.dataFormat]||4,D=f.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*F*D,"Texture")}return this.loaded=!0,this}},{key:"setSubImageData",value:function(t){var e=this,n=t.target,r=void 0===n?this.target:n,i=t.pixels,a=void 0===i?null:i,o=t.data,u=void 0===o?null:o,s=t.x,f=void 0===s?0:s,h=t.y,b=void 0===h?0:h,g=t.width,y=void 0===g?this.width:g,O=t.height,p=void 0===O?this.height:O,j=t.level,_=void 0===j?0:j,k=t.format,E=void 0===k?this.format:k,A=t.type,x=void 0===A?this.type:A,w=t.dataFormat,T=void 0===w?this.dataFormat:w,M=t.compressed,L=void 0!==M&&M,S=t.offset,P=void 0===S?0:S,I=t.border,R=(void 0===I&&this.border,t.parameters),F=void 0===R?{}:R,D=this._deduceParameters({format:E,type:x,dataFormat:T,compressed:L,data:u,width:y,height:p});if(x=D.type,T=D.dataFormat,L=D.compressed,y=D.width,p=D.height,Object(v.a)(0===this.depth,"texSubImage not supported for 3D textures"),u||(u=a),u&&u.data){var B=u;u=B.data,y=B.shape[0],p=B.shape[1]}u instanceof c.a&&(u=u.handle),this.gl.bindTexture(this.target,this.handle),Object(l.k)(this.gl,F,(function(){L?e.gl.compressedTexSubImage2D(r,_,f,b,y,p,E,u):null===u?e.gl.texSubImage2D(r,_,f,b,y,p,T,x,null):ArrayBuffer.isView(u)?e.gl.texSubImage2D(r,_,f,b,y,p,T,x,u,P):u instanceof m?(Object(d.a)(e.gl),e.gl.bindBuffer(35052,u),e.gl.texSubImage2D(r,_,f,b,y,p,T,x,P),e.gl.bindBuffer(35052,null)):Object(l.f)(e.gl)?e.gl.texSubImage2D(r,_,f,b,y,p,T,x,u):e.gl.texSubImage2D(r,_,f,b,T,x,u)})),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function(){return l.g.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(34016)-33984}},{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,e=this.gl;return void 0!==t&&(this.textureUnit=t,e.activeTexture(33984+t)),e.bindTexture(this.target,this.handle),t}},{key:"unbind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,e=this.gl;return void 0!==t&&(this.textureUnit=t,e.activeTexture(33984+t)),e.bindTexture(this.target,null),t}},{key:"_getDataType",value:function(t){var e=t.data,n=t.compressed;return void 0!==n&&n?{data:e,dataType:"compressed"}:null===e?{data:e,dataType:"null"}:ArrayBuffer.isView(e)?{data:e,dataType:"typed-array"}:e instanceof c.a?{data:e.handle,dataType:"buffer"}:e instanceof m?{data:e,dataType:"buffer"}:{data:e,dataType:"browser-object"}}},{key:"_deduceParameters",value:function(t){var e=t.format,n=t.data,r=t.width,i=t.height,a=t.dataFormat,o=t.type,u=t.compressed,s=f.b[e];a=a||s&&s.dataFormat,o=o||s&&s.types[0],u=u||s&&s.compressed;var c=this._deduceImageSize(n,r,i);return{dataFormat:a,type:o,compressed:u,width:r=c.width,height:i=c.height,format:e,data:n}}},{key:"_deduceImageSize",value:function(t,e,n){var r;return r="undefined"!=typeof ImageData&&t instanceof ImageData?{width:t.width,height:t.height}:"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement?{width:t.naturalWidth,height:t.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?{width:t.width,height:t.height}:"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t?{width:e,height:n}:{width:e>=0?e:1,height:n>=0?n:1},Object(v.a)(r,"Could not deduced texture size"),Object(v.a)(void 0===e||r.width===e,"Deduced texture width does not match supplied width"),Object(v.a)(void 0===n||r.height===n,"Deduced texture height does not match supplied height"),r}},{key:"_createHandle",value:function(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}},{key:"_getParameter",value:function(t){switch(t){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);var e=this.gl.getTexParameter(this.target,t);return this.gl.bindTexture(this.target,null),e}}},{key:"_setParameter",value:function(t,e){switch(this.gl.bindTexture(this.target,this.handle),e=this._getNPOTParam(t,e),t){case 33082:case 33083:this.gl.texParameterf(this.handle,t,e);break;case 4096:case 4097:Object(v.a)(!1);break;default:this.gl.texParameteri(this.target,t,e)}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function(){return!Object(l.f)(this.gl)&&(!(!this.width||!this.height)&&(!Object(b.b)(this.width)||!Object(b.b)(this.height)))}},{key:"_updateForNPOT",value:function(t){void 0===t[this.gl.TEXTURE_MIN_FILTER]&&(t[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===t[this.gl.TEXTURE_WRAP_S]&&(t[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===t[this.gl.TEXTURE_WRAP_T]&&(t[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function(t,e){if(this._isNPOT())switch(t){case 10241:-1===g.indexOf(e)&&(e=9729);break;case 10242:case 10243:33071!==e&&(e=33071)}return e}}]),e}(s.a)},"n+fv":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"g",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return f})),n.d(e,"o",(function(){return l})),n.d(e,"n",(function(){return h})),n.d(e,"p",(function(){return d})),n.d(e,"j",(function(){return b})),n.d(e,"k",(function(){return v})),n.d(e,"l",(function(){return g})),n.d(e,"a",(function(){return m})),n.d(e,"m",(function(){return O})),n.d(e,"f",(function(){return p}));n("CczQ"),n("5irr");var r=n("yU0y");function i(){var t=new r.a(3);return r.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function a(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function o(t,e,n){var i=new r.a(3);return i[0]=t,i[1]=e,i[2]=n,i}function u(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function s(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function c(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function f(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],u=n[1],s=n[2];return t[0]=i*s-a*u,t[1]=a*o-r*s,t[2]=r*u-i*o,t}function l(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}function h(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}function d(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],u=e[0],s=e[1],c=e[2],f=i*c-a*s,l=a*u-r*c,h=r*s-i*u,d=i*h-a*l,b=a*f-r*h,v=r*l-i*f,g=2*o;return f*=g,l*=g,h*=g,d*=2,b*=2,v*=2,t[0]=u+f+d,t[1]=s+l+b,t[2]=c+h+v,t}function b(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function v(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function g(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function m(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],u=e[2],s=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(a*a+o*o+u*u),f=s&&c(t,e)/s;return Math.acos(Math.min(Math.max(f,-1),1))}var y,O=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},p=a;y=i()},n4Ve:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));n("ofTv");var r,i=n("1OyB"),a=n("md7G"),o=n("foSv"),u=n("JX7q"),s=n("vuIU"),c=n("Ji7U"),f=n("L8KH"),l=n("rePB"),h="EXT_color_buffer_float",d=(r={},Object(l.a)(r,33189,{bpp:2}),Object(l.a)(r,33190,{gl2:!0,bpp:3}),Object(l.a)(r,36012,{gl2:!0,bpp:4}),Object(l.a)(r,36168,{bpp:1}),Object(l.a)(r,34041,{bpp:4}),Object(l.a)(r,35056,{gl2:!0,bpp:4}),Object(l.a)(r,36013,{gl2:!0,bpp:5}),Object(l.a)(r,32854,{bpp:2}),Object(l.a)(r,36194,{bpp:2}),Object(l.a)(r,32855,{bpp:2}),Object(l.a)(r,33321,{gl2:!0,bpp:1}),Object(l.a)(r,33330,{gl2:!0,bpp:1}),Object(l.a)(r,33329,{gl2:!0,bpp:1}),Object(l.a)(r,33332,{gl2:!0,bpp:2}),Object(l.a)(r,33331,{gl2:!0,bpp:2}),Object(l.a)(r,33334,{gl2:!0,bpp:4}),Object(l.a)(r,33333,{gl2:!0,bpp:4}),Object(l.a)(r,33323,{gl2:!0,bpp:2}),Object(l.a)(r,33336,{gl2:!0,bpp:2}),Object(l.a)(r,33335,{gl2:!0,bpp:2}),Object(l.a)(r,33338,{gl2:!0,bpp:4}),Object(l.a)(r,33337,{gl2:!0,bpp:4}),Object(l.a)(r,33340,{gl2:!0,bpp:8}),Object(l.a)(r,33339,{gl2:!0,bpp:8}),Object(l.a)(r,32849,{gl2:!0,bpp:3}),Object(l.a)(r,32856,{gl2:!0,bpp:4}),Object(l.a)(r,32857,{gl2:!0,bpp:4}),Object(l.a)(r,36220,{gl2:!0,bpp:4}),Object(l.a)(r,36238,{gl2:!0,bpp:4}),Object(l.a)(r,36975,{gl2:!0,bpp:4}),Object(l.a)(r,36214,{gl2:!0,bpp:8}),Object(l.a)(r,36232,{gl2:!0,bpp:8}),Object(l.a)(r,36226,{gl2:!0,bpp:16}),Object(l.a)(r,36208,{gl2:!0,bpp:16}),Object(l.a)(r,33325,{gl2:h,bpp:2}),Object(l.a)(r,33327,{gl2:h,bpp:4}),Object(l.a)(r,34842,{gl2:h,bpp:8}),Object(l.a)(r,33326,{gl2:h,bpp:4}),Object(l.a)(r,33328,{gl2:h,bpp:8}),Object(l.a)(r,34836,{gl2:h,bpp:16}),Object(l.a)(r,35898,{gl2:h,bpp:4}),r),b=n("iein"),v=n("CxzY");function g(t,e,n){var r=n[e];if(!r)return!1;var i=Object(b.f)(t)&&r.gl2||r.gl1;return"string"==typeof i?t.getExtension(i):i}var m=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,e),(n=Object(a.a)(this,Object(o.a)(e).call(this,t,r))).initialize(r),Object.seal(Object(u.a)(n)),n}return Object(c.a)(e,t),Object(s.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.format;return!n||g(t,n,d)}},{key:"getSamplesForFormat",value:function(t,e){var n=e.format;return t.getInternalformatParameter(36161,n,32937)}}]),Object(s.a)(e,[{key:"initialize",value:function(t){var e=t.format,n=t.width,r=void 0===n?1:n,i=t.height,a=void 0===i?1:i,o=t.samples,u=void 0===o?0:o;return Object(v.a)(e,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==u&&Object(b.f)(this.gl)?this.gl.renderbufferStorageMultisample(36161,u,e,r,a):this.gl.renderbufferStorage(36161,e,r,a),this.format=e,this.width=r,this.height=a,this.samples=u,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*d[this.format].bpp),this}},{key:"resize",value:function(t){var e=t.width,n=t.height;return e!==this.width||n!==this.height?this.initialize({width:e,height:n,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_bindHandle",value:function(t){this.gl.bindRenderbuffer(36161,t)}},{key:"_syncHandle",value:function(t){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function(t){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,t)}}]),e}(f.a)},oejM:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return f}));var r,i=n("ODXe"),a=n("rePB"),o=n("CxzY"),u=(r={},Object(a.a)(r,5126,[5126,1,"float"]),Object(a.a)(r,35664,[5126,2,"vec2"]),Object(a.a)(r,35665,[5126,3,"vec3"]),Object(a.a)(r,35666,[5126,4,"vec4"]),Object(a.a)(r,5124,[5124,1,"int"]),Object(a.a)(r,35667,[5124,2,"ivec2"]),Object(a.a)(r,35668,[5124,3,"ivec3"]),Object(a.a)(r,35669,[5124,4,"ivec4"]),Object(a.a)(r,5125,[5125,1,"uint"]),Object(a.a)(r,36294,[5125,2,"uvec2"]),Object(a.a)(r,36295,[5125,3,"uvec3"]),Object(a.a)(r,36296,[5125,4,"uvec4"]),Object(a.a)(r,35670,[5126,1,"bool"]),Object(a.a)(r,35671,[5126,2,"bvec2"]),Object(a.a)(r,35672,[5126,3,"bvec3"]),Object(a.a)(r,35673,[5126,4,"bvec4"]),Object(a.a)(r,35674,[5126,8,"mat2"]),Object(a.a)(r,35685,[5126,8,"mat2x3"]),Object(a.a)(r,35686,[5126,8,"mat2x4"]),Object(a.a)(r,35675,[5126,12,"mat3"]),Object(a.a)(r,35687,[5126,12,"mat3x2"]),Object(a.a)(r,35688,[5126,12,"mat3x4"]),Object(a.a)(r,35676,[5126,16,"mat4"]),Object(a.a)(r,35689,[5126,16,"mat4x2"]),Object(a.a)(r,35690,[5126,16,"mat4x3"]),r);function s(t){switch(t){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return Object(o.a)(!1),0}}function c(t){var e=u[t];if(!e)return null;var n=Object(i.a)(e,2);return{type:n[0],components:n[1]}}function f(t,e){switch(t){case 5120:case 5121:case 5122:case 5123:t=5126}for(var n in u){var r=Object(i.a)(u[n],3),a=r[0],o=r[1],s=r[2];if(a===t&&o===e)return{glType:n,name:s}}return null}},p7wt:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return c}));n("OeI1"),n("9ZhD"),n("YBKJ"),n("m5Zt"),n("n7j8"),n("sc/6");var r=n("11Ib"),i=(n("l6PP"),n("iein"),n("SUVH"),n("B9+J")),a=n("CxzY");function o(t){switch(t){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return Object(a.a)(!1),0}}var u=n("MdWm");function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.sourceX,r=void 0===n?0:n,o=e.sourceY,u=void 0===o?0:o,s=e.sourceFormat,c=void 0===s?6408:s,h=e.sourceAttachment,d=void 0===h?36064:h,b=e.target,v=void 0===b?null:b,g=e.sourceWidth,m=e.sourceHeight,y=e.sourceType,O=f(t),p=O.framebuffer,j=O.deleteFramebuffer;Object(a.a)(p);var _=p.gl,k=p.handle,E=p.attachments;g=g||p.width,m=m||p.height,36064===d&&null===k&&(d=1028),Object(a.a)(E[d]),v=l(v,y=y||E[d].type,c,g,m),y=y||Object(i.b)(v);var A=_.bindFramebuffer(36160,k);return _.readPixels(r,u,g,m,c,y,v),_.bindFramebuffer(36160,A||null),j&&p.delete(),v}function c(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.sourceAttachment,r=void 0===n?36064:n,a=e.targetMaxHeight,o=void 0===a?Number.MAX_SAFE_INTEGER:a,u=s(t,{sourceAttachment:r}),c=t.width,f=t.height;f>o;){var l=Object(i.d)({data:u,width:c,height:f});u=l.data,c=l.width,f=l.height}Object(i.a)({data:u,width:c,height:f});var h=document.createElement("canvas");h.width=c,h.height=f;var d=h.getContext("2d"),b=d.createImageData(c,f);return b.data.set(u),d.putImageData(b,0,0),h.toDataURL()}function f(t){return t instanceof r.a?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:Object(u.b)(t),deleteFramebuffer:!0}}function l(t,e,n,r,a){return t||(e=e||5121,new(Object(i.c)(e,{clamped:!1}))(r*a*o(n)))}},pRFE:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return s}));n("5irr"),n("SIeT"),n("6nXr");var r=n("ODXe"),i=n("iein"),a=n("SUVH"),o=n("CxzY");function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.framebuffer,r=void 0===n?null:n,a=e.color,u=void 0===a?null:a,s=e.depth,c=void 0===s?null:s,f=e.stencil,l=void 0===f?null:f,h={};r&&(h.framebuffer=r);var d=0;u&&(d|=16384,!0!==u&&(h.clearColor=u)),c&&(d|=256,!0!==c&&(h.clearDepth=c)),l&&(d|=1024,!0!==c&&(h.clearStencil=c)),Object(o.a)(0!==d,"clear: bad arguments"),Object(i.k)(t,h,(function(){t.clear(d)}))}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.framebuffer,u=void 0===n?null:n,s=e.buffer,c=void 0===s?6144:s,f=e.drawBuffer,l=void 0===f?0:f,h=e.value,d=void 0===h?[0,0,0,0]:h;Object(a.a)(t),Object(i.k)(t,{framebuffer:u},(function(){switch(c){case 6144:switch(d.constructor){case Int32Array:t.clearBufferiv(c,l,d);break;case Uint32Array:t.clearBufferuiv(c,l,d);break;case Float32Array:default:t.clearBufferfv(c,l,d)}break;case 6145:t.clearBufferfv(6145,0,[d]);break;case 6146:t.clearBufferiv(6146,0,[d]);break;case 34041:var e=Object(r.a)(d,2),n=e[0],i=e[1];t.clearBufferfi(34041,0,n,i);break;default:Object(o.a)(!1,"clear: bad arguments")}}))}},rMhL:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var r="vs",i="fs"},rnmN:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a}));n("sC2a"),n("YBKJ");var r=n("CxzY");function i(t,e){if("string"!=typeof e)return e;var n=Number(e);if(!isNaN(n))return n;var i=t[e=e.replace(/^.*\./,"")];return Object(r.a)(void 0!==i,"Accessing undefined constant GL.".concat(e)),i}function a(t,e){for(var n in e=Number(e),t)if(t[n]===e)return"GL.".concat(n);return String(e)}},rp2x:function(t,e,n){"use strict";n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return v})),n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return y})),n.d(e,"d",(function(){return p}));n("MIFh"),n("6nXr"),n("5irr");var r,i,a,o=n("ODXe"),u=n("KQm4"),s=n("rePB"),c=n("g6k1"),f=(r={},Object(s.a)(r,3042,!1),Object(s.a)(r,32773,new Float32Array([0,0,0,0])),Object(s.a)(r,32777,32774),Object(s.a)(r,34877,32774),Object(s.a)(r,32969,1),Object(s.a)(r,32968,0),Object(s.a)(r,32971,1),Object(s.a)(r,32970,0),Object(s.a)(r,3106,new Float32Array([0,0,0,0])),Object(s.a)(r,3107,[!0,!0,!0,!0]),Object(s.a)(r,2884,!1),Object(s.a)(r,2885,1029),Object(s.a)(r,2929,!1),Object(s.a)(r,2931,1),Object(s.a)(r,2932,513),Object(s.a)(r,2928,new Float32Array([0,1])),Object(s.a)(r,2930,!0),Object(s.a)(r,3024,!0),Object(s.a)(r,36006,null),Object(s.a)(r,2886,2305),Object(s.a)(r,33170,4352),Object(s.a)(r,2849,1),Object(s.a)(r,32823,!1),Object(s.a)(r,32824,0),Object(s.a)(r,10752,0),Object(s.a)(r,32938,1),Object(s.a)(r,32939,!1),Object(s.a)(r,3089,!1),Object(s.a)(r,3088,new Int32Array([0,0,1024,1024])),Object(s.a)(r,2960,!1),Object(s.a)(r,2961,0),Object(s.a)(r,2968,4294967295),Object(s.a)(r,36005,4294967295),Object(s.a)(r,2962,519),Object(s.a)(r,2967,0),Object(s.a)(r,2963,4294967295),Object(s.a)(r,34816,519),Object(s.a)(r,36003,0),Object(s.a)(r,36004,4294967295),Object(s.a)(r,2964,7680),Object(s.a)(r,2965,7680),Object(s.a)(r,2966,7680),Object(s.a)(r,34817,7680),Object(s.a)(r,34818,7680),Object(s.a)(r,34819,7680),Object(s.a)(r,2978,[0,0,1024,1024]),Object(s.a)(r,3333,4),Object(s.a)(r,3317,4),Object(s.a)(r,37440,!1),Object(s.a)(r,37441,!1),Object(s.a)(r,37443,37444),Object(s.a)(r,35723,4352),Object(s.a)(r,36010,null),Object(s.a)(r,35977,!1),Object(s.a)(r,3330,0),Object(s.a)(r,3332,0),Object(s.a)(r,3331,0),Object(s.a)(r,3314,0),Object(s.a)(r,32878,0),Object(s.a)(r,3316,0),Object(s.a)(r,3315,0),Object(s.a)(r,32877,0),r),l=function(t,e,n){return e?t.enable(n):t.disable(n)},h=function(t,e,n){return t.hint(n,e)},d=function(t,e,n){return t.pixelStorei(n,e)};function b(t){return Array.isArray(t)||ArrayBuffer.isView(t)}var v=(i={},Object(s.a)(i,3042,l),Object(s.a)(i,32773,(function(t,e){return t.blendColor.apply(t,Object(u.a)(e))})),Object(s.a)(i,32777,"blendEquation"),Object(s.a)(i,34877,"blendEquation"),Object(s.a)(i,32969,"blendFunc"),Object(s.a)(i,32968,"blendFunc"),Object(s.a)(i,32971,"blendFunc"),Object(s.a)(i,32970,"blendFunc"),Object(s.a)(i,3106,(function(t,e){return t.clearColor.apply(t,Object(u.a)(e))})),Object(s.a)(i,3107,(function(t,e){return t.colorMask.apply(t,Object(u.a)(e))})),Object(s.a)(i,2884,l),Object(s.a)(i,2885,(function(t,e){return t.cullFace(e)})),Object(s.a)(i,2929,l),Object(s.a)(i,2931,(function(t,e){return t.clearDepth(e)})),Object(s.a)(i,2932,(function(t,e){return t.depthFunc(e)})),Object(s.a)(i,2928,(function(t,e){return t.depthRange.apply(t,Object(u.a)(e))})),Object(s.a)(i,2930,(function(t,e){return t.depthMask(e)})),Object(s.a)(i,3024,l),Object(s.a)(i,35723,h),Object(s.a)(i,36006,(function(t,e){var n=Object(c.h)(t)?36009:36160;return t.bindFramebuffer(n,e)})),Object(s.a)(i,2886,(function(t,e){return t.frontFace(e)})),Object(s.a)(i,33170,h),Object(s.a)(i,2849,(function(t,e){return t.lineWidth(e)})),Object(s.a)(i,32823,l),Object(s.a)(i,32824,"polygonOffset"),Object(s.a)(i,10752,"polygonOffset"),Object(s.a)(i,35977,l),Object(s.a)(i,32938,"sampleCoverage"),Object(s.a)(i,32939,"sampleCoverage"),Object(s.a)(i,3089,l),Object(s.a)(i,3088,(function(t,e){return t.scissor.apply(t,Object(u.a)(e))})),Object(s.a)(i,2960,l),Object(s.a)(i,2961,(function(t,e){return t.clearStencil(e)})),Object(s.a)(i,2968,(function(t,e){return t.stencilMaskSeparate(1028,e)})),Object(s.a)(i,36005,(function(t,e){return t.stencilMaskSeparate(1029,e)})),Object(s.a)(i,2962,"stencilFuncFront"),Object(s.a)(i,2967,"stencilFuncFront"),Object(s.a)(i,2963,"stencilFuncFront"),Object(s.a)(i,34816,"stencilFuncBack"),Object(s.a)(i,36003,"stencilFuncBack"),Object(s.a)(i,36004,"stencilFuncBack"),Object(s.a)(i,2964,"stencilOpFront"),Object(s.a)(i,2965,"stencilOpFront"),Object(s.a)(i,2966,"stencilOpFront"),Object(s.a)(i,34817,"stencilOpBack"),Object(s.a)(i,34818,"stencilOpBack"),Object(s.a)(i,34819,"stencilOpBack"),Object(s.a)(i,2978,(function(t,e){return t.viewport.apply(t,Object(u.a)(e))})),Object(s.a)(i,3333,d),Object(s.a)(i,3317,d),Object(s.a)(i,37440,d),Object(s.a)(i,37441,d),Object(s.a)(i,37443,d),Object(s.a)(i,3330,d),Object(s.a)(i,3332,d),Object(s.a)(i,3331,d),Object(s.a)(i,36010,(function(t,e){return t.bindFramebuffer(36008,e)})),Object(s.a)(i,3314,d),Object(s.a)(i,32878,d),Object(s.a)(i,3316,d),Object(s.a)(i,3315,d),Object(s.a)(i,32877,d),Object(s.a)(i,"framebuffer",(function(t,e){var n=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,n)})),Object(s.a)(i,"blend",(function(t,e){return e?t.enable(3042):t.disable(3042)})),Object(s.a)(i,"blendColor",(function(t,e){return t.blendColor.apply(t,Object(u.a)(e))})),Object(s.a)(i,"blendEquation",(function(t,e){e=b(e)?e:[e,e],t.blendEquationSeparate.apply(t,Object(u.a)(e))})),Object(s.a)(i,"blendFunc",(function(t,e){e=b(e)&&2===e.length?[].concat(Object(u.a)(e),Object(u.a)(e)):e,t.blendFuncSeparate.apply(t,Object(u.a)(e))})),Object(s.a)(i,"clearColor",(function(t,e){return t.clearColor.apply(t,Object(u.a)(e))})),Object(s.a)(i,"clearDepth",(function(t,e){return t.clearDepth(e)})),Object(s.a)(i,"clearStencil",(function(t,e){return t.clearStencil(e)})),Object(s.a)(i,"colorMask",(function(t,e){return t.colorMask.apply(t,Object(u.a)(e))})),Object(s.a)(i,"cull",(function(t,e){return e?t.enable(2884):t.disable(2884)})),Object(s.a)(i,"cullFace",(function(t,e){return t.cullFace(e)})),Object(s.a)(i,"depthTest",(function(t,e){return e?t.enable(2929):t.disable(2929)})),Object(s.a)(i,"depthFunc",(function(t,e){return t.depthFunc(e)})),Object(s.a)(i,"depthMask",(function(t,e){return t.depthMask(e)})),Object(s.a)(i,"depthRange",(function(t,e){return t.depthRange.apply(t,Object(u.a)(e))})),Object(s.a)(i,"dither",(function(t,e){return e?t.enable(3024):t.disable(3024)})),Object(s.a)(i,"derivativeHint",(function(t,e){t.hint(35723,e)})),Object(s.a)(i,"frontFace",(function(t,e){return t.frontFace(e)})),Object(s.a)(i,"mipmapHint",(function(t,e){return t.hint(33170,e)})),Object(s.a)(i,"lineWidth",(function(t,e){return t.lineWidth(e)})),Object(s.a)(i,"polygonOffsetFill",(function(t,e){return e?t.enable(32823):t.disable(32823)})),Object(s.a)(i,"polygonOffset",(function(t,e){return t.polygonOffset.apply(t,Object(u.a)(e))})),Object(s.a)(i,"sampleCoverage",(function(t,e){return t.sampleCoverage.apply(t,Object(u.a)(e))})),Object(s.a)(i,"scissorTest",(function(t,e){return e?t.enable(3089):t.disable(3089)})),Object(s.a)(i,"scissor",(function(t,e){return t.scissor.apply(t,Object(u.a)(e))})),Object(s.a)(i,"stencilTest",(function(t,e){return e?t.enable(2960):t.disable(2960)})),Object(s.a)(i,"stencilMask",(function(t,e){var n=e=b(e)?e:[e,e],r=Object(o.a)(n,2),i=r[0],a=r[1];t.stencilMaskSeparate(1028,i),t.stencilMaskSeparate(1029,a)})),Object(s.a)(i,"stencilFunc",(function(t,e){var n=e=b(e)&&3===e.length?[].concat(Object(u.a)(e),Object(u.a)(e)):e,r=Object(o.a)(n,6),i=r[0],a=r[1],s=r[2],c=r[3],f=r[4],l=r[5];t.stencilFuncSeparate(1028,i,a,s),t.stencilFuncSeparate(1029,c,f,l)})),Object(s.a)(i,"stencilOp",(function(t,e){var n=e=b(e)&&3===e.length?[].concat(Object(u.a)(e),Object(u.a)(e)):e,r=Object(o.a)(n,6),i=r[0],a=r[1],s=r[2],c=r[3],f=r[4],l=r[5];t.stencilOpSeparate(1028,i,a,s),t.stencilOpSeparate(1029,c,f,l)})),Object(s.a)(i,"viewport",(function(t,e){return t.viewport.apply(t,Object(u.a)(e))})),i);function g(t,e,n){return void 0!==e[t]?e[t]:n[t]}var m={blendEquation:function(t,e,n){return t.blendEquationSeparate(g(32777,e,n),g(34877,e,n))},blendFunc:function(t,e,n){return t.blendFuncSeparate(g(32969,e,n),g(32968,e,n),g(32971,e,n),g(32970,e,n))},polygonOffset:function(t,e,n){return t.polygonOffset(g(32824,e,n),g(10752,e,n))},sampleCoverage:function(t,e,n){return t.sampleCoverage(g(32938,e,n),g(32939,e,n))},stencilFuncFront:function(t,e,n){return t.stencilFuncSeparate(1028,g(2962,e,n),g(2967,e,n),g(2963,e,n))},stencilFuncBack:function(t,e,n){return t.stencilFuncSeparate(1029,g(34816,e,n),g(36003,e,n),g(36004,e,n))},stencilOpFront:function(t,e,n){return t.stencilOpSeparate(1028,g(2964,e,n),g(2965,e,n),g(2966,e,n))},stencilOpBack:function(t,e,n){return t.stencilOpSeparate(1029,g(34817,e,n),g(34818,e,n),g(34819,e,n))}},y={enable:function(t,e){return t(Object(s.a)({},e,!0))},disable:function(t,e){return t(Object(s.a)({},e,!1))},pixelStorei:function(t,e,n){return t(Object(s.a)({},e,n))},hint:function(t,e,n){return t(Object(s.a)({},e,n))},bindFramebuffer:function(t,e,n){var r;switch(e){case 36160:return t((r={},Object(s.a)(r,36006,n),Object(s.a)(r,36010,n),r));case 36009:return t(Object(s.a)({},36006,n));case 36008:return t(Object(s.a)({},36010,n));default:return null}},blendColor:function(t,e,n,r,i){return t(Object(s.a)({},32773,new Float32Array([e,n,r,i])))},blendEquation:function(t,e){var n;return t((n={},Object(s.a)(n,32777,e),Object(s.a)(n,34877,e),n))},blendEquationSeparate:function(t,e,n){var r;return t((r={},Object(s.a)(r,32777,e),Object(s.a)(r,34877,n),r))},blendFunc:function(t,e,n){var r;return t((r={},Object(s.a)(r,32969,e),Object(s.a)(r,32968,n),Object(s.a)(r,32971,e),Object(s.a)(r,32970,n),r))},blendFuncSeparate:function(t,e,n,r,i){var a;return t((a={},Object(s.a)(a,32969,e),Object(s.a)(a,32968,n),Object(s.a)(a,32971,r),Object(s.a)(a,32970,i),a))},clearColor:function(t,e,n,r,i){return t(Object(s.a)({},3106,new Float32Array([e,n,r,i])))},clearDepth:function(t,e){return t(Object(s.a)({},2931,e))},clearStencil:function(t,e){return t(Object(s.a)({},2961,e))},colorMask:function(t,e,n,r,i){return t(Object(s.a)({},3107,[e,n,r,i]))},cullFace:function(t,e){return t(Object(s.a)({},2885,e))},depthFunc:function(t,e){return t(Object(s.a)({},2932,e))},depthRange:function(t,e,n){return t(Object(s.a)({},2928,new Float32Array([e,n])))},depthMask:function(t,e){return t(Object(s.a)({},2930,e))},frontFace:function(t,e){return t(Object(s.a)({},2886,e))},lineWidth:function(t,e){return t(Object(s.a)({},2849,e))},polygonOffset:function(t,e,n){var r;return t((r={},Object(s.a)(r,32824,e),Object(s.a)(r,10752,n),r))},sampleCoverage:function(t,e,n){var r;return t((r={},Object(s.a)(r,32938,e),Object(s.a)(r,32939,n),r))},scissor:function(t,e,n,r,i){return t(Object(s.a)({},3088,new Int32Array([e,n,r,i])))},stencilMask:function(t,e){var n;return t((n={},Object(s.a)(n,2968,e),Object(s.a)(n,36005,e),n))},stencilMaskSeparate:function(t,e,n){return t(Object(s.a)({},1028===e?2968:36005,n))},stencilFunc:function(t,e,n,r){var i;return t((i={},Object(s.a)(i,2962,e),Object(s.a)(i,2967,n),Object(s.a)(i,2963,r),Object(s.a)(i,34816,e),Object(s.a)(i,36003,n),Object(s.a)(i,36004,r),i))},stencilFuncSeparate:function(t,e,n,r,i){var a;return t((a={},Object(s.a)(a,1028===e?2962:34816,n),Object(s.a)(a,1028===e?2967:36003,r),Object(s.a)(a,1028===e?2963:36004,i),a))},stencilOp:function(t,e,n,r){var i;return t((i={},Object(s.a)(i,2964,e),Object(s.a)(i,2965,n),Object(s.a)(i,2966,r),Object(s.a)(i,34817,e),Object(s.a)(i,34818,n),Object(s.a)(i,34819,r),i))},stencilOpSeparate:function(t,e,n,r,i){var a;return t((a={},Object(s.a)(a,1028===e?2964:34817,n),Object(s.a)(a,1028===e?2965:34818,r),Object(s.a)(a,1028===e?2966:34819,i),a))},viewport:function(t,e,n,r,i){return t(Object(s.a)({},2978,[e,n,r,i]))}},O=function(t,e){return t.isEnabled(e)},p=(a={},Object(s.a)(a,3042,O),Object(s.a)(a,2884,O),Object(s.a)(a,2929,O),Object(s.a)(a,3024,O),Object(s.a)(a,32823,O),Object(s.a)(a,32926,O),Object(s.a)(a,32928,O),Object(s.a)(a,3089,O),Object(s.a)(a,2960,O),Object(s.a)(a,35977,O),a)},rpxL:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return d}));n("JHok"),n("MIFh"),n("sC2a"),n("zGcK");var r,i=n("rePB"),a=n("rMhL"),o=n("uzDn"),u=(r={},Object(i.a)(r,a.b,"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n"),Object(i.a)(r,a.a,"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"),r),s="__LUMA_INJECT_DECLARATIONS__",c=/void\s+main\s*\([^)]*\)\s*\{\n?/,f=/}\n?[^{}]*$/,l=[];function h(t,e,n,r){var i=e===a.b,o=function(e){var r=n[e];r.sort((function(t,e){return t.order-e.order})),l.length=r.length;for(var a=0,o=r.length;a<o;++a)l[a]=r[a].injection;var u="".concat(l.join("\n"),"\n");switch(e){case"vs:#decl":i&&(t=t.replace(s,u));break;case"vs:#main-start":i&&(t=t.replace(c,(function(t){return t+u})));break;case"vs:#main-end":i&&(t=t.replace(f,(function(t){return u+t})));break;case"fs:#decl":i||(t=t.replace(s,u));break;case"fs:#main-start":i||(t=t.replace(c,(function(t){return t+u})));break;case"fs:#main-end":i||(t=t.replace(f,(function(t){return u+t})));break;default:t=t.replace(e,(function(t){return t+u}))}};for(var h in n)o(h);return t=t.replace(s,""),r&&(t=t.replace(/\}\s*$/,(function(t){return t+u[e]}))),t}function d(t){var e={};return Object(o.a)(Array.isArray(t)&&t.length>1),t.forEach((function(t){for(var n in t)e[n]=e[n]?"".concat(e[n],"\n").concat(t[n]):t[n]})),e}},rta6:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("rzGZ"),n("Dq+y"),n("8npG"),n("YbXK"),n("xJgp");var r=n("1OyB"),i=n("vuIU"),a=n("iein"),o=n("laie"),u=n("xSaR"),s=new(function(){function t(){Object(r.a)(this,t),this.stats=new Map}return Object(i.a)(t,[{key:"get",value:function(t){return this.stats.has(t)||this.stats.set(t,new o.b({id:t})),this.stats.get(t)}}]),t}());if(u.global.luma&&"8.1.2"!==u.global.luma.VERSION)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(u.global.luma.VERSION," vs ").concat("8.1.2"));u.global.luma||(Object(u.isBrowser)()&&a.g.log(1,"luma.gl ".concat("8.1.2"," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),u.global.luma=u.global.luma||{VERSION:"8.1.2",version:"8.1.2",log:a.g,stats:s,globals:{modules:{},nodeIO:{}}});u.global.luma},"sSh/":function(t,e,n){"use strict";function r(t,e,n){var r=e[0],i=e[1],a=n[3]*r+n[7]*i||1;return t[0]=(n[0]*r+n[4]*i)/a,t[1]=(n[1]*r+n[5]*i)/a,t}function i(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a||1;return t[0]=(n[0]*r+n[4]*i+n[8]*a)/o,t[1]=(n[1]*r+n[5]*i+n[9]*a)/o,t[2]=(n[2]*r+n[6]*i+n[10]*a)/o,t}function a(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t[2]=e[2],t}function o(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=n[0]*r+n[3]*i+n[6]*a,t[1]=n[1]*r+n[4]*i+n[7]*a,t[2]=n[2]*r+n[5]*i+n[8]*a,t[3]=e[3],t}n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return o}))},sYR6:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("1OyB"),i=n("vuIU"),a=n("md7G"),o=n("foSv"),u=n("Ji7U"),s=n("41X0"),c=n("+H0l"),f=n("tS8E"),l=function(t){function e(){return Object(r.a)(this,e),Object(a.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(i.a)(e,[{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var t=0,e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(t){return Math.sqrt(this.distanceSquared(t))}},{key:"distanceSquared",value:function(t){for(var e=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-t[n];e+=r*r}return Object(c.a)(e)}},{key:"dot",value:function(t){for(var e=0,n=0;n<this.ELEMENTS;++n)e+=this[n]*t[n];return Object(c.a)(e)}},{key:"normalize",value:function(){var t=this.magnitude();if(0!==t)for(var e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}},{key:"multiply",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]*=a[o];return this.check()}},{key:"divide",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]/=a[o];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(t){return this.distance(t)}},{key:"distanceToSquared",value:function(t){return this.distanceSquared(t)}},{key:"getComponent",value:function(t){return Object(f.a)(t>=0&&t<this.ELEMENTS,"index is out of range"),Object(c.a)(this[t])}},{key:"setComponent",value:function(t,e){return Object(f.a)(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}},{key:"addVectors",value:function(t,e){return this.copy(t).add(e)}},{key:"subVectors",value:function(t,e){return this.copy(t).subtract(e)}},{key:"multiplyVectors",value:function(t,e){return this.copy(t).multiply(e)}},{key:"addScaledVector",value:function(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}},{key:"x",get:function(){return this[0]},set:function(t){return this[0]=Object(c.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){return this[1]=Object(c.a)(t)}}]),e}(s.a)},"sc/6":function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));n("5irr"),n("E5k/"),n("YBKJ"),n("9ZhD"),n("ofTv");var r=n("1OyB"),i=n("vuIU"),a=n("md7G"),o=n("foSv"),u=n("JX7q"),s=n("Ji7U"),c=n("L8KH"),f=n("T2Hy"),l=n("SUVH"),h=n("B9+J"),d=n("iein"),b=n("LE90"),v=n("CxzY"),g={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},m={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:g},y={removedProps:g},O=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,e),(n=Object(a.a)(this,Object(o.a)(e).call(this,t,i))).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),n.target=i.target||(n.gl.webgl2?36662:34962),n.initialize(i),Object.seal(Object(u.a)(n)),n}return Object(s.a)(e,t),Object(i.a)(e,[{key:"getElementCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/f.a.getBytesPerElement(t))}},{key:"getVertexCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/f.a.getBytesPerVertex(t))}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(t)&&(t={data:t}),Number.isFinite(t)&&(t={byteLength:t}),t=Object(b.a)("Buffer",t,m),this.usage=t.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},t,t.accessor)),t.data?this._setData(t.data,t.offset,t.byteLength):this._setByteLength(t.byteLength||0),this}},{key:"setProps",value:function(t){return"accessor"in(t=Object(b.a)("Buffer",t,y))&&this.setAccessor(t.accessor),this}},{key:"setAccessor",value:function(t){return delete(t=Object.assign({},t)).buffer,this.accessor=new f.a(t),this}},{key:"reallocate",value:function(t){return t>this.byteLength?(this._setByteLength(t),!0):(this.bytesUsed=t,!1)}},{key:"setData",value:function(t){return this.initialize(t)}},{key:"subData",value:function(t){ArrayBuffer.isView(t)&&(t={data:t});var e=t,n=e.data,r=e.offset,i=void 0===r?0:r,a=e.srcOffset,o=void 0===a?0:a,u=t.byteLength||t.length;Object(v.a)(n);var s=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(s,this.handle),0!==o||void 0!==u?(Object(l.a)(this.gl),this.gl.bufferSubData(this.target,i,n,o,u)):this.gl.bufferSubData(s,i,n),this.gl.bindBuffer(s,null),this.debugData=null,this._inferType(n),this}},{key:"copyData",value:function(t){var e=t.sourceBuffer,n=t.readOffset,r=void 0===n?0:n,i=t.writeOffset,a=void 0===i?0:i,o=t.size,u=this.gl;return Object(l.a)(u),u.bindBuffer(36662,e.handle),u.bindBuffer(36663,this.handle),u.copyBufferSubData(36662,36663,r,a,o),u.bindBuffer(36662,null),u.bindBuffer(36663,null),this.debugData=null,this}},{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dstData,n=void 0===e?null:e,r=t.srcByteOffset,i=void 0===r?0:r,a=t.dstOffset,o=void 0===a?0:a,u=t.length,s=void 0===u?0:u;Object(l.a)(this.gl);var c,f,d=Object(h.c)(this.accessor.type||5126,{clamped:!1}),b=this._getAvailableElementCount(i),g=o;n?c=(f=n.length)-g:f=g+(c=Math.min(b,s||b));var m=Math.min(b,c);return s=s||m,Object(v.a)(s<=m),n=n||new d(f),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,i,n,o,s),this.gl.bindBuffer(36662,null),n}},{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,n=void 0===e?this.target:e,r=t.index,i=void 0===r?this.accessor&&this.accessor.index:r,a=t.offset,o=void 0===a?0:a,u=t.size;return 35345===n||35982===n?void 0!==u?this.gl.bindBufferRange(n,i,this.handle,o,u):(Object(v.a)(0===o),this.gl.bindBufferBase(n,i,this.handle)):this.gl.bindBuffer(n,this.handle),this}},{key:"unbind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,n=void 0===e?this.target:e,r=t.index,i=void 0===r?this.accessor&&this.accessor.index:r,a=35345===n||35982===n;return a?this.gl.bindBufferBase(n,i,null):this.gl.bindBuffer(n,null),this}},{key:"getDebugData",value:function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}},{key:"invalidateDebugData",value:function(){this.debugData=null}},{key:"_setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.byteLength+e;Object(v.a)(ArrayBuffer.isView(t)),this._trackDeallocatedMemory();var r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,this.usage),this.gl.bufferSubData(r,e,t),this.gl.bindBuffer(r,null),this.debugData=t.slice(0,10),this.bytesUsed=n,this._trackAllocatedMemory(n);var i=Object(h.b)(t);return Object(v.a)(i),this.setAccessor(new f.a(this.accessor,{type:i})),this}},{key:"_setByteLength",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;Object(v.a)(t>=0),this._trackDeallocatedMemory();var n=t;0===t&&(n=new Float32Array(0));var r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,e),this.gl.bindBuffer(r,null),this.usage=e,this.debugData=null,this.bytesUsed=t,this._trackAllocatedMemory(t),this}},{key:"_getTarget",value:function(){return this.gl.webgl2?36663:this.target}},{key:"_getAvailableElementCount",value:function(t){var e=t/Object(h.c)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-e}},{key:"_inferType",value:function(t){this.accessor.type||this.setAccessor(new f.a(this.accessor,{type:Object(h.b)(t)}))}},{key:"_createHandle",value:function(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_getParameter",value:function(t){this.gl.bindBuffer(this.target,this.handle);var e=this.gl.getBufferParameter(this.target,t);return this.gl.bindBuffer(this.target,null),e}},{key:"setByteLength",value:function(t){return d.g.deprecated("setByteLength","reallocate")(),this.reallocate(t)}},{key:"updateAccessor",value:function(t){return d.g.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new f.a(this.accessor,t),this}},{key:"type",get:function(){return d.g.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return d.g.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}}]),e}(c.a)},sgaE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("JHok");var r=n("iein");function i(t,e,n,i){var a="See luma.gl ".concat(n," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(t);i.forEach((function(t){o.methodName||(o[t]=function(){throw r.g.removed("Calling removed method ".concat(e,".").concat(t,": "),a)(),new Error(t)})}))}},tMmZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r,i=n("rePB"),a=n("11Ib"),o=n("f5Sf"),u={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};e.b=(r={},Object(i.a)(r,u.WEBGL2,[!1,!0]),Object(i.a)(r,u.VERTEX_ARRAY_OBJECT,["OES_vertex_array_object",!0]),Object(i.a)(r,u.TIMER_QUERY,["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"]),Object(i.a)(r,u.INSTANCED_RENDERING,["ANGLE_instanced_arrays",!0]),Object(i.a)(r,u.MULTIPLE_RENDER_TARGETS,["WEBGL_draw_buffers",!0]),Object(i.a)(r,u.ELEMENT_INDEX_UINT32,["OES_element_index_uint",!0]),Object(i.a)(r,u.BLEND_EQUATION_MINMAX,["EXT_blend_minmax",!0]),Object(i.a)(r,u.FLOAT_BLEND,["EXT_float_blend"]),Object(i.a)(r,u.COLOR_ENCODING_SRGB,["EXT_sRGB",!0]),Object(i.a)(r,u.TEXTURE_DEPTH,["WEBGL_depth_texture",!0]),Object(i.a)(r,u.TEXTURE_FLOAT,["OES_texture_float",!0]),Object(i.a)(r,u.TEXTURE_HALF_FLOAT,["OES_texture_half_float",!0]),Object(i.a)(r,u.TEXTURE_FILTER_LINEAR_FLOAT,["OES_texture_float_linear"]),Object(i.a)(r,u.TEXTURE_FILTER_LINEAR_HALF_FLOAT,["OES_texture_half_float_linear"]),Object(i.a)(r,u.TEXTURE_FILTER_ANISOTROPIC,["EXT_texture_filter_anisotropic"]),Object(i.a)(r,u.COLOR_ATTACHMENT_RGBA32F,[function(t){var e=new o.a(t,{format:6408,type:5126,dataFormat:6408}),n=new a.a(t,{id:"test-framebuffer",check:!1,attachments:Object(i.a)({},36064,e)}),r=n.getStatus();return e.delete(),n.delete(),36053===r},"EXT_color_buffer_float"]),Object(i.a)(r,u.COLOR_ATTACHMENT_FLOAT,[!1,"EXT_color_buffer_float"]),Object(i.a)(r,u.COLOR_ATTACHMENT_HALF_FLOAT,["EXT_color_buffer_half_float"]),Object(i.a)(r,u.GLSL_FRAG_DATA,["WEBGL_draw_buffers",!0]),Object(i.a)(r,u.GLSL_FRAG_DEPTH,["EXT_frag_depth",!0]),Object(i.a)(r,u.GLSL_DERIVATIVES,["OES_standard_derivatives",!0]),Object(i.a)(r,u.GLSL_TEXTURE_LOD,["EXT_shader_texture_lod",!0]),r)},tS8E:function(t,e,n){"use strict";function r(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}n.d(e,"a",(function(){return r}))},uXCu:function(t,e,n){"use strict";(function(t){n("R48M");var r=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=o,e.isBrowserMainThread=function(){return o()&&"undefined"!=typeof document};var i=r(n("cDf5")),a=r(n("15yl"));function o(){return!("object"===(void 0===t?"undefined":(0,i.default)(t))&&"[object process]"===String(t)&&!t.browser)||(0,a.default)()}}).call(this,n("8oxB"))},uYBD:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return h}));var r,i,a,o=n("rePB"),u=n("iein"),s=(r={},Object(o.a)(r,6407,{dataFormat:6407,types:[5121,33635]}),Object(o.a)(r,6408,{dataFormat:6408,types:[5121,32819,32820]}),Object(o.a)(r,6406,{dataFormat:6406,types:[5121]}),Object(o.a)(r,6409,{dataFormat:6409,types:[5121]}),Object(o.a)(r,6410,{dataFormat:6410,types:[5121]}),Object(o.a)(r,33326,{dataFormat:6403,types:[5126],gl2:!0}),Object(o.a)(r,33328,{dataFormat:33319,types:[5126],gl2:!0}),Object(o.a)(r,34837,{dataFormat:6407,types:[5126],gl2:!0}),Object(o.a)(r,34836,{dataFormat:6408,types:[5126],gl2:!0}),r),c=(i={},Object(o.a)(i,6403,1),Object(o.a)(i,36244,1),Object(o.a)(i,33319,2),Object(o.a)(i,33320,2),Object(o.a)(i,6407,3),Object(o.a)(i,36248,3),Object(o.a)(i,6408,4),Object(o.a)(i,36249,4),Object(o.a)(i,6402,1),Object(o.a)(i,34041,1),Object(o.a)(i,6406,1),Object(o.a)(i,6409,1),Object(o.a)(i,6410,2),i),f=(a={},Object(o.a)(a,5126,4),Object(o.a)(a,5125,4),Object(o.a)(a,5124,4),Object(o.a)(a,5123,2),Object(o.a)(a,5122,2),Object(o.a)(a,5131,2),Object(o.a)(a,5120,1),Object(o.a)(a,5121,1),a);function l(t,e){var n=s[e];if(!n)return!1;if(void 0===n.gl1&&void 0===n.gl2)return!0;var r=Object(u.f)(t)&&n.gl2||n.gl1;return"string"==typeof r?t.getExtension(r):r}function h(t,e){var n=s[e];switch(n&&n.types[0]){case 5126:return t.getExtension("OES_texture_float_linear");case 5131:return t.getExtension("OES_texture_half_float_linear");default:return!0}}},uzDn:function(t,e,n){"use strict";function r(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}n.d(e,"a",(function(){return r}))},vpQ4:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("rePB");function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){Object(r.a)(t,e,n[e])}))}return t}},xSaR:function(t,e,n){t.exports=n("0SKY")},yU0y:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a}));n("CczQ"),n("5irr");var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},ykdB:function(t,e,n){"use strict";n.d(e,"a",(function(){return X}));n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi"),n("1dPr"),n("JHok"),n("YBKJ"),n("9ZhD"),n("E5k/");var r=n("rePB"),i=n("1OyB"),a=n("vuIU"),o=n("iein"),u=n("haqy"),s=n("VdrS"),c=n("CxzY"),f=n("pRFE"),l=n("OklE"),h=(n("MIFh"),n("pJf4"),n("n7j8"),n("n0hJ"),n("ofTv"),n("T2Hy")),d=n("sc/6"),b=(n("SIeT"),n("6nXr"),n("5irr"),n("md7G")),v=n("JX7q"),g=n("foSv"),m=n("ReuC"),y=n("Ji7U"),O=n("L8KH"),p=(n("Kb1d"),null);function j(t,e){var n;return new t((n=t.BYTES_PER_ELEMENT*e,(!p||p.byteLength<n)&&(p=new ArrayBuffer(n)),p),0,e)}var _=n("XbXb"),k="elements must be GL.ELEMENT_ARRAY_BUFFER",E=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,e);var a=r.id||r.program&&r.program.id;return(n=Object(b.a)(this,Object(g.a)(e).call(this,t,Object.assign({},r,{id:a})))).buffer=null,n.bufferValue=null,n.isDefaultArray=r.isDefaultArray||!1,n.initialize(r),Object.seal(Object(v.a)(n)),n}return Object(y.a)(e,t),Object(a.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!e.constantAttributeZero||(Object(o.f)(t)||"Chrome"===Object(_.a)())}},{key:"getDefaultArray",value:function(t){return t.luma=t.luma||{},t.luma.defaultVertexArray||(t.luma.defaultVertexArray=new e(t,{handle:null,isDefaultArray:!0})),t.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function(t){return e.MAX_ATTRIBUTES=e.MAX_ATTRIBUTES||t.getParameter(34921),e.MAX_ATTRIBUTES}},{key:"setConstant",value:function(t,n,r){switch(r.constructor){case Float32Array:e._setConstantFloatArray(t,n,r);break;case Int32Array:e._setConstantIntArray(t,n,r);break;case Uint32Array:e._setConstantUintArray(t,n,r);break;default:Object(c.a)(!1)}}}]),Object(a.a)(e,[{key:"delete",value:function(){Object(m.a)(Object(g.a)(e.prototype),"delete",this).call(this),this.buffer&&this.buffer.delete()}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(t)}},{key:"setProps",value:function(t){return this}},{key:"setElementBuffer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(c.a)(!e||34963===e.target,k),this.bind((function(){t.gl.bindBuffer(34963,e?e.handle:null)})),this}},{key:"setBuffer",value:function(t,e,n){if(34963===e.target)return this.setElementBuffer(e,n);var r=n.size,i=n.type,a=n.stride,u=n.offset,s=n.normalized,f=n.integer,l=n.divisor,h=this.gl;return t=Number(t),this.bind((function(){h.bindBuffer(34962,e.handle),f?(Object(c.a)(Object(o.f)(h)),h.vertexAttribIPointer(t,r,i,a,u)):h.vertexAttribPointer(t,r,i,s,a,u),h.enableVertexAttribArray(t),h.vertexAttribDivisor(t,l||0)})),this}},{key:"enable",value:function(t){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!r&&0===t&&!e.isSupported(this.gl,{constantAttributeZero:!0});return i||(t=Number(t),this.bind((function(){return r?n.gl.enableVertexAttribArray(t):n.gl.disableVertexAttribArray(t)}))),this}},{key:"getConstantBuffer",value:function(t,e,n){var r=this._normalizeConstantArrayValue(e,n),i=r.byteLength*t,a=r.length*t,o=!this.buffer;if(this.buffer=this.buffer||new d.a(this.gl,i),o=(o=o||this.buffer.reallocate(i))||!this._compareConstantArrayValues(r,this.bufferValue)){var u=j(e.constructor,a);!function(t){for(var e=t.target,n=t.source,r=t.start,i=void 0===r?0:r,a=t.count,o=void 0===a?1:a,u=n.length,s=o*u,c=0,f=i;c<u;c++)e[f++]=n[c];for(;c<s;)c<s-c?(e.copyWithin(i+c,i,i+c),c*=2):(e.copyWithin(i+c,i,i+s-c),c=s)}({target:u,source:r,start:0,count:a}),this.buffer.subData(u),this.bufferValue=e}return this.buffer}},{key:"_normalizeConstantArrayValue",value:function(t,e){return Array.isArray(t)?new Float32Array(t):t}},{key:"_compareConstantArrayValues",value:function(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}},{key:"_createHandle",value:function(){return this.gl.createVertexArray()}},{key:"_deleteHandle",value:function(t){return this.gl.deleteVertexArray(t),[this.elements]}},{key:"_bindHandle",value:function(t){this.gl.bindVertexArray(t)}},{key:"_getParameter",value:function(t,e){var n=this,r=e.location;return Object(c.a)(Number.isFinite(r)),this.bind((function(){switch(t){case 34373:return n.gl.getVertexAttribOffset(r,t);default:return n.gl.getVertexAttrib(r,t)}}))}},{key:"MAX_ATTRIBUTES",get:function(){return e.getMaxAttributes(this.gl)}}],[{key:"_setConstantFloatArray",value:function(t,e,n){switch(n.length){case 1:t.vertexAttrib1fv(e,n);break;case 2:t.vertexAttrib2fv(e,n);break;case 3:t.vertexAttrib3fv(e,n);break;case 4:t.vertexAttrib4fv(e,n);break;default:Object(c.a)(!1)}}},{key:"_setConstantIntArray",value:function(t,e,n){switch(Object(c.a)(Object(o.f)(t)),n.length){case 1:t.vertexAttribI1iv(e,n);break;case 2:t.vertexAttribI2iv(e,n);break;case 3:t.vertexAttribI3iv(e,n);break;case 4:t.vertexAttribI4iv(e,n);break;default:Object(c.a)(!1)}}},{key:"_setConstantUintArray",value:function(t,e,n){switch(Object(c.a)(Object(o.f)(t)),n.length){case 1:t.vertexAttribI1uiv(e,n);break;case 2:t.vertexAttribI2uiv(e,n);break;case 3:t.vertexAttribI3uiv(e,n);break;case 4:t.vertexAttribI4uiv(e,n);break;default:Object(c.a)(!1)}}}]),e}(O.a),A=n("sgaE"),x=/^(.+)__LOCATION_([0-9]+)$/,w=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],T=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,t);var r=n.id||n.program&&n.program.id;this.id=r,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new E(e),Object(A.a)(this,"VertexArray","v6.0",w),this.initialize(n),Object.seal(this)}return Object(a.a)(t,[{key:"delete",value:function(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(t)}},{key:"reset",value:function(){this.elements=null,this.elementsAccessor=null;var t=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(t).fill(null),this.accessors=new Array(t).fill(null),this.unused={},this.drawParams=null,this}},{key:"setProps",value:function(t){return"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"attributes"in t&&this.setAttributes(t.attributes),"elements"in t&&this.setElementBuffer(t.elements),"bindOnUse"in t&&(t=t.bindOnUse),this}},{key:"clearDrawParams",value:function(){this.drawParams=null}},{key:"getDrawParams",value:function(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}},{key:"setAttributes",value:function(t){var e=this;return Object.assign(this.attributes,t),this.vertexArrayObject.bind((function(){for(var n in t){var r=t[n];e._setAttribute(n,r)}e.gl.bindBuffer(34962,null)})),this}},{key:"setElementBuffer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=t,this.elementsAccessor=e,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(t,e),this}},{key:"setBuffer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===e.target)return this.setElementBuffer(e,n);var r=this._resolveLocationAndAccessor(t,e,e.accessor,n),i=r.location,a=r.accessor;return i>=0&&(this.values[i]=e,this.accessors[i]=a,this.clearDrawParams(),this.vertexArrayObject.setBuffer(i,e,a)),this}},{key:"setConstant",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._resolveLocationAndAccessor(t,e,Object.assign({size:e.length},n)),i=r.location,a=r.accessor;return i>=0&&(e=this.vertexArrayObject._normalizeConstantArrayValue(e,a),this.values[i]=e,this.accessors[i]=a,this.clearDrawParams(),this.vertexArrayObject.enable(i,!1)),this}},{key:"unbindBuffers",value:function(){var t=this;return this.vertexArrayObject.bind((function(){t.elements&&t.vertexArrayObject.setElementBuffer(null),t.buffer=t.buffer||new d.a(t.gl,{accessor:{size:4}});for(var e=0;e<t.vertexArrayObject.MAX_ATTRIBUTES;e++)t.values[e]instanceof d.a&&(t.gl.disableVertexAttribArray(e),t.gl.bindBuffer(34962,t.buffer.handle),t.gl.vertexAttribPointer(e,1,5126,!1,0,0))})),this}},{key:"bindBuffers",value:function(){var t=this;return this.vertexArrayObject.bind((function(){t.elements&&t.setElementBuffer(t.elements);for(var e=0;e<t.vertexArrayObject.MAX_ATTRIBUTES;e++){var n=t.values[e];n instanceof d.a&&t.setBuffer(e,n)}})),this}},{key:"bindForDraw",value:function(t,e,n){var r,i=this;return this.vertexArrayObject.bind((function(){i._setConstantAttributes(t,e),r=n()})),r}},{key:"_resolveLocationAndAccessor",value:function(t,e,n,r){var i=this,a=this._getAttributeIndex(t),u=a.location,s=a.name;if(!Number.isFinite(u)||u<0)return this.unused[t]=e,o.g.once(3,(function(){return"unused value ".concat(t," in ").concat(i.id)}))(),this;var f=this._getAttributeInfo(s||u);if(!f)return{location:-1,accessor:null};var l=this.accessors[u]||{},d=h.a.resolve(f.accessor,l,n,r),b=d.size,v=d.type;return Object(c.a)(Number.isFinite(b)&&Number.isFinite(v)),{location:u,accessor:d}}},{key:"_getAttributeInfo",value:function(t){return this.configuration&&this.configuration.getAttributeInfo(t)}},{key:"_getAttributeIndex",value:function(t){var e=Number(t);if(Number.isFinite(e))return{location:e};var n=x.exec(t),r=n?n[1]:t,i=n?Number(n[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+i,name:r}:{location:-1}}},{key:"_setAttribute",value:function(t,e){if(e instanceof d.a)this.setBuffer(t,e);else if(Array.isArray(e)&&e.length&&e[0]instanceof d.a){var n=e[0],r=e[1];this.setBuffer(t,n,r)}else if(ArrayBuffer.isView(e)||Array.isArray(e)){var i=e;this.setConstant(t,i)}else{if(!(e.buffer instanceof d.a))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");var a=e;this.setBuffer(t,a.buffer,a)}}},{key:"_setConstantAttributes",value:function(t,e){var n=Math.max(0|t,0|e),r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,n);for(var i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)r=this.values[i],ArrayBuffer.isView(r)&&this._setConstantAttribute(i,r)}},{key:"_setConstantAttributeZero",value:function(t,e){if(E.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,t);else{var n=this.vertexArrayObject.getConstantBuffer(e,t);this.vertexArrayObject.setBuffer(0,n,this.accessors[0])}}},{key:"_setConstantAttribute",value:function(t,e){E.setConstant(this.gl,t,e)}},{key:"_updateDrawParams",value:function(){for(var t={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this._updateDrawParamsForLocation(t,e);return this.elements&&(t.elementCount=this.elements.getElementCount(this.elements.accessor),t.isIndexed=!0,t.indexType=this.elementsAccessor.type||this.elements.accessor.type,t.indexOffset=this.elementsAccessor.offset||0),t.indexCount===1/0&&(t.indexCount=0),t.vertexCount===1/0&&(t.vertexCount=0),t.instanceCount===1/0&&(t.instanceCount=0),t}},{key:"_updateDrawParamsForLocation",value:function(t,e){var n=this.values[e],r=this.accessors[e];if(n){var i=r.divisor>0;if(t.isInstanced=t.isInstanced||i,n instanceof d.a){var a=n;if(i){var o=a.getVertexCount(r);t.instanceCount=Math.min(t.instanceCount,o)}else{var u=a.getVertexCount(r);t.vertexCount=Math.min(t.vertexCount,u)}}}}},{key:"setElements",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.g.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(t,e)}}]),t}(),M=n("bphH"),L=(n("sc67"),n("sC2a"),n("rnmN")),S=n("oejM");function P(t,e){for(var n=e.maxElts,r=void 0===n?16:n,i=e.size,a=void 0===i?1:i,o="[",u=0;u<t.length&&u<r;++u)u>0&&(o+=",".concat(u%a==0?" ":"")),o+=I(t[u],e);var s=t.length>r?"...":"]";return"".concat(o).concat(s)}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=1e-16,r=e.isInteger,i=void 0!==r&&r;if(Array.isArray(t)||ArrayBuffer.isView(t))return P(t,e);if(!Number.isFinite(t))return String(t);if(Math.abs(t)<n)return i?"0":"0.";if(i)return t.toFixed(0);if(Math.abs(t)>100&&Math.abs(t)<1e4)return t.toFixed(0);var a=t.toPrecision(2),o=a.indexOf(".0");return o===a.length-2?a.slice(0,-1):a}function R(t,e,n,i){var a,o,u=t.gl;if(!e)return o={},Object(r.a)(o,i,"null"),Object(r.a)(o,"Format ","N/A"),o;var s,c,f,l="NOT PROVIDED",h="N/A",b="N/A",v="N/A";if(n&&(l=n.type,h=n.size,s=-1!==(l=String(l).replace("Array","")).indexOf("nt")),e instanceof d.a){var g,m,y=e,O=y.getDebugData(),p=O.data;if(c=O.modified?"*":"",f=p,b=(v=y.byteLength)/p.BYTES_PER_ELEMENT/h,n){var j=n.divisor>0;m="".concat(j?"I ":"P "," ").concat(b," (x").concat(h,"=").concat(v," bytes ").concat(Object(L.a)(u,l),")")}else s=!0,m="".concat(v," bytes");return g={},Object(r.a)(g,i,"".concat(c).concat(I(f,{size:h,isInteger:s}))),Object(r.a)(g,"Format ",m),g}return f=e,h=e.length,s=-1!==(l=String(e.constructor.name).replace("Array","")).indexOf("nt"),a={},Object(r.a)(a,i,"".concat(I(f,{size:h,isInteger:s})," (constant)")),Object(r.a)(a,"Format ","".concat(h,"x").concat(l," (constant)")),a}function F(t,e){var n=e.type,r=e.size,i=Object(S.b)(n,r);return i?"".concat(t," (").concat(i.name,")"):t}n("Ll4R"),n("m210"),n("4DPX"),n("zGcK");function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.header,n=void 0===e?"Uniforms":e,i=t.program,a=t.uniforms,o=t.undefinedOnly,u=void 0!==o&&o;Object(c.a)(i);var s=".*_.*",f=".*Matrix",l=i._uniformSetters,h={},d=Object.keys(l).sort(),b=0,v=!0,g=!1,m=void 0;try{for(var y,O=d[Symbol.iterator]();!(v=(y=O.next()).done);v=!0){var p=y.value;p.match(s)||p.match(f)||B({table:h,header:n,uniforms:a,uniformName:p,undefinedOnly:u})&&b++}}catch(C){g=!0,m=C}finally{try{v||null==O.return||O.return()}finally{if(g)throw m}}var j=!0,_=!1,k=void 0;try{for(var E,A=d[Symbol.iterator]();!(j=(E=A.next()).done);j=!0){var x=E.value;x.match(f)&&B({table:h,header:n,uniforms:a,uniformName:x,undefinedOnly:u})&&b++}}catch(C){_=!0,k=C}finally{try{j||null==A.return||A.return()}finally{if(_)throw k}}var w=!0,T=!1,M=void 0;try{for(var L,S=d[Symbol.iterator]();!(w=(L=S.next()).done);w=!0){var P=L.value;h[P]||B({table:h,header:n,uniforms:a,uniformName:P,undefinedOnly:u})&&b++}}catch(C){T=!0,M=C}finally{try{w||null==S.return||S.return()}finally{if(T)throw M}}var R=0,F={};if(!u)for(var D in a){var N=a[D];h[D]||(R++,F[D]=Object(r.a)({Type:"NOT USED: ".concat(N)},n,I(N)))}return{table:h,count:b,unusedTable:F,unusedCount:R}}function B(t){var e,n=t.table,i=t.header,a=t.uniforms,o=t.uniformName,u=t.undefinedOnly,s=a[o],c=function(t){return null!=t}(s);return(!u||!c)&&(n[o]=(e={},Object(r.a)(e,i,c?I(s):"N/A"),Object(r.a)(e,"Uniform Type",c?s:"NOT PROVIDED"),e),!0)}function N(t){var e=t.accessor,n=e.type,r=e.size,i=Object(S.b)(n,r);return i?"".concat(i.name," ").concat(t.name):t.name}n("h3Sa");var C=n("vpQ4"),U={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function G(t,e){var n=(e||{}).attributeMap,r=void 0===n?U:n;return r&&r[t]||t}function V(t,e){var n;switch(t){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors"}switch(n){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2}Object(c.a)(Number.isFinite(e.size),"attribute ".concat(t," needs size"))}var z=function(){},H={},X=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,t);var r=n.id,a=void 0===r?Object(s.c)("model"):r;Object(c.a)(Object(o.e)(e)),this.id=a,this.gl=e,this.id=n.id||Object(s.c)("Model"),this.lastLogTime=0,this.initialize(n)}return Object(a.a)(t,[{key:"initialize",value:function(t){this.props={},this.programManager=t.programManager||u.a.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;var e=t.program,n=void 0===e?null:e,r=t.vs,i=t.fs,a=t.modules,o=t.defines,s=t.inject,f=t.varyings,l=t.bufferMode,h=t.transpileToGLSL100;this.programProps={program:n,vs:r,fs:i,modules:a,defines:o,inject:s,varyings:f,bufferMode:l,transpileToGLSL100:h},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(t.moduleSettings))),this.drawMode=void 0!==t.drawMode?t.drawMode:4,this.vertexCount=t.vertexCount||0,this.geometryBuffers={},this.isInstanced=t.isInstanced||t.instanced||t.instanceCount>0,this._setModelProps(t),this.geometry={},Object(c.a)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}},{key:"setProps",value:function(t){this._setModelProps(t)}},{key:"delete",value:function(){for(var t in this._attributes)this._attributes[t]!==this.attributes[t]&&this._attributes[t].delete();this._managedProgram&&this.programManager.release(this.program),this.vertexArray.delete(),this._deleteGeometryBuffers()}},{key:"getDrawMode",value:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getInstanceCount",value:function(){return this.instanceCount}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getProgram",value:function(){return this.program}},{key:"setProgram",value:function(t){var e=t.program,n=t.vs,r=t.fs,i=t.modules,a=t.defines,o=t.inject,u=t.varyings,s=t.bufferMode,c=t.transpileToGLSL100;this.programProps={program:e,vs:n,fs:r,modules:i,defines:a,inject:o,varyings:u,bufferMode:s,transpileToGLSL100:c},this._programDirty=!0}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"setDrawMode",value:function(t){return this.drawMode=t,this}},{key:"setVertexCount",value:function(t){return Object(c.a)(Number.isFinite(t)),this.vertexCount=t,this}},{key:"setInstanceCount",value:function(t){return Object(c.a)(Number.isFinite(t)),this.instanceCount=t,this}},{key:"setGeometry",value:function(t){return this.drawMode=t.drawMode,this.vertexCount=t.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(t,e,n){var r={},i=e.indices;for(var a in e.attributes){var o=e.attributes[a],u=G(a,n);if("indices"===a)i=o;else if(o.constant)r[u]=o.value;else{var s=o.value,f=Object(C.a)({},o);delete f.value,r[u]=[new d.a(t,s),f],V(a,f)}}if(i){var l=i.value||i;Object(c.a)(l instanceof Uint16Array||l instanceof Uint32Array,'attribute array for "indices" must be of integer type');var h={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};r.indices=[new d.a(t,{data:l,target:34963}),h]}return r}(this.gl,t),this.vertexArray.setAttributes(this.geometryBuffers),this}},{key:"setAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(s.a)(t))return this;var e={};for(var n in t){var r=t[n];e[n]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(e),this}},{key:"setUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,t),this}},{key:"getModuleUniforms",value:function(t){this._checkProgram();var e=this.programManager.getUniforms(this.program);return e?e(t):{}}},{key:"updateModuleSettings",value:function(t){var e=this.getModuleUniforms(t||{});return this.setUniforms(e)}},{key:"clear",value:function(t){return Object(f.a)(this.program.gl,t),this}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();var e,n=t.moduleSettings,r=void 0===n?null:n,i=t.framebuffer,a=t.uniforms,u=void 0===a?{}:a,s=t.attributes,c=void 0===s?{}:s,f=t.transformFeedback,l=void 0===f?this.transformFeedback:f,h=t.parameters,d=void 0===h?{}:h,b=t.vertexArray,v=void 0===b?this.vertexArray:b;this.setAttributes(c),this.updateModuleSettings(r),this.setUniforms(u),o.g.priority>=2&&(e=this._logDrawCallStart(2));var g=this.vertexArray.getDrawParams(),m=this.props,y=m.isIndexed,O=void 0===y?g.isIndexed:y,p=m.indexType,j=void 0===p?g.indexType:p,_=m.indexOffset,k=void 0===_?g.indexOffset:_,E=m.vertexArrayInstanced,A=void 0===E?g.isInstanced:E;A&&!this.isInstanced&&o.g.warn("Found instanced attributes on non-instanced model",this.id)();var x=this.isInstanced,w=this.instanceCount,T=this.props,M=T.onBeforeRender,L=void 0===M?z:M,S=T.onAfterRender,P=void 0===S?z:S;L(),this.program.setUniforms(this.uniforms);var I=this.program.draw(Object.assign(H,t,{logPriority:e,uniforms:null,framebuffer:i,parameters:d,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:v,transformFeedback:l,isIndexed:O,indexType:j,isInstanced:x,instanceCount:w,offset:O?k:0}));return P(),o.g.priority>=2&&this._logDrawCallEnd(e,v,i),I}},{key:"transform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.discard,n=void 0===e||e,i=t.feedbackBuffers,a=t.unbindModels,o=void 0===a?[]:a,u=t.parameters;i&&this._setFeedbackBuffers(i),n&&(u=Object.assign({},u,Object(r.a)({},35977,n))),o.forEach((function(t){return t.vertexArray.unbindBuffers()}));try{this.draw(Object.assign({},t,{parameters:u}))}finally{o.forEach((function(t){return t.vertexArray.bindBuffers()}))}return this}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.g.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(t).draw()}},{key:"_setModelProps",value:function(t){Object.assign(this.props,t),"uniforms"in t&&this.setUniforms(t.uniforms),"pickable"in t&&(this.pickable=t.pickable),"instanceCount"in t&&(this.instanceCount=t.instanceCount),"geometry"in t&&this.setGeometry(t.geometry),"attributes"in t&&this.setAttributes(t.attributes),"_feedbackBuffers"in t&&this._setFeedbackBuffers(t._feedbackBuffers)}},{key:"_checkProgram",value:function(){var t=this._programDirty||this.programManager.stateHash!==this._programManagerState;if(t){var e=this.programProps.program;if(e)this._managedProgram=!1;else{var n=this.programProps,r=n.vs,i=n.fs,a=n.modules,o=n.inject,u=n.defines,s=n.varyings,f=n.bufferMode,h=n.transpileToGLSL100;e=this.programManager.get({vs:r,fs:i,modules:a,inject:o,defines:u,varyings:s,bufferMode:f,transpileToGLSL100:h}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}Object(c.a)(e instanceof l.a,"Model needs a program"),this._programDirty=!1,e!==this.program&&(this.program=e,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new T(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}}},{key:"_deleteGeometryBuffers",value:function(){for(var t in this.geometryBuffers){var e=this.geometryBuffers[t][0]||this.geometryBuffers[t];e instanceof d.a&&e.delete()}}},{key:"_setAnimationProps",value:function(t){if(this.animated){Object(c.a)(t,"Model.draw(): animated uniforms but no animationProps");var e=this._evaluateAnimateUniforms(t);Object.assign(this.uniforms,e)}}},{key:"_setFeedbackBuffers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(s.a)(t))return this;var e=this.program.gl;return this.transformFeedback=this.transformFeedback||new M.a(e,{program:this.program}),this.transformFeedback.setBuffers(t),this}},{key:"_logDrawCallStart",value:function(t){var e=t>3?0:1e4;if(!(Date.now()-this.lastLogTime<e))return this.lastLogTime=Date.now(),o.g.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:o.g.level<=2})(),t}},{key:"_logDrawCallEnd",value:function(t,e,n,i){if(void 0!==t){var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vertexArray,n=t.header,r=void 0===n?"Attributes":n;if(!e.configuration)return{};var i={};e.elements&&(i.ELEMENT_ARRAY_BUFFER=R(e,e.elements,null,r));var a=e.values;for(var o in a){var u=e._getAttributeInfo(o);if(u){var s="".concat(o,": ").concat(u.name),c=e.accessors[u.location];c&&(s="".concat(o,": ").concat(F(u.name,c))),i[s]=R(e,a[o],c,r)}}return i}({vertexArray:e,header:"".concat(this.id," attributes"),attributes:this._attributes}),u=D({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n)}),s=u.table,c=u.unusedTable,f=u.unusedCount,l=D({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n),undefinedOnly:!0}),h=l.table;l.count>0&&o.g.log("MISSING UNIFORMS",Object.keys(h))(),f>0&&o.g.log("UNUSED UNIFORMS",Object.keys(c))();var d=function(t){var e={},n="Accessors for ".concat(t.id),i=!0,a=!1,o=void 0;try{for(var u,s=t.attributeInfos[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value;if(c){var f=N(c);e["in ".concat(f)]=Object(r.a)({},n,JSON.stringify(c.accessor))}}}catch(y){a=!0,o=y}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}var l=!0,h=!1,d=void 0;try{for(var b,v=t.varyingInfos[Symbol.iterator]();!(l=(b=v.next()).done);l=!0){var g=b.value;if(g){var m=N(g);e["out ".concat(m)]=Object(r.a)({},n,JSON.stringify(g.accessor))}}}catch(y){h=!0,d=y}finally{try{l||null==v.return||v.return()}finally{if(h)throw d}}return e}(this.vertexArray.configuration);o.g.table(t,a)(),o.g.table(t,s)(),o.g.table(t+1,d)(),i&&i.log({logLevel:2,message:"Rendered to ".concat(i.id)}),o.g.groupEnd(2,">>> DRAWING MODEL ".concat(this.id))()}}}]),t}()},zXfU:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n("1OyB"),i=n("vuIU"),a=n("md7G"),o=n("foSv"),u=n("Ji7U"),s=n("sYR6"),c=n("a3TU"),f=n("+H0l"),l=n("n+fv"),h=n("sSh/"),d=[0,0,0],b=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(r.a)(this,e),t=Object(a.a)(this,Object(o.a)(e).call(this,-0,-0,-0)),1===arguments.length&&Object(c.e)(n)?t.copy(n):(c.b.debug&&(Object(f.a)(n),Object(f.a)(i),Object(f.a)(u)),t[0]=n,t[1]=i,t[2]=u),t}return Object(u.a)(e,t),Object(i.a)(e,[{key:"set",value:function(t,e,n){return this[0]=t,this[1]=e,this[2]=n,this.check()}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}},{key:"fromObject",value:function(t){return c.b.debug&&(Object(f.a)(t.x),Object(f.a)(t.y),Object(f.a)(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}},{key:"toObject",value:function(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}},{key:"angle",value:function(t){return l.a(this,t)}},{key:"cross",value:function(t){return l.c(this,this,t),this.check()}},{key:"rotateX",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?d:n;return l.j(this,this,r,e),this.check()}},{key:"rotateY",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?d:n;return l.k(this,this,r,e),this.check()}},{key:"rotateZ",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?d:n;return l.l(this,this,r,e),this.check()}},{key:"transform",value:function(t){return this.transformAsPoint(t)}},{key:"transformAsPoint",value:function(t){return l.o(this,this,t),this.check()}},{key:"transformAsVector",value:function(t){return Object(h.c)(this,this,t),this.check()}},{key:"transformByMatrix3",value:function(t){return l.n(this,this,t),this.check()}},{key:"transformByMatrix2",value:function(t){return Object(h.b)(this,this,t),this.check()}},{key:"transformByQuaternion",value:function(t){return l.p(this,this,t),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(t){return this[2]=Object(f.a)(t)}}]),e}(s.a)}}]);